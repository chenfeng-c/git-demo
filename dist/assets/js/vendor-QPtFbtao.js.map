{"version":3,"file":"vendor-QPtFbtao.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../node_modules/zrender/lib/core/env.js","../../../node_modules/zrender/lib/core/platform.js","../../../node_modules/zrender/lib/core/util.js","../../../node_modules/zrender/lib/core/vector.js","../../../node_modules/zrender/lib/mixin/Draggable.js","../../../node_modules/zrender/lib/core/Eventful.js","../../../node_modules/zrender/lib/core/fourPointsTransform.js","../../../node_modules/zrender/lib/core/dom.js","../../../node_modules/zrender/lib/core/event.js","../../../node_modules/zrender/lib/core/GestureMgr.js","../../../node_modules/zrender/lib/core/matrix.js","../../../node_modules/zrender/lib/core/Point.js","../../../node_modules/zrender/lib/core/BoundingRect.js","../../../node_modules/zrender/lib/Handler.js","../../../node_modules/zrender/lib/core/timsort.js","../../../node_modules/zrender/lib/graphic/constants.js","../../../node_modules/zrender/lib/Storage.js","../../../node_modules/zrender/lib/animation/requestAnimationFrame.js","../../../node_modules/zrender/lib/animation/easing.js","../../../node_modules/zrender/lib/core/curve.js","../../../node_modules/zrender/lib/animation/cubicEasing.js","../../../node_modules/zrender/lib/animation/Clip.js","../../../node_modules/zrender/lib/core/LRU.js","../../../node_modules/zrender/lib/tool/color.js","../../../node_modules/zrender/lib/svg/helper.js","../../../node_modules/zrender/lib/animation/Animator.js","../../../node_modules/zrender/lib/animation/Animation.js","../../../node_modules/zrender/lib/dom/HandlerProxy.js","../../../node_modules/zrender/lib/config.js","../../../node_modules/zrender/lib/core/Transformable.js","../../../node_modules/zrender/lib/contain/text.js","../../../node_modules/zrender/lib/Element.js","../../../node_modules/zrender/lib/graphic/Group.js","../../../node_modules/zrender/lib/zrender.js","../../../node_modules/zrender/lib/graphic/helper/image.js","../../../node_modules/zrender/lib/graphic/helper/parseText.js","../../../node_modules/zrender/lib/graphic/Displayable.js","../../../node_modules/zrender/lib/core/bbox.js","../../../node_modules/zrender/lib/core/PathProxy.js","../../../node_modules/zrender/lib/contain/line.js","../../../node_modules/zrender/lib/contain/cubic.js","../../../node_modules/zrender/lib/contain/quadratic.js","../../../node_modules/zrender/lib/contain/util.js","../../../node_modules/zrender/lib/contain/arc.js","../../../node_modules/zrender/lib/contain/windingLine.js","../../../node_modules/zrender/lib/contain/path.js","../../../node_modules/zrender/lib/graphic/Path.js","../../../node_modules/zrender/lib/graphic/TSpan.js","../../../node_modules/zrender/lib/graphic/Image.js","../../../node_modules/zrender/lib/graphic/helper/roundRect.js","../../../node_modules/zrender/lib/graphic/helper/subPixelOptimize.js","../../../node_modules/zrender/lib/graphic/shape/Rect.js","../../../node_modules/zrender/lib/graphic/Text.js","../../../node_modules/zrender/lib/tool/transformPath.js","../../../node_modules/zrender/lib/tool/path.js","../../../node_modules/zrender/lib/graphic/shape/Circle.js","../../../node_modules/zrender/lib/graphic/shape/Ellipse.js","../../../node_modules/zrender/lib/graphic/helper/roundSector.js","../../../node_modules/zrender/lib/graphic/shape/Sector.js","../../../node_modules/zrender/lib/graphic/shape/Ring.js","../../../node_modules/zrender/lib/graphic/helper/smoothBezier.js","../../../node_modules/zrender/lib/graphic/helper/poly.js","../../../node_modules/zrender/lib/graphic/shape/Polygon.js","../../../node_modules/zrender/lib/graphic/shape/Polyline.js","../../../node_modules/zrender/lib/graphic/shape/Line.js","../../../node_modules/zrender/lib/graphic/shape/BezierCurve.js","../../../node_modules/zrender/lib/graphic/shape/Arc.js","../../../node_modules/zrender/lib/graphic/CompoundPath.js","../../../node_modules/zrender/lib/graphic/Gradient.js","../../../node_modules/zrender/lib/graphic/LinearGradient.js","../../../node_modules/zrender/lib/graphic/RadialGradient.js","../../../node_modules/zrender/lib/core/OrientedBoundingRect.js","../../../node_modules/zrender/lib/graphic/IncrementalDisplayable.js","../../../node_modules/zrender/lib/core/WeakMap.js","../../../node_modules/zrender/lib/canvas/helper.js","../../../node_modules/zrender/lib/canvas/dashStyle.js","../../../node_modules/zrender/lib/canvas/graphic.js","../../../node_modules/zrender/lib/contain/polygon.js","../../../node_modules/zrender/lib/svg/SVGPathRebuilder.js","../../../node_modules/zrender/lib/svg/mapStyleToAttrs.js","../../../node_modules/zrender/lib/svg/core.js","../../../node_modules/zrender/lib/svg/cssClassId.js","../../../node_modules/zrender/lib/svg/cssAnimation.js","../../../node_modules/zrender/lib/svg/cssEmphasis.js","../../../node_modules/zrender/lib/svg/graphic.js","../../../node_modules/zrender/lib/svg/domapi.js","../../../node_modules/zrender/lib/svg/patch.js","../../../node_modules/zrender/lib/svg/Painter.js","../../../node_modules/zrender/lib/canvas/Layer.js","../../../node_modules/zrender/lib/canvas/Painter.js","../../../node_modules/zrender/lib/tool/parseXML.js","../../../node_modules/zrender/lib/tool/parseSVG.js","../../../node_modules/zrender/lib/tool/convertPath.js","../../../node_modules/zrender/lib/tool/dividePath.js","../../../node_modules/zrender/lib/tool/morphPath.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var Browser = (function () {\n    function Browser() {\n        this.firefox = false;\n        this.ie = false;\n        this.edge = false;\n        this.newEdge = false;\n        this.weChat = false;\n    }\n    return Browser;\n}());\nvar Env = (function () {\n    function Env() {\n        this.browser = new Browser();\n        this.node = false;\n        this.wxa = false;\n        this.worker = false;\n        this.svgSupported = false;\n        this.touchEventsSupported = false;\n        this.pointerEventsSupported = false;\n        this.domSupported = false;\n        this.transformSupported = false;\n        this.transform3dSupported = false;\n        this.hasGlobalWindow = typeof window !== 'undefined';\n    }\n    return Env;\n}());\nvar env = new Env();\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    env.wxa = true;\n    env.touchEventsSupported = true;\n}\nelse if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    env.worker = true;\n}\nelse if (!env.hasGlobalWindow\n    || 'Deno' in window\n    || (typeof navigator !== 'undefined' && typeof navigator.userAgent === 'string'\n        && navigator.userAgent.indexOf('Node.js') > -1)) {\n    env.node = true;\n    env.svgSupported = true;\n}\nelse {\n    detect(navigator.userAgent, env);\n}\nfunction detect(ua, env) {\n    var browser = env.browser;\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/);\n    var ie = ua.match(/MSIE\\s([\\d.]+)/)\n        || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge?\\/([\\d.]+)/);\n    var weChat = (/micromessenger/i).test(ua);\n    if (firefox) {\n        browser.firefox = true;\n        browser.version = firefox[1];\n    }\n    if (ie) {\n        browser.ie = true;\n        browser.version = ie[1];\n    }\n    if (edge) {\n        browser.edge = true;\n        browser.version = edge[1];\n        browser.newEdge = +edge[1].split('.')[0] > 18;\n    }\n    if (weChat) {\n        browser.weChat = true;\n    }\n    env.svgSupported = typeof SVGRect !== 'undefined';\n    env.touchEventsSupported = 'ontouchstart' in window && !browser.ie && !browser.edge;\n    env.pointerEventsSupported = 'onpointerdown' in window\n        && (browser.edge || (browser.ie && +browser.version >= 11));\n    var domSupported = env.domSupported = typeof document !== 'undefined';\n    if (domSupported) {\n        var style = document.documentElement.style;\n        env.transform3dSupported = ((browser.ie && 'transition' in style)\n            || browser.edge\n            || (('WebKitCSSMatrix' in window) && ('m11' in new WebKitCSSMatrix()))\n            || 'MozPerspective' in style)\n            && !('OTransition' in style);\n        env.transformSupported = env.transform3dSupported\n            || (browser.ie && +browser.version >= 9);\n    }\n}\nexport default env;\n","export var DEFAULT_FONT_SIZE = 12;\nexport var DEFAULT_FONT_FAMILY = 'sans-serif';\nexport var DEFAULT_FONT = DEFAULT_FONT_SIZE + \"px \" + DEFAULT_FONT_FAMILY;\nvar OFFSET = 20;\nvar SCALE = 100;\nvar defaultWidthMapStr = \"007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\\\\\WQb\\\\0FWLg\\\\bWb\\\\WQ\\\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\\\FFF5.5N\";\nfunction getTextWidthMap(mapStr) {\n    var map = {};\n    if (typeof JSON === 'undefined') {\n        return map;\n    }\n    for (var i = 0; i < mapStr.length; i++) {\n        var char = String.fromCharCode(i + 32);\n        var size = (mapStr.charCodeAt(i) - OFFSET) / SCALE;\n        map[char] = size;\n    }\n    return map;\n}\nexport var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr);\nexport var platformApi = {\n    createCanvas: function () {\n        return typeof document !== 'undefined'\n            && document.createElement('canvas');\n    },\n    measureText: (function () {\n        var _ctx;\n        var _cachedFont;\n        return function (text, font) {\n            if (!_ctx) {\n                var canvas = platformApi.createCanvas();\n                _ctx = canvas && canvas.getContext('2d');\n            }\n            if (_ctx) {\n                if (_cachedFont !== font) {\n                    _cachedFont = _ctx.font = font || DEFAULT_FONT;\n                }\n                return _ctx.measureText(text);\n            }\n            else {\n                text = text || '';\n                font = font || DEFAULT_FONT;\n                var res = /((?:\\d+)?\\.?\\d*)px/.exec(font);\n                var fontSize = res && +res[1] || DEFAULT_FONT_SIZE;\n                var width = 0;\n                if (font.indexOf('mono') >= 0) {\n                    width = fontSize * text.length;\n                }\n                else {\n                    for (var i = 0; i < text.length; i++) {\n                        var preCalcWidth = DEFAULT_TEXT_WIDTH_MAP[text[i]];\n                        width += preCalcWidth == null ? fontSize : (preCalcWidth * fontSize);\n                    }\n                }\n                return { width: width };\n            }\n        };\n    })(),\n    loadImage: function (src, onload, onerror) {\n        var image = new Image();\n        image.onload = onload;\n        image.onerror = onerror;\n        image.src = src;\n        return image;\n    }\n};\nexport function setPlatformAPI(newPlatformApis) {\n    for (var key in platformApi) {\n        if (newPlatformApis[key]) {\n            platformApi[key] = newPlatformApis[key];\n        }\n    }\n}\n","import { platformApi } from './platform.js';\nvar BUILTIN_OBJECT = reduce([\n    'Function',\n    'RegExp',\n    'Date',\n    'Error',\n    'CanvasGradient',\n    'CanvasPattern',\n    'Image',\n    'Canvas'\n], function (obj, val) {\n    obj['[object ' + val + ']'] = true;\n    return obj;\n}, {});\nvar TYPED_ARRAY = reduce([\n    'Int8',\n    'Uint8',\n    'Uint8Clamped',\n    'Int16',\n    'Uint16',\n    'Int32',\n    'Uint32',\n    'Float32',\n    'Float64'\n], function (obj, val) {\n    obj['[object ' + val + 'Array]'] = true;\n    return obj;\n}, {});\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar ctorFunction = function () { }.constructor;\nvar protoFunction = ctorFunction ? ctorFunction.prototype : null;\nvar protoKey = '__proto__';\nvar idStart = 0x0907;\nexport function guid() {\n    return idStart++;\n}\nexport function logError() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (typeof console !== 'undefined') {\n        console.error.apply(console, args);\n    }\n}\nexport function clone(source) {\n    if (source == null || typeof source !== 'object') {\n        return source;\n    }\n    var result = source;\n    var typeStr = objToString.call(source);\n    if (typeStr === '[object Array]') {\n        if (!isPrimitive(source)) {\n            result = [];\n            for (var i = 0, len = source.length; i < len; i++) {\n                result[i] = clone(source[i]);\n            }\n        }\n    }\n    else if (TYPED_ARRAY[typeStr]) {\n        if (!isPrimitive(source)) {\n            var Ctor = source.constructor;\n            if (Ctor.from) {\n                result = Ctor.from(source);\n            }\n            else {\n                result = new Ctor(source.length);\n                for (var i = 0, len = source.length; i < len; i++) {\n                    result[i] = source[i];\n                }\n            }\n        }\n    }\n    else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n        result = {};\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                result[key] = clone(source[key]);\n            }\n        }\n    }\n    return result;\n}\nexport function merge(target, source, overwrite) {\n    if (!isObject(source) || !isObject(target)) {\n        return overwrite ? clone(source) : target;\n    }\n    for (var key in source) {\n        if (source.hasOwnProperty(key) && key !== protoKey) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n            if (isObject(sourceProp)\n                && isObject(targetProp)\n                && !isArray(sourceProp)\n                && !isArray(targetProp)\n                && !isDom(sourceProp)\n                && !isDom(targetProp)\n                && !isBuiltInObject(sourceProp)\n                && !isBuiltInObject(targetProp)\n                && !isPrimitive(sourceProp)\n                && !isPrimitive(targetProp)) {\n                merge(targetProp, sourceProp, overwrite);\n            }\n            else if (overwrite || !(key in target)) {\n                target[key] = clone(source[key]);\n            }\n        }\n    }\n    return target;\n}\nexport function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n        result = merge(result, targetAndSources[i], overwrite);\n    }\n    return result;\n}\nexport function extend(target, source) {\n    if (Object.assign) {\n        Object.assign(target, source);\n    }\n    else {\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\nexport function defaults(target, source, overlay) {\n    var keysArr = keys(source);\n    for (var i = 0, len = keysArr.length; i < len; i++) {\n        var key = keysArr[i];\n        if ((overlay ? source[key] != null : target[key] == null)) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nexport var createCanvas = platformApi.createCanvas;\nexport function indexOf(array, value) {\n    if (array) {\n        if (array.indexOf) {\n            return array.indexOf(value);\n        }\n        for (var i = 0, len = array.length; i < len; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\nexport function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n    function F() { }\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n    for (var prop in clazzPrototype) {\n        if (clazzPrototype.hasOwnProperty(prop)) {\n            clazz.prototype[prop] = clazzPrototype[prop];\n        }\n    }\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n}\nexport function mixin(target, source, override) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    if (Object.getOwnPropertyNames) {\n        var keyList = Object.getOwnPropertyNames(source);\n        for (var i = 0; i < keyList.length; i++) {\n            var key = keyList[i];\n            if (key !== 'constructor') {\n                if ((override ? source[key] != null : target[key] == null)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n    }\n    else {\n        defaults(target, source, override);\n    }\n}\nexport function isArrayLike(data) {\n    if (!data) {\n        return false;\n    }\n    if (typeof data === 'string') {\n        return false;\n    }\n    return typeof data.length === 'number';\n}\nexport function each(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    if (arr.forEach && arr.forEach === nativeForEach) {\n        arr.forEach(cb, context);\n    }\n    else if (arr.length === +arr.length) {\n        for (var i = 0, len = arr.length; i < len; i++) {\n            cb.call(context, arr[i], i, arr);\n        }\n    }\n    else {\n        for (var key in arr) {\n            if (arr.hasOwnProperty(key)) {\n                cb.call(context, arr[key], key, arr);\n            }\n        }\n    }\n}\nexport function map(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.map && arr.map === nativeMap) {\n        return arr.map(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            result.push(cb.call(context, arr[i], i, arr));\n        }\n        return result;\n    }\n}\nexport function reduce(arr, cb, memo, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        memo = cb.call(context, memo, arr[i], i, arr);\n    }\n    return memo;\n}\nexport function filter(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.filter && arr.filter === nativeFilter) {\n        return arr.filter(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            if (cb.call(context, arr[i], i, arr)) {\n                result.push(arr[i]);\n            }\n        }\n        return result;\n    }\n}\nexport function find(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (cb.call(context, arr[i], i, arr)) {\n            return arr[i];\n        }\n    }\n}\nexport function keys(obj) {\n    if (!obj) {\n        return [];\n    }\n    if (Object.keys) {\n        return Object.keys(obj);\n    }\n    var keyList = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keyList.push(key);\n        }\n    }\n    return keyList;\n}\nfunction bindPolyfill(func, context) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return function () {\n        return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport var bind = (protoFunction && isFunction(protoFunction.bind))\n    ? protoFunction.call.bind(protoFunction.bind)\n    : bindPolyfill;\nfunction curry(func) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return function () {\n        return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport { curry };\nexport function isArray(value) {\n    if (Array.isArray) {\n        return Array.isArray(value);\n    }\n    return objToString.call(value) === '[object Array]';\n}\nexport function isFunction(value) {\n    return typeof value === 'function';\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nexport function isStringSafe(value) {\n    return objToString.call(value) === '[object String]';\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function isObject(value) {\n    var type = typeof value;\n    return type === 'function' || (!!value && type === 'object');\n}\nexport function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n}\nexport function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n}\nexport function isDom(value) {\n    return typeof value === 'object'\n        && typeof value.nodeType === 'number'\n        && typeof value.ownerDocument === 'object';\n}\nexport function isGradientObject(value) {\n    return value.colorStops != null;\n}\nexport function isImagePatternObject(value) {\n    return value.image != null;\n}\nexport function isRegExp(value) {\n    return objToString.call(value) === '[object RegExp]';\n}\nexport function eqNaN(value) {\n    return value !== value;\n}\nexport function retrieve() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0, len = args.length; i < len; i++) {\n        if (args[i] != null) {\n            return args[i];\n        }\n    }\n}\nexport function retrieve2(value0, value1) {\n    return value0 != null\n        ? value0\n        : value1;\n}\nexport function retrieve3(value0, value1, value2) {\n    return value0 != null\n        ? value0\n        : value1 != null\n            ? value1\n            : value2;\n}\nexport function slice(arr) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return nativeSlice.apply(arr, args);\n}\nexport function normalizeCssArray(val) {\n    if (typeof (val) === 'number') {\n        return [val, val, val, val];\n    }\n    var len = val.length;\n    if (len === 2) {\n        return [val[0], val[1], val[0], val[1]];\n    }\n    else if (len === 3) {\n        return [val[0], val[1], val[2], val[1]];\n    }\n    return val;\n}\nexport function assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\nexport function trim(str) {\n    if (str == null) {\n        return null;\n    }\n    else if (typeof str.trim === 'function') {\n        return str.trim();\n    }\n    else {\n        return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n}\nvar primitiveKey = '__ec_primitive__';\nexport function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n}\nexport function isPrimitive(obj) {\n    return obj[primitiveKey];\n}\nvar MapPolyfill = (function () {\n    function MapPolyfill() {\n        this.data = {};\n    }\n    MapPolyfill.prototype[\"delete\"] = function (key) {\n        var existed = this.has(key);\n        if (existed) {\n            delete this.data[key];\n        }\n        return existed;\n    };\n    MapPolyfill.prototype.has = function (key) {\n        return this.data.hasOwnProperty(key);\n    };\n    MapPolyfill.prototype.get = function (key) {\n        return this.data[key];\n    };\n    MapPolyfill.prototype.set = function (key, value) {\n        this.data[key] = value;\n        return this;\n    };\n    MapPolyfill.prototype.keys = function () {\n        return keys(this.data);\n    };\n    MapPolyfill.prototype.forEach = function (callback) {\n        var data = this.data;\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                callback(data[key], key);\n            }\n        }\n    };\n    return MapPolyfill;\n}());\nvar isNativeMapSupported = typeof Map === 'function';\nfunction maybeNativeMap() {\n    return (isNativeMapSupported ? new Map() : new MapPolyfill());\n}\nvar HashMap = (function () {\n    function HashMap(obj) {\n        var isArr = isArray(obj);\n        this.data = maybeNativeMap();\n        var thisMap = this;\n        (obj instanceof HashMap)\n            ? obj.each(visit)\n            : (obj && each(obj, visit));\n        function visit(value, key) {\n            isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n        }\n    }\n    HashMap.prototype.hasKey = function (key) {\n        return this.data.has(key);\n    };\n    HashMap.prototype.get = function (key) {\n        return this.data.get(key);\n    };\n    HashMap.prototype.set = function (key, value) {\n        this.data.set(key, value);\n        return value;\n    };\n    HashMap.prototype.each = function (cb, context) {\n        this.data.forEach(function (value, key) {\n            cb.call(context, value, key);\n        });\n    };\n    HashMap.prototype.keys = function () {\n        var keys = this.data.keys();\n        return isNativeMapSupported\n            ? Array.from(keys)\n            : keys;\n    };\n    HashMap.prototype.removeKey = function (key) {\n        this.data[\"delete\"](key);\n    };\n    return HashMap;\n}());\nexport { HashMap };\nexport function createHashMap(obj) {\n    return new HashMap(obj);\n}\nexport function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n    for (var i = 0; i < a.length; i++) {\n        newArray[i] = a[i];\n    }\n    var offset = a.length;\n    for (var i = 0; i < b.length; i++) {\n        newArray[i + offset] = b[i];\n    }\n    return newArray;\n}\nexport function createObject(proto, properties) {\n    var obj;\n    if (Object.create) {\n        obj = Object.create(proto);\n    }\n    else {\n        var StyleCtor = function () { };\n        StyleCtor.prototype = proto;\n        obj = new StyleCtor();\n    }\n    if (properties) {\n        extend(obj, properties);\n    }\n    return obj;\n}\nexport function disableUserSelect(dom) {\n    var domStyle = dom.style;\n    domStyle.webkitUserSelect = 'none';\n    domStyle.userSelect = 'none';\n    domStyle.webkitTapHighlightColor = 'rgba(0,0,0,0)';\n    domStyle['-webkit-touch-callout'] = 'none';\n}\nexport function hasOwn(own, prop) {\n    return own.hasOwnProperty(prop);\n}\nexport function noop() { }\nexport var RADIAN_TO_DEGREE = 180 / Math.PI;\nexport var EPSILON = Number.EPSILON || Math.pow(2, -52);\n","export function create(x, y) {\n    if (x == null) {\n        x = 0;\n    }\n    if (y == null) {\n        y = 0;\n    }\n    return [x, y];\n}\nexport function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n}\nexport function clone(v) {\n    return [v[0], v[1]];\n}\nexport function set(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n}\nexport function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n}\nexport function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n}\nexport function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n}\nexport function len(v) {\n    return Math.sqrt(lenSquare(v));\n}\nexport var length = len;\nexport function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n}\nexport var lengthSquare = lenSquare;\nexport function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n}\nexport function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n}\nexport function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n}\nexport function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n}\nexport function normalize(out, v) {\n    var d = len(v);\n    if (d === 0) {\n        out[0] = 0;\n        out[1] = 0;\n    }\n    else {\n        out[0] = v[0] / d;\n        out[1] = v[1] / d;\n    }\n    return out;\n}\nexport function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\nexport var dist = distance;\nexport function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\nexport var distSquare = distanceSquare;\nexport function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n}\nexport function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n}\nexport function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\nexport function min(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n}\nexport function max(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n}\n","var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n","var Eventful = (function () {\n    function Eventful(eventProcessors) {\n        if (eventProcessors) {\n            this._$eventProcessor = eventProcessors;\n        }\n    }\n    Eventful.prototype.on = function (event, query, handler, context) {\n        if (!this._$handlers) {\n            this._$handlers = {};\n        }\n        var _h = this._$handlers;\n        if (typeof query === 'function') {\n            context = handler;\n            handler = query;\n            query = null;\n        }\n        if (!handler || !event) {\n            return this;\n        }\n        var eventProcessor = this._$eventProcessor;\n        if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n            query = eventProcessor.normalizeQuery(query);\n        }\n        if (!_h[event]) {\n            _h[event] = [];\n        }\n        for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n                return this;\n            }\n        }\n        var wrap = {\n            h: handler,\n            query: query,\n            ctx: (context || this),\n            callAtLast: handler.zrEventfulCallAtLast\n        };\n        var lastIndex = _h[event].length - 1;\n        var lastWrap = _h[event][lastIndex];\n        (lastWrap && lastWrap.callAtLast)\n            ? _h[event].splice(lastIndex, 0, wrap)\n            : _h[event].push(wrap);\n        return this;\n    };\n    Eventful.prototype.isSilent = function (eventName) {\n        var _h = this._$handlers;\n        return !_h || !_h[eventName] || !_h[eventName].length;\n    };\n    Eventful.prototype.off = function (eventType, handler) {\n        var _h = this._$handlers;\n        if (!_h) {\n            return this;\n        }\n        if (!eventType) {\n            this._$handlers = {};\n            return this;\n        }\n        if (handler) {\n            if (_h[eventType]) {\n                var newList = [];\n                for (var i = 0, l = _h[eventType].length; i < l; i++) {\n                    if (_h[eventType][i].h !== handler) {\n                        newList.push(_h[eventType][i]);\n                    }\n                }\n                _h[eventType] = newList;\n            }\n            if (_h[eventType] && _h[eventType].length === 0) {\n                delete _h[eventType];\n            }\n        }\n        else {\n            delete _h[eventType];\n        }\n        return this;\n    };\n    Eventful.prototype.trigger = function (eventType) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[eventType];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(eventType, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(hItem.ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(hItem.ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(hItem.ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(hItem.ctx, args);\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(eventType);\n        return this;\n    };\n    Eventful.prototype.triggerWithContext = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[type];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var ctx = args[argLen - 1];\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(type, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(ctx, args.slice(1, argLen - 1));\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(type);\n        return this;\n    };\n    return Eventful;\n}());\nexport default Eventful;\n","var LN2 = Math.log(2);\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n    if (detCache.hasOwnProperty(cacheKey)) {\n        return detCache[cacheKey];\n    }\n    if (rank === 1) {\n        var colStart = Math.round(Math.log(((1 << fullRank) - 1) & ~colMask) / LN2);\n        return rows[rowStart][colStart];\n    }\n    var subRowMask = rowMask | (1 << rowStart);\n    var subRowStart = rowStart + 1;\n    while (rowMask & (1 << subRowStart)) {\n        subRowStart++;\n    }\n    var sum = 0;\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n        var colTag = 1 << j;\n        if (!(colTag & colMask)) {\n            sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j]\n                * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n            colLocalIdx++;\n        }\n    }\n    detCache[cacheKey] = sum;\n    return sum;\n}\nexport function buildTransformer(src, dest) {\n    var mA = [\n        [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],\n        [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],\n        [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],\n        [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],\n        [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],\n        [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],\n        [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],\n        [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]\n    ];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n    if (det === 0) {\n        return;\n    }\n    var vh = [];\n    for (var i = 0; i < 8; i++) {\n        for (var j = 0; j < 8; j++) {\n            vh[j] == null && (vh[j] = 0);\n            vh[j] += ((i + j) % 2 ? -1 : 1)\n                * determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache)\n                / det * dest[i];\n        }\n    }\n    return function (out, srcPointX, srcPointY) {\n        var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n        out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n        out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n}\n","import env from './env.js';\nimport { buildTransformer } from './fourPointsTransform.js';\nimport { each } from './util.js';\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\nexport function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true)\n        && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\nexport function transformLocalCoordClear(elFrom, elTarget) {\n    elFrom && dealClear(elFrom);\n    elTarget && dealClear(elTarget);\n    function dealClear(el) {\n        var saved = el[EVENT_SAVED_PROP];\n        if (saved) {\n            saved.clearMarkers && saved.clearMarkers();\n            delete el[EVENT_SAVED_PROP];\n        }\n    }\n}\nexport function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n        var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n        var markers = prepareCoordMarkers(el, saved);\n        var transformer = preparePointerTransformer(markers, saved, inverse);\n        if (transformer) {\n            transformer(out, inX, inY);\n            return true;\n        }\n    }\n    return false;\n}\nfunction prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n    if (markers) {\n        return markers;\n    }\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n    for (var i = 0; i < 4; i++) {\n        var marker = document.createElement('div');\n        var stl = marker.style;\n        var idxLR = i % 2;\n        var idxTB = (i >> 1) % 2;\n        stl.cssText = [\n            'position: absolute',\n            'visibility: hidden',\n            'padding: 0',\n            'margin: 0',\n            'border-width: 0',\n            'user-select: none',\n            'width:0',\n            'height:0',\n            propLR[idxLR] + ':0',\n            propTB[idxTB] + ':0',\n            propLR[1 - idxLR] + ':auto',\n            propTB[1 - idxTB] + ':auto',\n            ''\n        ].join('!important;');\n        el.appendChild(marker);\n        markers.push(marker);\n    }\n    saved.clearMarkers = function () {\n        each(markers, function (marker) {\n            marker.parentNode && marker.parentNode.removeChild(marker);\n        });\n    };\n    return markers;\n}\nfunction preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var srcCoords = [];\n    var destCoords = [];\n    var oldCoordTheSame = true;\n    for (var i = 0; i < 4; i++) {\n        var rect = markers[i].getBoundingClientRect();\n        var ii = 2 * i;\n        var x = rect.left;\n        var y = rect.top;\n        srcCoords.push(x, y);\n        oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n        destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    }\n    return (oldCoordTheSame && transformer)\n        ? transformer\n        : (saved.srcCoords = srcCoords,\n            saved[transformerName] = inverse\n                ? buildTransformer(destCoords, srcCoords)\n                : buildTransformer(srcCoords, destCoords));\n}\nexport function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n}\nvar replaceReg = /([&<>\"'])/g;\nvar replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n};\nexport function encodeHTML(source) {\n    return source == null\n        ? ''\n        : (source + '').replace(replaceReg, function (str, c) {\n            return replaceMap[c];\n        });\n}\n","import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n","import * as eventUtil from './event.js';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n","export function create() {\n    return [1, 0, 0, 1, 0, 0];\n}\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\nexport function copy(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n}\nexport function mul(out, m1, m2) {\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n}\nexport function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n}\nexport function rotate(out, a, rad, pivot) {\n    if (pivot === void 0) { pivot = [0, 0]; }\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * (atx - pivot[0]) + st * (aty - pivot[1]) + pivot[0];\n    out[5] = ct * (aty - pivot[1]) - st * (atx - pivot[0]) + pivot[1];\n    return out;\n}\nexport function scale(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n}\nexport function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n}\nexport function clone(a) {\n    var b = create();\n    copy(b, a);\n    return b;\n}\n","var Point = (function () {\n    function Point(x, y) {\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n    Point.prototype.copy = function (other) {\n        this.x = other.x;\n        this.y = other.y;\n        return this;\n    };\n    Point.prototype.clone = function () {\n        return new Point(this.x, this.y);\n    };\n    Point.prototype.set = function (x, y) {\n        this.x = x;\n        this.y = y;\n        return this;\n    };\n    Point.prototype.equal = function (other) {\n        return other.x === this.x && other.y === this.y;\n    };\n    Point.prototype.add = function (other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    };\n    Point.prototype.scale = function (scalar) {\n        this.x *= scalar;\n        this.y *= scalar;\n    };\n    Point.prototype.scaleAndAdd = function (other, scalar) {\n        this.x += other.x * scalar;\n        this.y += other.y * scalar;\n    };\n    Point.prototype.sub = function (other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this;\n    };\n    Point.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y;\n    };\n    Point.prototype.len = function () {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    };\n    Point.prototype.lenSquare = function () {\n        return this.x * this.x + this.y * this.y;\n    };\n    Point.prototype.normalize = function () {\n        var len = this.len();\n        this.x /= len;\n        this.y /= len;\n        return this;\n    };\n    Point.prototype.distance = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    Point.prototype.distanceSquare = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return dx * dx + dy * dy;\n    };\n    Point.prototype.negate = function () {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    };\n    Point.prototype.transform = function (m) {\n        if (!m) {\n            return;\n        }\n        var x = this.x;\n        var y = this.y;\n        this.x = m[0] * x + m[2] * y + m[4];\n        this.y = m[1] * x + m[3] * y + m[5];\n        return this;\n    };\n    Point.prototype.toArray = function (out) {\n        out[0] = this.x;\n        out[1] = this.y;\n        return out;\n    };\n    Point.prototype.fromArray = function (input) {\n        this.x = input[0];\n        this.y = input[1];\n    };\n    Point.set = function (p, x, y) {\n        p.x = x;\n        p.y = y;\n    };\n    Point.copy = function (p, p2) {\n        p.x = p2.x;\n        p.y = p2.y;\n    };\n    Point.len = function (p) {\n        return Math.sqrt(p.x * p.x + p.y * p.y);\n    };\n    Point.lenSquare = function (p) {\n        return p.x * p.x + p.y * p.y;\n    };\n    Point.dot = function (p0, p1) {\n        return p0.x * p1.x + p0.y * p1.y;\n    };\n    Point.add = function (out, p0, p1) {\n        out.x = p0.x + p1.x;\n        out.y = p0.y + p1.y;\n    };\n    Point.sub = function (out, p0, p1) {\n        out.x = p0.x - p1.x;\n        out.y = p0.y - p1.y;\n    };\n    Point.scale = function (out, p0, scalar) {\n        out.x = p0.x * scalar;\n        out.y = p0.y * scalar;\n    };\n    Point.scaleAndAdd = function (out, p0, p1, scalar) {\n        out.x = p0.x + p1.x * scalar;\n        out.y = p0.y + p1.y * scalar;\n    };\n    Point.lerp = function (out, p0, p1, t) {\n        var onet = 1 - t;\n        out.x = onet * p0.x + t * p1.x;\n        out.y = onet * p0.y + t * p1.y;\n    };\n    return Point;\n}());\nexport default Point;\n","import * as matrix from './matrix.js';\nimport Point from './Point.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathAbs = Math.abs;\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar lt = new Point();\nvar rb = new Point();\nvar lb = new Point();\nvar rt = new Point();\nvar _intersectCtx = createIntersectContext();\nvar _minTv = _intersectCtx.minTv;\nvar _maxTv = _intersectCtx.maxTv;\nvar _lenMinMax = [0, 0];\nvar BoundingRect = (function () {\n    function BoundingRect(x, y, width, height) {\n        BoundingRect.set(this, x, y, width, height);\n    }\n    BoundingRect.set = function (target, x, y, width, height) {\n        if (width < 0) {\n            x = x + width;\n            width = -width;\n        }\n        if (height < 0) {\n            y = y + height;\n            height = -height;\n        }\n        target.x = x;\n        target.y = y;\n        target.width = width;\n        target.height = height;\n        return target;\n    };\n    BoundingRect.prototype.union = function (other) {\n        var x = mathMin(other.x, this.x);\n        var y = mathMin(other.y, this.y);\n        if (isFinite(this.x) && isFinite(this.width)) {\n            this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n        }\n        else {\n            this.width = other.width;\n        }\n        if (isFinite(this.y) && isFinite(this.height)) {\n            this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n        }\n        else {\n            this.height = other.height;\n        }\n        this.x = x;\n        this.y = y;\n    };\n    BoundingRect.prototype.applyTransform = function (m) {\n        BoundingRect.applyTransform(this, this, m);\n    };\n    BoundingRect.prototype.calculateTransform = function (b) {\n        var a = this;\n        var sx = b.width / a.width;\n        var sy = b.height / a.height;\n        var m = matrix.create();\n        matrix.translate(m, m, [-a.x, -a.y]);\n        matrix.scale(m, m, [sx, sy]);\n        matrix.translate(m, m, [b.x, b.y]);\n        return m;\n    };\n    BoundingRect.prototype.intersect = function (b, mtv, opt) {\n        return BoundingRect.intersect(this, b, mtv, opt);\n    };\n    BoundingRect.intersect = function (a, b, mtv, opt) {\n        if (mtv) {\n            Point.set(mtv, 0, 0);\n        }\n        var outIntersectRect = opt && opt.outIntersectRect || null;\n        var clamp = opt && opt.clamp;\n        if (outIntersectRect) {\n            outIntersectRect.x = outIntersectRect.y = outIntersectRect.width = outIntersectRect.height = NaN;\n        }\n        if (!a || !b) {\n            return false;\n        }\n        if (!(a instanceof BoundingRect)) {\n            a = BoundingRect.set(_tmpIntersectA, a.x, a.y, a.width, a.height);\n        }\n        if (!(b instanceof BoundingRect)) {\n            b = BoundingRect.set(_tmpIntersectB, b.x, b.y, b.width, b.height);\n        }\n        var useMTV = !!mtv;\n        _intersectCtx.reset(opt, useMTV);\n        var touchThreshold = _intersectCtx.touchThreshold;\n        var ax0 = a.x + touchThreshold;\n        var ax1 = a.x + a.width - touchThreshold;\n        var ay0 = a.y + touchThreshold;\n        var ay1 = a.y + a.height - touchThreshold;\n        var bx0 = b.x + touchThreshold;\n        var bx1 = b.x + b.width - touchThreshold;\n        var by0 = b.y + touchThreshold;\n        var by1 = b.y + b.height - touchThreshold;\n        if (ax0 > ax1 || ay0 > ay1 || bx0 > bx1 || by0 > by1) {\n            return false;\n        }\n        var overlap = !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n        if (useMTV || outIntersectRect) {\n            _lenMinMax[0] = Infinity;\n            _lenMinMax[1] = 0;\n            intersectOneDim(ax0, ax1, bx0, bx1, 0, useMTV, outIntersectRect, clamp);\n            intersectOneDim(ay0, ay1, by0, by1, 1, useMTV, outIntersectRect, clamp);\n            if (useMTV) {\n                Point.copy(mtv, overlap\n                    ? (_intersectCtx.useDir ? _intersectCtx.dirMinTv : _minTv)\n                    : _maxTv);\n            }\n        }\n        return overlap;\n    };\n    BoundingRect.contain = function (rect, x, y) {\n        return x >= rect.x\n            && x <= (rect.x + rect.width)\n            && y >= rect.y\n            && y <= (rect.y + rect.height);\n    };\n    BoundingRect.prototype.contain = function (x, y) {\n        return BoundingRect.contain(this, x, y);\n    };\n    BoundingRect.prototype.clone = function () {\n        return new BoundingRect(this.x, this.y, this.width, this.height);\n    };\n    BoundingRect.prototype.copy = function (other) {\n        BoundingRect.copy(this, other);\n    };\n    BoundingRect.prototype.plain = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height\n        };\n    };\n    BoundingRect.prototype.isFinite = function () {\n        return isFinite(this.x)\n            && isFinite(this.y)\n            && isFinite(this.width)\n            && isFinite(this.height);\n    };\n    BoundingRect.prototype.isZero = function () {\n        return this.width === 0 || this.height === 0;\n    };\n    BoundingRect.create = function (rect) {\n        return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n    };\n    BoundingRect.copy = function (target, source) {\n        target.x = source.x;\n        target.y = source.y;\n        target.width = source.width;\n        target.height = source.height;\n        return target;\n    };\n    BoundingRect.applyTransform = function (target, source, m) {\n        if (!m) {\n            if (target !== source) {\n                BoundingRect.copy(target, source);\n            }\n            return;\n        }\n        if (m[1] < 1e-5 && m[1] > -1e-5 && m[2] < 1e-5 && m[2] > -1e-5) {\n            var sx = m[0];\n            var sy = m[3];\n            var tx = m[4];\n            var ty = m[5];\n            target.x = source.x * sx + tx;\n            target.y = source.y * sy + ty;\n            target.width = source.width * sx;\n            target.height = source.height * sy;\n            if (target.width < 0) {\n                target.x += target.width;\n                target.width = -target.width;\n            }\n            if (target.height < 0) {\n                target.y += target.height;\n                target.height = -target.height;\n            }\n            return;\n        }\n        lt.x = lb.x = source.x;\n        lt.y = rt.y = source.y;\n        rb.x = rt.x = source.x + source.width;\n        rb.y = lb.y = source.y + source.height;\n        lt.transform(m);\n        rt.transform(m);\n        rb.transform(m);\n        lb.transform(m);\n        target.x = mathMin(lt.x, rb.x, lb.x, rt.x);\n        target.y = mathMin(lt.y, rb.y, lb.y, rt.y);\n        var maxX = mathMax(lt.x, rb.x, lb.x, rt.x);\n        var maxY = mathMax(lt.y, rb.y, lb.y, rt.y);\n        target.width = maxX - target.x;\n        target.height = maxY - target.y;\n    };\n    return BoundingRect;\n}());\nvar _tmpIntersectA = new BoundingRect(0, 0, 0, 0);\nvar _tmpIntersectB = new BoundingRect(0, 0, 0, 0);\nfunction intersectOneDim(a0, a1, b0, b1, updateDimIdx, useMTV, outIntersectRect, clamp) {\n    var d0 = mathAbs(a1 - b0);\n    var d1 = mathAbs(b1 - a0);\n    var d01min = mathMin(d0, d1);\n    var updateDim = XY[updateDimIdx];\n    var zeroDim = XY[1 - updateDimIdx];\n    var wh = WH[updateDimIdx];\n    if (a1 < b0 || b1 < a0) {\n        if (d0 < d1) {\n            if (useMTV) {\n                _maxTv[updateDim] = -d0;\n            }\n            if (clamp) {\n                outIntersectRect[updateDim] = a1;\n                outIntersectRect[wh] = 0;\n            }\n        }\n        else {\n            if (useMTV) {\n                _maxTv[updateDim] = d1;\n            }\n            if (clamp) {\n                outIntersectRect[updateDim] = a0;\n                outIntersectRect[wh] = 0;\n            }\n        }\n    }\n    else {\n        if (outIntersectRect) {\n            outIntersectRect[updateDim] = mathMax(a0, b0);\n            outIntersectRect[wh] = mathMin(a1, b1) - outIntersectRect[updateDim];\n        }\n        if (useMTV) {\n            if (d01min < _lenMinMax[0] || _intersectCtx.useDir) {\n                _lenMinMax[0] = mathMin(d01min, _lenMinMax[0]);\n                if (d0 < d1 || !_intersectCtx.bidirectional) {\n                    _minTv[updateDim] = d0;\n                    _minTv[zeroDim] = 0;\n                    if (_intersectCtx.useDir) {\n                        _intersectCtx.calcDirMTV();\n                    }\n                }\n                if (d0 >= d1 || !_intersectCtx.bidirectional) {\n                    _minTv[updateDim] = -d1;\n                    _minTv[zeroDim] = 0;\n                    if (_intersectCtx.useDir) {\n                        _intersectCtx.calcDirMTV();\n                    }\n                }\n            }\n        }\n    }\n}\nexport function createIntersectContext() {\n    var _direction = 0;\n    var _dirCheckVec = new Point();\n    var _dirTmp = new Point();\n    var _ctx = {\n        minTv: new Point(),\n        maxTv: new Point(),\n        useDir: false,\n        dirMinTv: new Point(),\n        touchThreshold: 0,\n        bidirectional: true,\n        negativeSize: false,\n        reset: function (opt, useMTV) {\n            _ctx.touchThreshold = 0;\n            if (opt && opt.touchThreshold != null) {\n                _ctx.touchThreshold = mathMax(0, opt.touchThreshold);\n            }\n            _ctx.negativeSize = false;\n            if (!useMTV) {\n                return;\n            }\n            _ctx.minTv.set(Infinity, Infinity);\n            _ctx.maxTv.set(0, 0);\n            _ctx.useDir = false;\n            if (opt && opt.direction != null) {\n                _ctx.useDir = true;\n                _ctx.dirMinTv.copy(_ctx.minTv);\n                _dirTmp.copy(_ctx.minTv);\n                _direction = opt.direction;\n                _ctx.bidirectional = opt.bidirectional == null || !!opt.bidirectional;\n                if (!_ctx.bidirectional) {\n                    _dirCheckVec.set(Math.cos(_direction), Math.sin(_direction));\n                }\n            }\n        },\n        calcDirMTV: function () {\n            var minTv = _ctx.minTv;\n            var dirMinTv = _ctx.dirMinTv;\n            var squareMag = minTv.y * minTv.y + minTv.x * minTv.x;\n            var dirSin = Math.sin(_direction);\n            var dirCos = Math.cos(_direction);\n            var dotProd = dirSin * minTv.y + dirCos * minTv.x;\n            if (nearZero(dotProd)) {\n                if (nearZero(minTv.x) && nearZero(minTv.y)) {\n                    dirMinTv.set(0, 0);\n                }\n                return;\n            }\n            _dirTmp.x = squareMag * dirCos / dotProd;\n            _dirTmp.y = squareMag * dirSin / dotProd;\n            if (nearZero(_dirTmp.x) && nearZero(_dirTmp.y)) {\n                dirMinTv.set(0, 0);\n                return;\n            }\n            if ((_ctx.bidirectional\n                || _dirCheckVec.dot(_dirTmp) > 0)\n                && _dirTmp.len() < dirMinTv.len()) {\n                dirMinTv.copy(_dirTmp);\n            }\n        }\n    };\n    function nearZero(val) {\n        return mathAbs(val) < 1e-10;\n    }\n    return _ctx;\n}\nexport default BoundingRect;\n","import { __extends } from \"tslib\";\nimport * as util from './core/util.js';\nimport * as vec2 from './core/vector.js';\nimport Draggable from './mixin/Draggable.js';\nimport Eventful from './core/Eventful.js';\nimport * as eventTool from './core/event.js';\nimport { GestureMgr } from './core/GestureMgr.js';\nimport BoundingRect from './core/BoundingRect.js';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot, pointerSize) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        _this._pointerSize = pointerSize;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        setHoverTarget(list, out, x, y, exclude);\n        if (this._pointerSize && !out.target) {\n            var candidates = [];\n            var pointerSize = this._pointerSize;\n            var targetSizeHalf = pointerSize / 2;\n            var pointerRect = new BoundingRect(x - targetSizeHalf, y - targetSizeHalf, pointerSize, pointerSize);\n            for (var i = list.length - 1; i >= 0; i--) {\n                var el = list[i];\n                if (el !== exclude\n                    && !el.ignore\n                    && !el.ignoreCoarsePointer\n                    && (!el.parent || !el.parent.ignoreCoarsePointer)) {\n                    tmpRect.copy(el.getBoundingRect());\n                    if (el.transform) {\n                        tmpRect.applyTransform(el.transform);\n                    }\n                    if (tmpRect.intersect(pointerRect)) {\n                        candidates.push(el);\n                    }\n                }\n            }\n            if (candidates.length) {\n                var rStep = 4;\n                var thetaStep = Math.PI / 12;\n                var PI2 = Math.PI * 2;\n                for (var r = 0; r < targetSizeHalf; r += rStep) {\n                    for (var theta = 0; theta < PI2; theta += thetaStep) {\n                        var x1 = x + r * Math.cos(theta);\n                        var y1 = y + r * Math.sin(theta);\n                        setHoverTarget(candidates, out, x1, y1, exclude);\n                        if (out.target) {\n                            return out;\n                        }\n                    }\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n            }\n            if (el.silent) {\n                isSilent = true;\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? (el.ignoreHostSilent ? null : hostEl) : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction setHoverTarget(list, out, x, y, exclude) {\n    for (var i = list.length - 1; i >= 0; i--) {\n        var el = list[i];\n        var hoverCheckResult = void 0;\n        if (el !== exclude\n            && !el.ignore\n            && (hoverCheckResult = isHover(el, x, y))) {\n            !out.topTarget && (out.topTarget = el);\n            if (hoverCheckResult !== SILENT) {\n                out.target = el;\n                break;\n            }\n        }\n    }\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n","var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n","export var REDRAW_BIT = 1;\nexport var STYLE_CHANGED_BIT = 2;\nexport var SHAPE_CHANGED_BIT = 4;\n","import * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, parentClipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        var parentHasClipPaths = parentClipPaths && parentClipPaths.length;\n        var clipPathIdx = 0;\n        var thisClipPaths = el.__clipPaths;\n        if (!el.ignoreClip\n            && (parentHasClipPaths || userSetClipPath)) {\n            if (!thisClipPaths) {\n                thisClipPaths = el.__clipPaths = [];\n            }\n            if (parentHasClipPaths) {\n                for (var idx = 0; idx < parentClipPaths.length; idx++) {\n                    thisClipPaths[clipPathIdx++] = parentClipPaths[idx];\n                }\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                thisClipPaths[clipPathIdx++] = currentClipPath;\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (thisClipPaths) {\n            thisClipPaths.length = clipPathIdx;\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDRAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, thisClipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, thisClipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, thisClipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, thisClipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n","import env from '../core/env.js';\nvar requestAnimationFrame;\nrequestAnimationFrame = (env.hasGlobalWindow\n    && ((window.requestAnimationFrame && window.requestAnimationFrame.bind(window))\n        || (window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window))\n        || window.mozRequestAnimationFrame\n        || window.webkitRequestAnimationFrame)) || function (func) {\n    return setTimeout(func, 16);\n};\nexport default requestAnimationFrame;\n","var easingFuncs = {\n    linear: function (k) {\n        return k;\n    },\n    quadraticIn: function (k) {\n        return k * k;\n    },\n    quadraticOut: function (k) {\n        return k * (2 - k);\n    },\n    quadraticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n        }\n        return -0.5 * (--k * (k - 2) - 1);\n    },\n    cubicIn: function (k) {\n        return k * k * k;\n    },\n    cubicOut: function (k) {\n        return --k * k * k + 1;\n    },\n    cubicInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k + 2);\n    },\n    quarticIn: function (k) {\n        return k * k * k * k;\n    },\n    quarticOut: function (k) {\n        return 1 - (--k * k * k * k);\n    },\n    quarticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k;\n        }\n        return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n    quinticIn: function (k) {\n        return k * k * k * k * k;\n    },\n    quinticOut: function (k) {\n        return --k * k * k * k * k + 1;\n    },\n    quinticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n    sinusoidalIn: function (k) {\n        return 1 - Math.cos(k * Math.PI / 2);\n    },\n    sinusoidalOut: function (k) {\n        return Math.sin(k * Math.PI / 2);\n    },\n    sinusoidalInOut: function (k) {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n    exponentialIn: function (k) {\n        return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n    exponentialOut: function (k) {\n        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n    exponentialInOut: function (k) {\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if ((k *= 2) < 1) {\n            return 0.5 * Math.pow(1024, k - 1);\n        }\n        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n    circularIn: function (k) {\n        return 1 - Math.sqrt(1 - k * k);\n    },\n    circularOut: function (k) {\n        return Math.sqrt(1 - (--k * k));\n    },\n    circularInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return -0.5 * (Math.sqrt(1 - k * k) - 1);\n        }\n        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n    elasticIn: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return -(a * Math.pow(2, 10 * (k -= 1))\n            * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n    elasticOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return (a * Math.pow(2, -10 * k)\n            * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n    },\n    elasticInOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        if ((k *= 2) < 1) {\n            return -0.5 * (a * Math.pow(2, 10 * (k -= 1))\n                * Math.sin((k - s) * (2 * Math.PI) / p));\n        }\n        return a * Math.pow(2, -10 * (k -= 1))\n            * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    backIn: function (k) {\n        var s = 1.70158;\n        return k * k * ((s + 1) * k - s);\n    },\n    backOut: function (k) {\n        var s = 1.70158;\n        return --k * k * ((s + 1) * k + s) + 1;\n    },\n    backInOut: function (k) {\n        var s = 1.70158 * 1.525;\n        if ((k *= 2) < 1) {\n            return 0.5 * (k * k * ((s + 1) * k - s));\n        }\n        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n    bounceIn: function (k) {\n        return 1 - easingFuncs.bounceOut(1 - k);\n    },\n    bounceOut: function (k) {\n        if (k < (1 / 2.75)) {\n            return 7.5625 * k * k;\n        }\n        else if (k < (2 / 2.75)) {\n            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n        }\n        else if (k < (2.5 / 2.75)) {\n            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n        }\n        else {\n            return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n        }\n    },\n    bounceInOut: function (k) {\n        if (k < 0.5) {\n            return easingFuncs.bounceIn(k * 2) * 0.5;\n        }\n        return easingFuncs.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n};\nexport default easingFuncs;\n","import { create as v2Create, distSquare as v2DistSquare } from './vector.js';\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3;\nvar _v0 = v2Create();\nvar _v1 = v2Create();\nvar _v2 = v2Create();\nfunction isAroundZero(val) {\n    return val > -EPSILON && val < EPSILON;\n}\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nexport function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1)\n        + t * t * (t * p3 + 3 * onet * p2);\n}\nexport function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet\n        + (p3 - p2) * t * t);\n}\nexport function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n    if (isAroundZero(A) && isAroundZero(B)) {\n        if (isAroundZero(b)) {\n            roots[0] = 0;\n        }\n        else {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = B * B - 4 * A * C;\n        if (isAroundZero(disc)) {\n            var K = B / A;\n            var t1 = -b / a + K;\n            var t2 = -K / 2;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n            var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n            if (Y1 < 0) {\n                Y1 = -mathPow(-Y1, ONE_THIRD);\n            }\n            else {\n                Y1 = mathPow(Y1, ONE_THIRD);\n            }\n            if (Y2 < 0) {\n                Y2 = -mathPow(-Y2, ONE_THIRD);\n            }\n            else {\n                Y2 = mathPow(Y2, ONE_THIRD);\n            }\n            var t1 = (-b - (Y1 + Y2)) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else {\n            var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n            var theta = Math.acos(T) / 3;\n            var ASqrt = mathSqrt(A);\n            var tmp = Math.cos(theta);\n            var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n            var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n            var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n            if (t3 >= 0 && t3 <= 1) {\n                roots[n++] = t3;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            extrema[0] = -b / (2 * a);\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extrema[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123;\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n}\nexport function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n        _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n        d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        prev = t - interval;\n        next = t + interval;\n        _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n        _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n        d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = cubicAt(x0, x1, x2, x3, next);\n            _v2[1] = cubicAt(y0, y1, y2, y3, next);\n            d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = cubicAt(x0, x1, x2, x3, t);\n        out[1] = cubicAt(y0, y1, y2, y3, t);\n    }\n    return mathSqrt(d);\n}\nexport function cubicLength(x0, y0, x1, y1, x2, y2, x3, y3, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = cubicAt(x0, x1, x2, x3, t);\n        var y = cubicAt(y0, y1, y2, y3, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\nexport function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\nexport function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\nexport function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            var t1 = -b / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n    if (divider === 0) {\n        return 0.5;\n    }\n    else {\n        return (p0 - p1) / divider;\n    }\n}\nexport function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n}\nexport function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = quadraticAt(x0, x1, x2, _t);\n        _v1[1] = quadraticAt(y0, y1, y2, _t);\n        var d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        _v1[0] = quadraticAt(x0, x1, x2, prev);\n        _v1[1] = quadraticAt(y0, y1, y2, prev);\n        var d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = quadraticAt(x0, x1, x2, next);\n            _v2[1] = quadraticAt(y0, y1, y2, next);\n            var d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = quadraticAt(x0, x1, x2, t);\n        out[1] = quadraticAt(y0, y1, y2, t);\n    }\n    return mathSqrt(d);\n}\nexport function quadraticLength(x0, y0, x1, y1, x2, y2, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = quadraticAt(x0, x1, x2, t);\n        var y = quadraticAt(y0, y1, y2, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\n","import { cubicAt, cubicRootAt } from '../core/curve.js';\nimport { trim } from '../core/util.js';\nvar regexp = /cubic-bezier\\(([0-9,\\.e ]+)\\)/;\nexport function createCubicEasingFunc(cubicEasingStr) {\n    var cubic = cubicEasingStr && regexp.exec(cubicEasingStr);\n    if (cubic) {\n        var points = cubic[1].split(',');\n        var a_1 = +trim(points[0]);\n        var b_1 = +trim(points[1]);\n        var c_1 = +trim(points[2]);\n        var d_1 = +trim(points[3]);\n        if (isNaN(a_1 + b_1 + c_1 + d_1)) {\n            return;\n        }\n        var roots_1 = [];\n        return function (p) {\n            return p <= 0\n                ? 0 : p >= 1\n                ? 1\n                : cubicRootAt(0, a_1, c_1, 1, p, roots_1) && cubicAt(0, b_1, d_1, 1, roots_1[0]);\n        };\n    }\n}\n","import easingFuncs from './easing.js';\nimport { isFunction, noop } from '../core/util.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._inited = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop || false;\n        this.onframe = opts.onframe || noop;\n        this.ondestroy = opts.ondestroy || noop;\n        this.onrestart = opts.onrestart || noop;\n        opts.easing && this.setEasing(opts.easing);\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._inited) {\n            this._startTime = globalTime + this._delay;\n            this._inited = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var life = this._life;\n        var elapsedTime = globalTime - this._startTime - this._pausedTime;\n        var percent = elapsedTime / life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easingFunc = this.easingFunc;\n        var schedule = easingFunc ? easingFunc(percent) : percent;\n        this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                var remainder = elapsedTime % life;\n                this._startTime = globalTime - remainder;\n                this._pausedTime = 0;\n                this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    Clip.prototype.setEasing = function (easing) {\n        this.easing = easing;\n        this.easingFunc = isFunction(easing)\n            ? easing\n            : easingFuncs[easing] || createCubicEasingFunc(easing);\n    };\n    return Clip;\n}());\nexport default Clip;\n","var Entry = (function () {\n    function Entry(val) {\n        this.value = val;\n    }\n    return Entry;\n}());\nexport { Entry };\nvar LinkedList = (function () {\n    function LinkedList() {\n        this._len = 0;\n    }\n    LinkedList.prototype.insert = function (val) {\n        var entry = new Entry(val);\n        this.insertEntry(entry);\n        return entry;\n    };\n    LinkedList.prototype.insertEntry = function (entry) {\n        if (!this.head) {\n            this.head = this.tail = entry;\n        }\n        else {\n            this.tail.next = entry;\n            entry.prev = this.tail;\n            entry.next = null;\n            this.tail = entry;\n        }\n        this._len++;\n    };\n    LinkedList.prototype.remove = function (entry) {\n        var prev = entry.prev;\n        var next = entry.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this.head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this.tail = prev;\n        }\n        entry.next = entry.prev = null;\n        this._len--;\n    };\n    LinkedList.prototype.len = function () {\n        return this._len;\n    };\n    LinkedList.prototype.clear = function () {\n        this.head = this.tail = null;\n        this._len = 0;\n    };\n    return LinkedList;\n}());\nexport { LinkedList };\nvar LRU = (function () {\n    function LRU(maxSize) {\n        this._list = new LinkedList();\n        this._maxSize = 10;\n        this._map = {};\n        this._maxSize = maxSize;\n    }\n    LRU.prototype.put = function (key, value) {\n        var list = this._list;\n        var map = this._map;\n        var removed = null;\n        if (map[key] == null) {\n            var len = list.len();\n            var entry = this._lastRemovedEntry;\n            if (len >= this._maxSize && len > 0) {\n                var leastUsedEntry = list.head;\n                list.remove(leastUsedEntry);\n                delete map[leastUsedEntry.key];\n                removed = leastUsedEntry.value;\n                this._lastRemovedEntry = leastUsedEntry;\n            }\n            if (entry) {\n                entry.value = value;\n            }\n            else {\n                entry = new Entry(value);\n            }\n            entry.key = key;\n            list.insertEntry(entry);\n            map[key] = entry;\n        }\n        return removed;\n    };\n    LRU.prototype.get = function (key) {\n        var entry = this._map[key];\n        var list = this._list;\n        if (entry != null) {\n            if (entry !== list.tail) {\n                list.remove(entry);\n                list.insertEntry(entry);\n            }\n            return entry.value;\n        }\n    };\n    LRU.prototype.clear = function () {\n        this._list.clear();\n        this._map = {};\n    };\n    LRU.prototype.len = function () {\n        return this._list.len();\n    };\n    return LRU;\n}());\nexport default LRU;\n","import LRU from '../core/LRU.js';\nimport { extend, isFunction, isGradientObject, isString, map } from '../core/util.js';\nvar kCSSColorTable = {\n    'transparent': [0, 0, 0, 0], 'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1], 'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1], 'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1], 'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1], 'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1], 'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1], 'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1], 'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1], 'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1], 'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1], 'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1], 'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1], 'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1], 'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1], 'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1], 'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1], 'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1], 'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1], 'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1], 'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1], 'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1], 'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1], 'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1], 'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1], 'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1], 'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1], 'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1], 'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1], 'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1], 'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1], 'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1], 'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1], 'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1], 'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1], 'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1], 'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1], 'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1], 'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1], 'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1], 'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1], 'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1], 'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1], 'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1], 'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1], 'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1], 'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1], 'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1], 'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1], 'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1], 'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1], 'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1], 'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1], 'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1], 'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1], 'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1], 'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1], 'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1], 'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1], 'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1], 'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1], 'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1], 'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1], 'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1], 'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1], 'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1], 'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1], 'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1], 'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1], 'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1], 'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1], 'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1], 'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1], 'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1], 'yellowgreen': [154, 205, 50, 1]\n};\nfunction clampCssByte(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n}\nfunction clampCssAngle(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n}\nfunction clampCssFloat(f) {\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n}\nexport function parseCssInt(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n    return clampCssByte(parseInt(str, 10));\n}\nexport function parseCssFloat(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssFloat(parseFloat(str) / 100);\n    }\n    return clampCssFloat(parseFloat(str));\n}\nfunction cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n        h += 1;\n    }\n    else if (h > 1) {\n        h -= 1;\n    }\n    if (h * 6 < 1) {\n        return m1 + (m2 - m1) * h * 6;\n    }\n    if (h * 2 < 1) {\n        return m2;\n    }\n    if (h * 3 < 2) {\n        return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n    return m1;\n}\nfunction lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n}\nfunction setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n}\nfunction copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\nfunction putToCache(colorStr, rgbaArr) {\n    if (lastRemovedArr) {\n        copyRgba(lastRemovedArr, rgbaArr);\n    }\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || (rgbaArr.slice()));\n}\nexport function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n        return;\n    }\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n    if (cached) {\n        return copyRgba(rgbaArr, cached);\n    }\n    colorStr = colorStr + '';\n    var str = colorStr.replace(/ /g, '').toLowerCase();\n    if (str in kCSSColorTable) {\n        copyRgba(rgbaArr, kCSSColorTable[str]);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n    }\n    var strLen = str.length;\n    if (str.charAt(0) === '#') {\n        if (strLen === 4 || strLen === 5) {\n            var iv = parseInt(str.slice(1, 4), 16);\n            if (!(iv >= 0 && iv <= 0xfff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, ((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8), (iv & 0xf0) | ((iv & 0xf0) >> 4), (iv & 0xf) | ((iv & 0xf) << 4), strLen === 5 ? parseInt(str.slice(4), 16) / 0xf : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        else if (strLen === 7 || strLen === 9) {\n            var iv = parseInt(str.slice(1, 7), 16);\n            if (!(iv >= 0 && iv <= 0xffffff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, strLen === 9 ? parseInt(str.slice(7), 16) / 0xff : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        return;\n    }\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n    if (op !== -1 && ep + 1 === strLen) {\n        var fname = str.substr(0, op);\n        var params = str.substr(op + 1, ep - (op + 1)).split(',');\n        var alpha = 1;\n        switch (fname) {\n            case 'rgba':\n                if (params.length !== 4) {\n                    return params.length === 3\n                        ? setRgba(rgbaArr, +params[0], +params[1], +params[2], 1)\n                        : setRgba(rgbaArr, 0, 0, 0, 1);\n                }\n                alpha = parseCssFloat(params.pop());\n            case 'rgb':\n                if (params.length >= 3) {\n                    setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), params.length === 3 ? alpha : parseCssFloat(params[3]));\n                    putToCache(colorStr, rgbaArr);\n                    return rgbaArr;\n                }\n                else {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n            case 'hsla':\n                if (params.length !== 4) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                params[3] = parseCssFloat(params[3]);\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            case 'hsl':\n                if (params.length !== 3) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            default:\n                return;\n        }\n    }\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n}\nfunction hsla2rgba(hsla, rgba) {\n    var h = (((parseFloat(hsla[0]) % 360) + 360) % 360) / 360;\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n    if (hsla.length === 4) {\n        rgba[3] = hsla[3];\n    }\n    return rgba;\n}\nfunction rgba2hsla(rgba) {\n    if (!rgba) {\n        return;\n    }\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B);\n    var vMax = Math.max(R, G, B);\n    var delta = vMax - vMin;\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S;\n    if (delta === 0) {\n        H = 0;\n        S = 0;\n    }\n    else {\n        if (L < 0.5) {\n            S = delta / (vMax + vMin);\n        }\n        else {\n            S = delta / (2 - vMax - vMin);\n        }\n        var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;\n        var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;\n        var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;\n        if (R === vMax) {\n            H = deltaB - deltaG;\n        }\n        else if (G === vMax) {\n            H = (1 / 3) + deltaR - deltaB;\n        }\n        else if (B === vMax) {\n            H = (2 / 3) + deltaG - deltaR;\n        }\n        if (H < 0) {\n            H += 1;\n        }\n        if (H > 1) {\n            H -= 1;\n        }\n    }\n    var hsla = [H * 360, S, L];\n    if (rgba[3] != null) {\n        hsla.push(rgba[3]);\n    }\n    return hsla;\n}\nexport function lift(color, level) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        for (var i = 0; i < 3; i++) {\n            if (level < 0) {\n                colorArr[i] = colorArr[i] * (1 - level) | 0;\n            }\n            else {\n                colorArr[i] = ((255 - colorArr[i]) * level + colorArr[i]) | 0;\n            }\n            if (colorArr[i] > 255) {\n                colorArr[i] = 255;\n            }\n            else if (colorArr[i] < 0) {\n                colorArr[i] = 0;\n            }\n        }\n        return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n}\nexport function toHex(color) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + (+colorArr[2])).toString(16).slice(1);\n    }\n}\nexport function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n}\nexport var fastMapToColor = fastLerp;\nexport function lerp(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([\n        clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)),\n        clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)),\n        clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)),\n        clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))\n    ], 'rgba');\n    return fullOutput\n        ? {\n            color: color,\n            leftIndex: leftIndex,\n            rightIndex: rightIndex,\n            value: value\n        }\n        : color;\n}\nexport var mapToColor = lerp;\nexport function modifyHSL(color, h, s, l) {\n    var colorArr = parse(color);\n    if (color) {\n        colorArr = rgba2hsla(colorArr);\n        h != null && (colorArr[0] = clampCssAngle(isFunction(h) ? h(colorArr[0]) : h));\n        s != null && (colorArr[1] = parseCssFloat(isFunction(s) ? s(colorArr[1]) : s));\n        l != null && (colorArr[2] = parseCssFloat(isFunction(l) ? l(colorArr[2]) : l));\n        return stringify(hsla2rgba(colorArr), 'rgba');\n    }\n}\nexport function modifyAlpha(color, alpha) {\n    var colorArr = parse(color);\n    if (colorArr && alpha != null) {\n        colorArr[3] = clampCssFloat(alpha);\n        return stringify(colorArr, 'rgba');\n    }\n}\nexport function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n        return;\n    }\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n        colorStr += ',' + arrColor[3];\n    }\n    return type + '(' + colorStr + ')';\n}\nexport function lum(color, backgroundLum) {\n    var arr = parse(color);\n    return arr\n        ? (0.299 * arr[0] + 0.587 * arr[1] + 0.114 * arr[2]) * arr[3] / 255\n            + (1 - arr[3]) * backgroundLum\n        : 0;\n}\nexport function random() {\n    return stringify([\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255)\n    ], 'rgb');\n}\nvar liftedColorCache = new LRU(100);\nexport function liftColor(color) {\n    if (isString(color)) {\n        var liftedColor = liftedColorCache.get(color);\n        if (!liftedColor) {\n            liftedColor = lift(color, -0.1);\n            liftedColorCache.put(color, liftedColor);\n        }\n        return liftedColor;\n    }\n    else if (isGradientObject(color)) {\n        var ret = extend({}, color);\n        ret.colorStops = map(color.colorStops, function (stop) { return ({\n            offset: stop.offset,\n            color: lift(stop.color, -0.1)\n        }); });\n        return ret;\n    }\n    return color;\n}\n","import { RADIAN_TO_DEGREE, retrieve2, logError, isFunction } from '../core/util.js';\nimport { parse } from '../tool/color.js';\nimport env from '../core/env.js';\nvar mathRound = Math.round;\nexport function normalizeColor(color) {\n    var opacity;\n    if (!color || color === 'transparent') {\n        color = 'none';\n    }\n    else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n        var arr = parse(color);\n        if (arr) {\n            color = 'rgb(' + arr[0] + ',' + arr[1] + ',' + arr[2] + ')';\n            opacity = arr[3];\n        }\n    }\n    return {\n        color: color,\n        opacity: opacity == null ? 1 : opacity\n    };\n}\nvar EPSILON = 1e-4;\nexport function isAroundZero(transform) {\n    return transform < EPSILON && transform > -EPSILON;\n}\nexport function round3(transform) {\n    return mathRound(transform * 1e3) / 1e3;\n}\nexport function round4(transform) {\n    return mathRound(transform * 1e4) / 1e4;\n}\nexport function round1(transform) {\n    return mathRound(transform * 10) / 10;\n}\nexport function getMatrixStr(m) {\n    return 'matrix('\n        + round3(m[0]) + ','\n        + round3(m[1]) + ','\n        + round3(m[2]) + ','\n        + round3(m[3]) + ','\n        + round4(m[4]) + ','\n        + round4(m[5])\n        + ')';\n}\nexport var TEXT_ALIGN_TO_ANCHOR = {\n    left: 'start',\n    right: 'end',\n    center: 'middle',\n    middle: 'middle'\n};\nexport function adjustTextY(y, lineHeight, textBaseline) {\n    if (textBaseline === 'top') {\n        y += lineHeight / 2;\n    }\n    else if (textBaseline === 'bottom') {\n        y -= lineHeight / 2;\n    }\n    return y;\n}\nexport function hasShadow(style) {\n    return style\n        && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY);\n}\nexport function getShadowKey(displayable) {\n    var style = displayable.style;\n    var globalScale = displayable.getGlobalScale();\n    return [\n        style.shadowColor,\n        (style.shadowBlur || 0).toFixed(2),\n        (style.shadowOffsetX || 0).toFixed(2),\n        (style.shadowOffsetY || 0).toFixed(2),\n        globalScale[0],\n        globalScale[1]\n    ].join(',');\n}\nexport function getClipPathsKey(clipPaths) {\n    var key = [];\n    if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n            var clipPath = clipPaths[i];\n            key.push(clipPath.id);\n        }\n    }\n    return key.join(',');\n}\nexport function isImagePattern(val) {\n    return val && (!!val.image);\n}\nexport function isSVGPattern(val) {\n    return val && (!!val.svgElement);\n}\nexport function isPattern(val) {\n    return isImagePattern(val) || isSVGPattern(val);\n}\nexport function isLinearGradient(val) {\n    return val.type === 'linear';\n}\nexport function isRadialGradient(val) {\n    return val.type === 'radial';\n}\nexport function isGradient(val) {\n    return val && (val.type === 'linear'\n        || val.type === 'radial');\n}\nexport function getIdURL(id) {\n    return \"url(#\" + id + \")\";\n}\nexport function getPathPrecision(el) {\n    var scale = el.getGlobalScale();\n    var size = Math.max(scale[0], scale[1]);\n    return Math.max(Math.ceil(Math.log(size) / Math.log(10)), 1);\n}\nexport function getSRTTransformString(transform) {\n    var x = transform.x || 0;\n    var y = transform.y || 0;\n    var rotation = (transform.rotation || 0) * RADIAN_TO_DEGREE;\n    var scaleX = retrieve2(transform.scaleX, 1);\n    var scaleY = retrieve2(transform.scaleY, 1);\n    var skewX = transform.skewX || 0;\n    var skewY = transform.skewY || 0;\n    var res = [];\n    if (x || y) {\n        res.push(\"translate(\" + x + \"px,\" + y + \"px)\");\n    }\n    if (rotation) {\n        res.push(\"rotate(\" + rotation + \")\");\n    }\n    if (scaleX !== 1 || scaleY !== 1) {\n        res.push(\"scale(\" + scaleX + \",\" + scaleY + \")\");\n    }\n    if (skewX || skewY) {\n        res.push(\"skew(\" + mathRound(skewX * RADIAN_TO_DEGREE) + \"deg, \" + mathRound(skewY * RADIAN_TO_DEGREE) + \"deg)\");\n    }\n    return res.join(' ');\n}\nexport var encodeBase64 = (function () {\n    if (env.hasGlobalWindow && isFunction(window.btoa)) {\n        return function (str) {\n            return window.btoa(unescape(encodeURIComponent(str)));\n        };\n    }\n    if (typeof Buffer !== 'undefined') {\n        return function (str) {\n            return Buffer.from(str).toString('base64');\n        };\n    }\n    return function (str) {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Base64 isn\\'t natively supported in the current environment.');\n        }\n        return null;\n    };\n})();\n","import Clip from './Clip.js';\nimport * as color from '../tool/color.js';\nimport { eqNaN, extend, isArrayLike, isFunction, isGradientObject, isNumber, isString, keys, logError, map } from '../core/util.js';\nimport easingFuncs from './easing.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nimport { isLinearGradient, isRadialGradient } from '../svg/helper.js';\n;\nvar arraySlice = Array.prototype.slice;\nfunction interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n}\nfunction interpolate1DArray(out, p0, p1, percent) {\n    var len = p0.length;\n    for (var i = 0; i < len; i++) {\n        out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n    return out;\n}\nfunction interpolate2DArray(out, p0, p1, percent) {\n    var len = p0.length;\n    var len2 = len && p0[0].length;\n    for (var i = 0; i < len; i++) {\n        if (!out[i]) {\n            out[i] = [];\n        }\n        for (var j = 0; j < len2; j++) {\n            out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n        }\n    }\n    return out;\n}\nfunction add1DArray(out, p0, p1, sign) {\n    var len = p0.length;\n    for (var i = 0; i < len; i++) {\n        out[i] = p0[i] + p1[i] * sign;\n    }\n    return out;\n}\nfunction add2DArray(out, p0, p1, sign) {\n    var len = p0.length;\n    var len2 = len && p0[0].length;\n    for (var i = 0; i < len; i++) {\n        if (!out[i]) {\n            out[i] = [];\n        }\n        for (var j = 0; j < len2; j++) {\n            out[i][j] = p0[i][j] + p1[i][j] * sign;\n        }\n    }\n    return out;\n}\nfunction fillColorStops(val0, val1) {\n    var len0 = val0.length;\n    var len1 = val1.length;\n    var shorterArr = len0 > len1 ? val1 : val0;\n    var shorterLen = Math.min(len0, len1);\n    var last = shorterArr[shorterLen - 1] || { color: [0, 0, 0, 0], offset: 0 };\n    for (var i = shorterLen; i < Math.max(len0, len1); i++) {\n        shorterArr.push({\n            offset: last.offset,\n            color: last.color.slice()\n        });\n    }\n}\nfunction fillArray(val0, val1, arrDim) {\n    var arr0 = val0;\n    var arr1 = val1;\n    if (!arr0.push || !arr1.push) {\n        return;\n    }\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n    if (arr0Len !== arr1Len) {\n        var isPreviousLarger = arr0Len > arr1Len;\n        if (isPreviousLarger) {\n            arr0.length = arr1Len;\n        }\n        else {\n            for (var i = arr0Len; i < arr1Len; i++) {\n                arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n            }\n        }\n    }\n    var len2 = arr0[0] && arr0[0].length;\n    for (var i = 0; i < arr0.length; i++) {\n        if (arrDim === 1) {\n            if (isNaN(arr0[i])) {\n                arr0[i] = arr1[i];\n            }\n        }\n        else {\n            for (var j = 0; j < len2; j++) {\n                if (isNaN(arr0[i][j])) {\n                    arr0[i][j] = arr1[i][j];\n                }\n            }\n        }\n    }\n}\nexport function cloneValue(value) {\n    if (isArrayLike(value)) {\n        var len = value.length;\n        if (isArrayLike(value[0])) {\n            var ret = [];\n            for (var i = 0; i < len; i++) {\n                ret.push(arraySlice.call(value[i]));\n            }\n            return ret;\n        }\n        return arraySlice.call(value);\n    }\n    return value;\n}\nfunction rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]) || 0;\n    rgba[1] = Math.floor(rgba[1]) || 0;\n    rgba[2] = Math.floor(rgba[2]) || 0;\n    rgba[3] = rgba[3] == null ? 1 : rgba[3];\n    return 'rgba(' + rgba.join(',') + ')';\n}\nfunction guessArrayDim(value) {\n    return isArrayLike(value && value[0]) ? 2 : 1;\n}\nvar VALUE_TYPE_NUMBER = 0;\nvar VALUE_TYPE_1D_ARRAY = 1;\nvar VALUE_TYPE_2D_ARRAY = 2;\nvar VALUE_TYPE_COLOR = 3;\nvar VALUE_TYPE_LINEAR_GRADIENT = 4;\nvar VALUE_TYPE_RADIAL_GRADIENT = 5;\nvar VALUE_TYPE_UNKOWN = 6;\nfunction isGradientValueType(valType) {\n    return valType === VALUE_TYPE_LINEAR_GRADIENT || valType === VALUE_TYPE_RADIAL_GRADIENT;\n}\nfunction isArrayValueType(valType) {\n    return valType === VALUE_TYPE_1D_ARRAY || valType === VALUE_TYPE_2D_ARRAY;\n}\nvar tmpRgba = [0, 0, 0, 0];\nvar Track = (function () {\n    function Track(propName) {\n        this.keyframes = [];\n        this.discrete = false;\n        this._invalid = false;\n        this._needsSort = false;\n        this._lastFr = 0;\n        this._lastFrP = 0;\n        this.propName = propName;\n    }\n    Track.prototype.isFinished = function () {\n        return this._finished;\n    };\n    Track.prototype.setFinished = function () {\n        this._finished = true;\n        if (this._additiveTrack) {\n            this._additiveTrack.setFinished();\n        }\n    };\n    Track.prototype.needsAnimate = function () {\n        return this.keyframes.length >= 1;\n    };\n    Track.prototype.getAdditiveTrack = function () {\n        return this._additiveTrack;\n    };\n    Track.prototype.addKeyframe = function (time, rawValue, easing) {\n        this._needsSort = true;\n        var keyframes = this.keyframes;\n        var len = keyframes.length;\n        var discrete = false;\n        var valType = VALUE_TYPE_UNKOWN;\n        var value = rawValue;\n        if (isArrayLike(rawValue)) {\n            var arrayDim = guessArrayDim(rawValue);\n            valType = arrayDim;\n            if (arrayDim === 1 && !isNumber(rawValue[0])\n                || arrayDim === 2 && !isNumber(rawValue[0][0])) {\n                discrete = true;\n            }\n        }\n        else {\n            if (isNumber(rawValue) && !eqNaN(rawValue)) {\n                valType = VALUE_TYPE_NUMBER;\n            }\n            else if (isString(rawValue)) {\n                if (!isNaN(+rawValue)) {\n                    valType = VALUE_TYPE_NUMBER;\n                }\n                else {\n                    var colorArray = color.parse(rawValue);\n                    if (colorArray) {\n                        value = colorArray;\n                        valType = VALUE_TYPE_COLOR;\n                    }\n                }\n            }\n            else if (isGradientObject(rawValue)) {\n                var parsedGradient = extend({}, value);\n                parsedGradient.colorStops = map(rawValue.colorStops, function (colorStop) { return ({\n                    offset: colorStop.offset,\n                    color: color.parse(colorStop.color)\n                }); });\n                if (isLinearGradient(rawValue)) {\n                    valType = VALUE_TYPE_LINEAR_GRADIENT;\n                }\n                else if (isRadialGradient(rawValue)) {\n                    valType = VALUE_TYPE_RADIAL_GRADIENT;\n                }\n                value = parsedGradient;\n            }\n        }\n        if (len === 0) {\n            this.valType = valType;\n        }\n        else if (valType !== this.valType || valType === VALUE_TYPE_UNKOWN) {\n            discrete = true;\n        }\n        this.discrete = this.discrete || discrete;\n        var kf = {\n            time: time,\n            value: value,\n            rawValue: rawValue,\n            percent: 0\n        };\n        if (easing) {\n            kf.easing = easing;\n            kf.easingFunc = isFunction(easing)\n                ? easing\n                : easingFuncs[easing] || createCubicEasingFunc(easing);\n        }\n        keyframes.push(kf);\n        return kf;\n    };\n    Track.prototype.prepare = function (maxTime, additiveTrack) {\n        var kfs = this.keyframes;\n        if (this._needsSort) {\n            kfs.sort(function (a, b) {\n                return a.time - b.time;\n            });\n        }\n        var valType = this.valType;\n        var kfsLen = kfs.length;\n        var lastKf = kfs[kfsLen - 1];\n        var isDiscrete = this.discrete;\n        var isArr = isArrayValueType(valType);\n        var isGradient = isGradientValueType(valType);\n        for (var i = 0; i < kfsLen; i++) {\n            var kf = kfs[i];\n            var value = kf.value;\n            var lastValue = lastKf.value;\n            kf.percent = kf.time / maxTime;\n            if (!isDiscrete) {\n                if (isArr && i !== kfsLen - 1) {\n                    fillArray(value, lastValue, valType);\n                }\n                else if (isGradient) {\n                    fillColorStops(value.colorStops, lastValue.colorStops);\n                }\n            }\n        }\n        if (!isDiscrete\n            && valType !== VALUE_TYPE_RADIAL_GRADIENT\n            && additiveTrack\n            && this.needsAnimate()\n            && additiveTrack.needsAnimate()\n            && valType === additiveTrack.valType\n            && !additiveTrack._finished) {\n            this._additiveTrack = additiveTrack;\n            var startValue = kfs[0].value;\n            for (var i = 0; i < kfsLen; i++) {\n                if (valType === VALUE_TYPE_NUMBER) {\n                    kfs[i].additiveValue = kfs[i].value - startValue;\n                }\n                else if (valType === VALUE_TYPE_COLOR) {\n                    kfs[i].additiveValue =\n                        add1DArray([], kfs[i].value, startValue, -1);\n                }\n                else if (isArrayValueType(valType)) {\n                    kfs[i].additiveValue = valType === VALUE_TYPE_1D_ARRAY\n                        ? add1DArray([], kfs[i].value, startValue, -1)\n                        : add2DArray([], kfs[i].value, startValue, -1);\n                }\n            }\n        }\n    };\n    Track.prototype.step = function (target, percent) {\n        if (this._finished) {\n            return;\n        }\n        if (this._additiveTrack && this._additiveTrack._finished) {\n            this._additiveTrack = null;\n        }\n        var isAdditive = this._additiveTrack != null;\n        var valueKey = isAdditive ? 'additiveValue' : 'value';\n        var valType = this.valType;\n        var keyframes = this.keyframes;\n        var kfsNum = keyframes.length;\n        var propName = this.propName;\n        var isValueColor = valType === VALUE_TYPE_COLOR;\n        var frameIdx;\n        var lastFrame = this._lastFr;\n        var mathMin = Math.min;\n        var frame;\n        var nextFrame;\n        if (kfsNum === 1) {\n            frame = nextFrame = keyframes[0];\n        }\n        else {\n            if (percent < 0) {\n                frameIdx = 0;\n            }\n            else if (percent < this._lastFrP) {\n                var start = mathMin(lastFrame + 1, kfsNum - 1);\n                for (frameIdx = start; frameIdx >= 0; frameIdx--) {\n                    if (keyframes[frameIdx].percent <= percent) {\n                        break;\n                    }\n                }\n                frameIdx = mathMin(frameIdx, kfsNum - 2);\n            }\n            else {\n                for (frameIdx = lastFrame; frameIdx < kfsNum; frameIdx++) {\n                    if (keyframes[frameIdx].percent > percent) {\n                        break;\n                    }\n                }\n                frameIdx = mathMin(frameIdx - 1, kfsNum - 2);\n            }\n            nextFrame = keyframes[frameIdx + 1];\n            frame = keyframes[frameIdx];\n        }\n        if (!(frame && nextFrame)) {\n            return;\n        }\n        this._lastFr = frameIdx;\n        this._lastFrP = percent;\n        var interval = (nextFrame.percent - frame.percent);\n        var w = interval === 0 ? 1 : mathMin((percent - frame.percent) / interval, 1);\n        if (nextFrame.easingFunc) {\n            w = nextFrame.easingFunc(w);\n        }\n        var targetArr = isAdditive ? this._additiveValue\n            : (isValueColor ? tmpRgba : target[propName]);\n        if ((isArrayValueType(valType) || isValueColor) && !targetArr) {\n            targetArr = this._additiveValue = [];\n        }\n        if (this.discrete) {\n            target[propName] = w < 1 ? frame.rawValue : nextFrame.rawValue;\n        }\n        else if (isArrayValueType(valType)) {\n            valType === VALUE_TYPE_1D_ARRAY\n                ? interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w)\n                : interpolate2DArray(targetArr, frame[valueKey], nextFrame[valueKey], w);\n        }\n        else if (isGradientValueType(valType)) {\n            var val = frame[valueKey];\n            var nextVal_1 = nextFrame[valueKey];\n            var isLinearGradient_1 = valType === VALUE_TYPE_LINEAR_GRADIENT;\n            target[propName] = {\n                type: isLinearGradient_1 ? 'linear' : 'radial',\n                x: interpolateNumber(val.x, nextVal_1.x, w),\n                y: interpolateNumber(val.y, nextVal_1.y, w),\n                colorStops: map(val.colorStops, function (colorStop, idx) {\n                    var nextColorStop = nextVal_1.colorStops[idx];\n                    return {\n                        offset: interpolateNumber(colorStop.offset, nextColorStop.offset, w),\n                        color: rgba2String(interpolate1DArray([], colorStop.color, nextColorStop.color, w))\n                    };\n                }),\n                global: nextVal_1.global\n            };\n            if (isLinearGradient_1) {\n                target[propName].x2 = interpolateNumber(val.x2, nextVal_1.x2, w);\n                target[propName].y2 = interpolateNumber(val.y2, nextVal_1.y2, w);\n            }\n            else {\n                target[propName].r = interpolateNumber(val.r, nextVal_1.r, w);\n            }\n        }\n        else if (isValueColor) {\n            interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w);\n            if (!isAdditive) {\n                target[propName] = rgba2String(targetArr);\n            }\n        }\n        else {\n            var value = interpolateNumber(frame[valueKey], nextFrame[valueKey], w);\n            if (isAdditive) {\n                this._additiveValue = value;\n            }\n            else {\n                target[propName] = value;\n            }\n        }\n        if (isAdditive) {\n            this._addToTarget(target);\n        }\n    };\n    Track.prototype._addToTarget = function (target) {\n        var valType = this.valType;\n        var propName = this.propName;\n        var additiveValue = this._additiveValue;\n        if (valType === VALUE_TYPE_NUMBER) {\n            target[propName] = target[propName] + additiveValue;\n        }\n        else if (valType === VALUE_TYPE_COLOR) {\n            color.parse(target[propName], tmpRgba);\n            add1DArray(tmpRgba, tmpRgba, additiveValue, 1);\n            target[propName] = rgba2String(tmpRgba);\n        }\n        else if (valType === VALUE_TYPE_1D_ARRAY) {\n            add1DArray(target[propName], target[propName], additiveValue, 1);\n        }\n        else if (valType === VALUE_TYPE_2D_ARRAY) {\n            add2DArray(target[propName], target[propName], additiveValue, 1);\n        }\n    };\n    return Track;\n}());\nvar Animator = (function () {\n    function Animator(target, loop, allowDiscreteAnimation, additiveTo) {\n        this._tracks = {};\n        this._trackKeys = [];\n        this._maxTime = 0;\n        this._started = 0;\n        this._clip = null;\n        this._target = target;\n        this._loop = loop;\n        if (loop && additiveTo) {\n            logError('Can\\' use additive animation on looped animation.');\n            return;\n        }\n        this._additiveAnimators = additiveTo;\n        this._allowDiscrete = allowDiscreteAnimation;\n    }\n    Animator.prototype.getMaxTime = function () {\n        return this._maxTime;\n    };\n    Animator.prototype.getDelay = function () {\n        return this._delay;\n    };\n    Animator.prototype.getLoop = function () {\n        return this._loop;\n    };\n    Animator.prototype.getTarget = function () {\n        return this._target;\n    };\n    Animator.prototype.changeTarget = function (target) {\n        this._target = target;\n    };\n    Animator.prototype.when = function (time, props, easing) {\n        return this.whenWithKeys(time, props, keys(props), easing);\n    };\n    Animator.prototype.whenWithKeys = function (time, props, propNames, easing) {\n        var tracks = this._tracks;\n        for (var i = 0; i < propNames.length; i++) {\n            var propName = propNames[i];\n            var track = tracks[propName];\n            if (!track) {\n                track = tracks[propName] = new Track(propName);\n                var initialValue = void 0;\n                var additiveTrack = this._getAdditiveTrack(propName);\n                if (additiveTrack) {\n                    var addtiveTrackKfs = additiveTrack.keyframes;\n                    var lastFinalKf = addtiveTrackKfs[addtiveTrackKfs.length - 1];\n                    initialValue = lastFinalKf && lastFinalKf.value;\n                    if (additiveTrack.valType === VALUE_TYPE_COLOR && initialValue) {\n                        initialValue = rgba2String(initialValue);\n                    }\n                }\n                else {\n                    initialValue = this._target[propName];\n                }\n                if (initialValue == null) {\n                    continue;\n                }\n                if (time > 0) {\n                    track.addKeyframe(0, cloneValue(initialValue), easing);\n                }\n                this._trackKeys.push(propName);\n            }\n            track.addKeyframe(time, cloneValue(props[propName]), easing);\n        }\n        this._maxTime = Math.max(this._maxTime, time);\n        return this;\n    };\n    Animator.prototype.pause = function () {\n        this._clip.pause();\n        this._paused = true;\n    };\n    Animator.prototype.resume = function () {\n        this._clip.resume();\n        this._paused = false;\n    };\n    Animator.prototype.isPaused = function () {\n        return !!this._paused;\n    };\n    Animator.prototype.duration = function (duration) {\n        this._maxTime = duration;\n        this._force = true;\n        return this;\n    };\n    Animator.prototype._doneCallback = function () {\n        this._setTracksFinished();\n        this._clip = null;\n        var doneList = this._doneCbs;\n        if (doneList) {\n            var len = doneList.length;\n            for (var i = 0; i < len; i++) {\n                doneList[i].call(this);\n            }\n        }\n    };\n    Animator.prototype._abortedCallback = function () {\n        this._setTracksFinished();\n        var animation = this.animation;\n        var abortedList = this._abortedCbs;\n        if (animation) {\n            animation.removeClip(this._clip);\n        }\n        this._clip = null;\n        if (abortedList) {\n            for (var i = 0; i < abortedList.length; i++) {\n                abortedList[i].call(this);\n            }\n        }\n    };\n    Animator.prototype._setTracksFinished = function () {\n        var tracks = this._tracks;\n        var tracksKeys = this._trackKeys;\n        for (var i = 0; i < tracksKeys.length; i++) {\n            tracks[tracksKeys[i]].setFinished();\n        }\n    };\n    Animator.prototype._getAdditiveTrack = function (trackName) {\n        var additiveTrack;\n        var additiveAnimators = this._additiveAnimators;\n        if (additiveAnimators) {\n            for (var i = 0; i < additiveAnimators.length; i++) {\n                var track = additiveAnimators[i].getTrack(trackName);\n                if (track) {\n                    additiveTrack = track;\n                }\n            }\n        }\n        return additiveTrack;\n    };\n    Animator.prototype.start = function (easing) {\n        if (this._started > 0) {\n            return;\n        }\n        this._started = 1;\n        var self = this;\n        var tracks = [];\n        var maxTime = this._maxTime || 0;\n        for (var i = 0; i < this._trackKeys.length; i++) {\n            var propName = this._trackKeys[i];\n            var track = this._tracks[propName];\n            var additiveTrack = this._getAdditiveTrack(propName);\n            var kfs = track.keyframes;\n            var kfsNum = kfs.length;\n            track.prepare(maxTime, additiveTrack);\n            if (track.needsAnimate()) {\n                if (!this._allowDiscrete && track.discrete) {\n                    var lastKf = kfs[kfsNum - 1];\n                    if (lastKf) {\n                        self._target[track.propName] = lastKf.rawValue;\n                    }\n                    track.setFinished();\n                }\n                else {\n                    tracks.push(track);\n                }\n            }\n        }\n        if (tracks.length || this._force) {\n            var clip = new Clip({\n                life: maxTime,\n                loop: this._loop,\n                delay: this._delay || 0,\n                onframe: function (percent) {\n                    self._started = 2;\n                    var additiveAnimators = self._additiveAnimators;\n                    if (additiveAnimators) {\n                        var stillHasAdditiveAnimator = false;\n                        for (var i = 0; i < additiveAnimators.length; i++) {\n                            if (additiveAnimators[i]._clip) {\n                                stillHasAdditiveAnimator = true;\n                                break;\n                            }\n                        }\n                        if (!stillHasAdditiveAnimator) {\n                            self._additiveAnimators = null;\n                        }\n                    }\n                    for (var i = 0; i < tracks.length; i++) {\n                        tracks[i].step(self._target, percent);\n                    }\n                    var onframeList = self._onframeCbs;\n                    if (onframeList) {\n                        for (var i = 0; i < onframeList.length; i++) {\n                            onframeList[i](self._target, percent);\n                        }\n                    }\n                },\n                ondestroy: function () {\n                    self._doneCallback();\n                }\n            });\n            this._clip = clip;\n            if (this.animation) {\n                this.animation.addClip(clip);\n            }\n            if (easing) {\n                clip.setEasing(easing);\n            }\n        }\n        else {\n            this._doneCallback();\n        }\n        return this;\n    };\n    Animator.prototype.stop = function (forwardToLast) {\n        if (!this._clip) {\n            return;\n        }\n        var clip = this._clip;\n        if (forwardToLast) {\n            clip.onframe(1);\n        }\n        this._abortedCallback();\n    };\n    Animator.prototype.delay = function (time) {\n        this._delay = time;\n        return this;\n    };\n    Animator.prototype.during = function (cb) {\n        if (cb) {\n            if (!this._onframeCbs) {\n                this._onframeCbs = [];\n            }\n            this._onframeCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.done = function (cb) {\n        if (cb) {\n            if (!this._doneCbs) {\n                this._doneCbs = [];\n            }\n            this._doneCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.aborted = function (cb) {\n        if (cb) {\n            if (!this._abortedCbs) {\n                this._abortedCbs = [];\n            }\n            this._abortedCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.getClip = function () {\n        return this._clip;\n    };\n    Animator.prototype.getTrack = function (propName) {\n        return this._tracks[propName];\n    };\n    Animator.prototype.getTracks = function () {\n        var _this = this;\n        return map(this._trackKeys, function (key) { return _this._tracks[key]; });\n    };\n    Animator.prototype.stopTracks = function (propNames, forwardToLast) {\n        if (!propNames.length || !this._clip) {\n            return true;\n        }\n        var tracks = this._tracks;\n        var tracksKeys = this._trackKeys;\n        for (var i = 0; i < propNames.length; i++) {\n            var track = tracks[propNames[i]];\n            if (track && !track.isFinished()) {\n                if (forwardToLast) {\n                    track.step(this._target, 1);\n                }\n                else if (this._started === 1) {\n                    track.step(this._target, 0);\n                }\n                track.setFinished();\n            }\n        }\n        var allAborted = true;\n        for (var i = 0; i < tracksKeys.length; i++) {\n            if (!tracks[tracksKeys[i]].isFinished()) {\n                allAborted = false;\n                break;\n            }\n        }\n        if (allAborted) {\n            this._abortedCallback();\n        }\n        return allAborted;\n    };\n    Animator.prototype.saveTo = function (target, trackKeys, firstOrLast) {\n        if (!target) {\n            return;\n        }\n        trackKeys = trackKeys || this._trackKeys;\n        for (var i = 0; i < trackKeys.length; i++) {\n            var propName = trackKeys[i];\n            var track = this._tracks[propName];\n            if (!track || track.isFinished()) {\n                continue;\n            }\n            var kfs = track.keyframes;\n            var kf = kfs[firstOrLast ? 0 : kfs.length - 1];\n            if (kf) {\n                target[propName] = cloneValue(kf.rawValue);\n            }\n        }\n    };\n    Animator.prototype.__changeFinalValue = function (finalProps, trackKeys) {\n        trackKeys = trackKeys || keys(finalProps);\n        for (var i = 0; i < trackKeys.length; i++) {\n            var propName = trackKeys[i];\n            var track = this._tracks[propName];\n            if (!track) {\n                continue;\n            }\n            var kfs = track.keyframes;\n            if (kfs.length > 1) {\n                var lastKf = kfs.pop();\n                track.addKeyframe(lastKf.time, finalProps[propName]);\n                track.prepare(this._maxTime, track.getAdditiveTrack());\n            }\n        }\n    };\n    return Animator;\n}());\nexport default Animator;\n","import { __extends } from \"tslib\";\nimport Eventful from '../core/Eventful.js';\nimport requestAnimationFrame from './requestAnimationFrame.js';\nimport Animator from './Animator.js';\nexport function getTime() {\n    return new Date().getTime();\n}\nvar Animation = (function (_super) {\n    __extends(Animation, _super);\n    function Animation(opts) {\n        var _this = _super.call(this) || this;\n        _this._running = false;\n        _this._time = 0;\n        _this._pausedTime = 0;\n        _this._pauseStart = 0;\n        _this._paused = false;\n        opts = opts || {};\n        _this.stage = opts.stage || {};\n        return _this;\n    }\n    Animation.prototype.addClip = function (clip) {\n        if (clip.animation) {\n            this.removeClip(clip);\n        }\n        if (!this._head) {\n            this._head = this._tail = clip;\n        }\n        else {\n            this._tail.next = clip;\n            clip.prev = this._tail;\n            clip.next = null;\n            this._tail = clip;\n        }\n        clip.animation = this;\n    };\n    Animation.prototype.addAnimator = function (animator) {\n        animator.animation = this;\n        var clip = animator.getClip();\n        if (clip) {\n            this.addClip(clip);\n        }\n    };\n    Animation.prototype.removeClip = function (clip) {\n        if (!clip.animation) {\n            return;\n        }\n        var prev = clip.prev;\n        var next = clip.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this._head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this._tail = prev;\n        }\n        clip.next = clip.prev = clip.animation = null;\n    };\n    Animation.prototype.removeAnimator = function (animator) {\n        var clip = animator.getClip();\n        if (clip) {\n            this.removeClip(clip);\n        }\n        animator.animation = null;\n    };\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\n        var time = getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            var finished = clip.step(time, delta);\n            if (finished) {\n                clip.ondestroy();\n                this.removeClip(clip);\n                clip = nextClip;\n            }\n            else {\n                clip = nextClip;\n            }\n        }\n        this._time = time;\n        if (!notTriggerFrameAndStageUpdate) {\n            this.trigger('frame', delta);\n            this.stage.update && this.stage.update();\n        }\n    };\n    Animation.prototype._startLoop = function () {\n        var self = this;\n        this._running = true;\n        function step() {\n            if (self._running) {\n                requestAnimationFrame(step);\n                !self._paused && self.update();\n            }\n        }\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.start = function () {\n        if (this._running) {\n            return;\n        }\n        this._time = getTime();\n        this._pausedTime = 0;\n        this._startLoop();\n    };\n    Animation.prototype.stop = function () {\n        this._running = false;\n    };\n    Animation.prototype.pause = function () {\n        if (!this._paused) {\n            this._pauseStart = getTime();\n            this._paused = true;\n        }\n    };\n    Animation.prototype.resume = function () {\n        if (this._paused) {\n            this._pausedTime += getTime() - this._pauseStart;\n            this._paused = false;\n        }\n    };\n    Animation.prototype.clear = function () {\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            clip.prev = clip.next = clip.animation = null;\n            clip = nextClip;\n        }\n        this._head = this._tail = null;\n    };\n    Animation.prototype.isFinished = function () {\n        return this._head == null;\n    };\n    Animation.prototype.animate = function (target, options) {\n        options = options || {};\n        this.start();\n        var animator = new Animator(target, options.loop);\n        this.addAnimator(animator);\n        return animator;\n    };\n    return Animation;\n}(Eventful));\nexport default Animation;\n","import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\nimport * as zrUtil from '../core/util.js';\nimport Eventful from '../core/Eventful.js';\nimport env from '../core/env.js';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n","import env from './core/env.js';\nvar dpr = 1;\nif (env.hasGlobalWindow) {\n    dpr = Math.max(window.devicePixelRatio\n        || (window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI)\n        || 1, 1);\n}\nexport var debugMode = 0;\nexport var devicePixelRatio = dpr;\nexport var DARK_MODE_THRESHOLD = 0.4;\nexport var DARK_LABEL_COLOR = '#333';\nexport var LIGHT_LABEL_COLOR = '#ccc';\nexport var LIGHTER_LABEL_COLOR = '#eee';\n","import * as matrix from './matrix.js';\nimport * as vector from './vector.js';\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nvar scaleTmp = [];\nvar tmpTransform = [];\nvar originTransform = matrix.create();\nvar abs = Math.abs;\nvar Transformable = (function () {\n    function Transformable() {\n    }\n    Transformable.prototype.getLocalTransform = function (m) {\n        return Transformable.getLocalTransform(this, m);\n    };\n    Transformable.prototype.setPosition = function (arr) {\n        this.x = arr[0];\n        this.y = arr[1];\n    };\n    Transformable.prototype.setScale = function (arr) {\n        this.scaleX = arr[0];\n        this.scaleY = arr[1];\n    };\n    Transformable.prototype.setSkew = function (arr) {\n        this.skewX = arr[0];\n        this.skewY = arr[1];\n    };\n    Transformable.prototype.setOrigin = function (arr) {\n        this.originX = arr[0];\n        this.originY = arr[1];\n    };\n    Transformable.prototype.needLocalTransform = function () {\n        return isNotAroundZero(this.rotation)\n            || isNotAroundZero(this.x)\n            || isNotAroundZero(this.y)\n            || isNotAroundZero(this.scaleX - 1)\n            || isNotAroundZero(this.scaleY - 1)\n            || isNotAroundZero(this.skewX)\n            || isNotAroundZero(this.skewY);\n    };\n    Transformable.prototype.updateTransform = function () {\n        var parentTransform = this.parent && this.parent.transform;\n        var needLocalTransform = this.needLocalTransform();\n        var m = this.transform;\n        if (!(needLocalTransform || parentTransform)) {\n            if (m) {\n                mIdentity(m);\n                this.invTransform = null;\n            }\n            return;\n        }\n        m = m || matrix.create();\n        if (needLocalTransform) {\n            this.getLocalTransform(m);\n        }\n        else {\n            mIdentity(m);\n        }\n        if (parentTransform) {\n            if (needLocalTransform) {\n                matrix.mul(m, parentTransform, m);\n            }\n            else {\n                matrix.copy(m, parentTransform);\n            }\n        }\n        this.transform = m;\n        this._resolveGlobalScaleRatio(m);\n    };\n    Transformable.prototype._resolveGlobalScaleRatio = function (m) {\n        var globalScaleRatio = this.globalScaleRatio;\n        if (globalScaleRatio != null && globalScaleRatio !== 1) {\n            this.getGlobalScale(scaleTmp);\n            var relX = scaleTmp[0] < 0 ? -1 : 1;\n            var relY = scaleTmp[1] < 0 ? -1 : 1;\n            var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n            var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n            m[0] *= sx;\n            m[1] *= sx;\n            m[2] *= sy;\n            m[3] *= sy;\n        }\n        this.invTransform = this.invTransform || matrix.create();\n        matrix.invert(this.invTransform, m);\n    };\n    Transformable.prototype.getComputedTransform = function () {\n        var transformNode = this;\n        var ancestors = [];\n        while (transformNode) {\n            ancestors.push(transformNode);\n            transformNode = transformNode.parent;\n        }\n        while (transformNode = ancestors.pop()) {\n            transformNode.updateTransform();\n        }\n        return this.transform;\n    };\n    Transformable.prototype.setLocalTransform = function (m) {\n        if (!m) {\n            return;\n        }\n        var sx = m[0] * m[0] + m[1] * m[1];\n        var sy = m[2] * m[2] + m[3] * m[3];\n        var rotation = Math.atan2(m[1], m[0]);\n        var shearX = Math.PI / 2 + rotation - Math.atan2(m[3], m[2]);\n        sy = Math.sqrt(sy) * Math.cos(shearX);\n        sx = Math.sqrt(sx);\n        this.skewX = shearX;\n        this.skewY = 0;\n        this.rotation = -rotation;\n        this.x = +m[4];\n        this.y = +m[5];\n        this.scaleX = sx;\n        this.scaleY = sy;\n        this.originX = 0;\n        this.originY = 0;\n    };\n    Transformable.prototype.decomposeTransform = function () {\n        if (!this.transform) {\n            return;\n        }\n        var parent = this.parent;\n        var m = this.transform;\n        if (parent && parent.transform) {\n            parent.invTransform = parent.invTransform || matrix.create();\n            matrix.mul(tmpTransform, parent.invTransform, m);\n            m = tmpTransform;\n        }\n        var ox = this.originX;\n        var oy = this.originY;\n        if (ox || oy) {\n            originTransform[4] = ox;\n            originTransform[5] = oy;\n            matrix.mul(tmpTransform, m, originTransform);\n            tmpTransform[4] -= ox;\n            tmpTransform[5] -= oy;\n            m = tmpTransform;\n        }\n        this.setLocalTransform(m);\n    };\n    Transformable.prototype.getGlobalScale = function (out) {\n        var m = this.transform;\n        out = out || [];\n        if (!m) {\n            out[0] = 1;\n            out[1] = 1;\n            return out;\n        }\n        out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n        out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n        if (m[0] < 0) {\n            out[0] = -out[0];\n        }\n        if (m[3] < 0) {\n            out[1] = -out[1];\n        }\n        return out;\n    };\n    Transformable.prototype.transformCoordToLocal = function (x, y) {\n        var v2 = [x, y];\n        var invTransform = this.invTransform;\n        if (invTransform) {\n            vector.applyTransform(v2, v2, invTransform);\n        }\n        return v2;\n    };\n    Transformable.prototype.transformCoordToGlobal = function (x, y) {\n        var v2 = [x, y];\n        var transform = this.transform;\n        if (transform) {\n            vector.applyTransform(v2, v2, transform);\n        }\n        return v2;\n    };\n    Transformable.prototype.getLineScale = function () {\n        var m = this.transform;\n        return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10\n            ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1]))\n            : 1;\n    };\n    Transformable.prototype.copyTransform = function (source) {\n        copyTransform(this, source);\n    };\n    Transformable.getLocalTransform = function (target, m) {\n        m = m || [];\n        var ox = target.originX || 0;\n        var oy = target.originY || 0;\n        var sx = target.scaleX;\n        var sy = target.scaleY;\n        var ax = target.anchorX;\n        var ay = target.anchorY;\n        var rotation = target.rotation || 0;\n        var x = target.x;\n        var y = target.y;\n        var skewX = target.skewX ? Math.tan(target.skewX) : 0;\n        var skewY = target.skewY ? Math.tan(-target.skewY) : 0;\n        if (ox || oy || ax || ay) {\n            var dx = ox + ax;\n            var dy = oy + ay;\n            m[4] = -dx * sx - skewX * dy * sy;\n            m[5] = -dy * sy - skewY * dx * sx;\n        }\n        else {\n            m[4] = m[5] = 0;\n        }\n        m[0] = sx;\n        m[3] = sy;\n        m[1] = skewY * sx;\n        m[2] = skewX * sy;\n        rotation && matrix.rotate(m, m, rotation);\n        m[4] += ox + x;\n        m[5] += oy + y;\n        return m;\n    };\n    Transformable.initDefaultProps = (function () {\n        var proto = Transformable.prototype;\n        proto.scaleX =\n            proto.scaleY =\n                proto.globalScaleRatio = 1;\n        proto.x =\n            proto.y =\n                proto.originX =\n                    proto.originY =\n                        proto.skewX =\n                            proto.skewY =\n                                proto.rotation =\n                                    proto.anchorX =\n                                        proto.anchorY = 0;\n    })();\n    return Transformable;\n}());\n;\nexport var TRANSFORMABLE_PROPS = [\n    'x', 'y', 'originX', 'originY', 'anchorX', 'anchorY', 'rotation', 'scaleX', 'scaleY', 'skewX', 'skewY'\n];\nexport function copyTransform(target, source) {\n    for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n        var propName = TRANSFORMABLE_PROPS[i];\n        target[propName] = source[propName];\n    }\n}\nexport default Transformable;\n","import BoundingRect from '../core/BoundingRect.js';\nimport LRU from '../core/LRU.js';\nimport { DEFAULT_FONT, platformApi } from '../core/platform.js';\nexport function getWidth(text, font) {\n    return measureWidth(ensureFontMeasureInfo(font), text);\n}\nexport function ensureFontMeasureInfo(font) {\n    if (!_fontMeasureInfoCache) {\n        _fontMeasureInfoCache = new LRU(100);\n    }\n    font = font || DEFAULT_FONT;\n    var measureInfo = _fontMeasureInfoCache.get(font);\n    if (!measureInfo) {\n        measureInfo = {\n            font: font,\n            strWidthCache: new LRU(500),\n            asciiWidthMap: null,\n            asciiWidthMapTried: false,\n            stWideCharWidth: platformApi.measureText('', font).width,\n            asciiCharWidth: platformApi.measureText('a', font).width\n        };\n        _fontMeasureInfoCache.put(font, measureInfo);\n    }\n    return measureInfo;\n}\nvar _fontMeasureInfoCache;\nfunction tryCreateASCIIWidthMap(font) {\n    if (_getASCIIWidthMapLongCount >= GET_ASCII_WIDTH_LONG_COUNT_MAX) {\n        return;\n    }\n    font = font || DEFAULT_FONT;\n    var asciiWidthMap = [];\n    var start = +(new Date());\n    for (var code = 0; code <= 127; code++) {\n        asciiWidthMap[code] = platformApi.measureText(String.fromCharCode(code), font).width;\n    }\n    var cost = +(new Date()) - start;\n    if (cost > 16) {\n        _getASCIIWidthMapLongCount = GET_ASCII_WIDTH_LONG_COUNT_MAX;\n    }\n    else if (cost > 2) {\n        _getASCIIWidthMapLongCount++;\n    }\n    return asciiWidthMap;\n}\nvar _getASCIIWidthMapLongCount = 0;\nvar GET_ASCII_WIDTH_LONG_COUNT_MAX = 5;\nexport function measureCharWidth(fontMeasureInfo, charCode) {\n    if (!fontMeasureInfo.asciiWidthMapTried) {\n        fontMeasureInfo.asciiWidthMap = tryCreateASCIIWidthMap(fontMeasureInfo.font);\n        fontMeasureInfo.asciiWidthMapTried = true;\n    }\n    return (0 <= charCode && charCode <= 127)\n        ? (fontMeasureInfo.asciiWidthMap != null\n            ? fontMeasureInfo.asciiWidthMap[charCode]\n            : fontMeasureInfo.asciiCharWidth)\n        : fontMeasureInfo.stWideCharWidth;\n}\nexport function measureWidth(fontMeasureInfo, text) {\n    var strWidthCache = fontMeasureInfo.strWidthCache;\n    var width = strWidthCache.get(text);\n    if (width == null) {\n        width = platformApi.measureText(text, fontMeasureInfo.font).width;\n        strWidthCache.put(text, width);\n    }\n    return width;\n}\nexport function innerGetBoundingRect(text, font, textAlign, textBaseline) {\n    var width = measureWidth(ensureFontMeasureInfo(font), text);\n    var height = getLineHeight(font);\n    var x = adjustTextX(0, width, textAlign);\n    var y = adjustTextY(0, height, textBaseline);\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n}\nexport function getBoundingRect(text, font, textAlign, textBaseline) {\n    var textLines = ((text || '') + '').split('\\n');\n    var len = textLines.length;\n    if (len === 1) {\n        return innerGetBoundingRect(textLines[0], font, textAlign, textBaseline);\n    }\n    else {\n        var uniondRect = new BoundingRect(0, 0, 0, 0);\n        for (var i = 0; i < textLines.length; i++) {\n            var rect = innerGetBoundingRect(textLines[i], font, textAlign, textBaseline);\n            i === 0 ? uniondRect.copy(rect) : uniondRect.union(rect);\n        }\n        return uniondRect;\n    }\n}\nexport function adjustTextX(x, width, textAlign, inverse) {\n    if (textAlign === 'right') {\n        !inverse ? (x -= width) : (x += width);\n    }\n    else if (textAlign === 'center') {\n        !inverse ? (x -= width / 2) : (x += width / 2);\n    }\n    return x;\n}\nexport function adjustTextY(y, height, verticalAlign, inverse) {\n    if (verticalAlign === 'middle') {\n        !inverse ? (y -= height / 2) : (y += height / 2);\n    }\n    else if (verticalAlign === 'bottom') {\n        !inverse ? (y -= height) : (y += height);\n    }\n    return y;\n}\nexport function getLineHeight(font) {\n    return ensureFontMeasureInfo(font).stWideCharWidth;\n}\nexport function measureText(text, font) {\n    return platformApi.measureText(text, font);\n}\nexport function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n        if (value.lastIndexOf('%') >= 0) {\n            return parseFloat(value) / 100 * maxValue;\n        }\n        return parseFloat(value);\n    }\n    return value;\n}\nexport function calculateTextPosition(out, opts, rect) {\n    var textPosition = opts.position || 'inside';\n    var distance = opts.distance != null ? opts.distance : 5;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var x = rect.x;\n    var y = rect.y;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n    if (textPosition instanceof Array) {\n        x += parsePercent(textPosition[0], rect.width);\n        y += parsePercent(textPosition[1], rect.height);\n        textAlign = null;\n        textVerticalAlign = null;\n    }\n    else {\n        switch (textPosition) {\n            case 'left':\n                x -= distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'right':\n                x += distance + width;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'top':\n                x += width / 2;\n                y -= distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'bottom':\n                x += width / 2;\n                y += height + distance;\n                textAlign = 'center';\n                break;\n            case 'inside':\n                x += width / 2;\n                y += halfHeight;\n                textAlign = 'center';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideLeft':\n                x += distance;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideRight':\n                x += width - distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideTop':\n                x += width / 2;\n                y += distance;\n                textAlign = 'center';\n                break;\n            case 'insideBottom':\n                x += width / 2;\n                y += height - distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideTopLeft':\n                x += distance;\n                y += distance;\n                break;\n            case 'insideTopRight':\n                x += width - distance;\n                y += distance;\n                textAlign = 'right';\n                break;\n            case 'insideBottomLeft':\n                x += distance;\n                y += height - distance;\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideBottomRight':\n                x += width - distance;\n                y += height - distance;\n                textAlign = 'right';\n                textVerticalAlign = 'bottom';\n                break;\n        }\n    }\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.align = textAlign;\n    out.verticalAlign = textVerticalAlign;\n    return out;\n}\n","import Transformable, { TRANSFORMABLE_PROPS } from './core/Transformable.js';\nimport Animator, { cloneValue } from './animation/Animator.js';\nimport BoundingRect from './core/BoundingRect.js';\nimport Eventful from './core/Eventful.js';\nimport { calculateTextPosition, parsePercent } from './contain/text.js';\nimport { guid, isObject, keys, extend, indexOf, logError, mixin, isArrayLike, isTypedArray, isGradientObject, filter, reduce } from './core/util.js';\nimport { LIGHT_LABEL_COLOR, DARK_LABEL_COLOR } from './config.js';\nimport { parse, stringify } from './tool/color.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nimport { invert } from './core/matrix.js';\nexport var PRESERVED_NORMAL_STATE = '__zr_normal__';\nvar PRIMARY_STATES_KEYS = TRANSFORMABLE_PROPS.concat(['ignore']);\nvar DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n    obj[key] = true;\n    return obj;\n}, { ignore: false });\nvar tmpTextPosCalcRes = {};\nvar tmpBoundingRect = new BoundingRect(0, 0, 0, 0);\nvar tmpInnerTextTrans = [];\nvar Element = (function () {\n    function Element(props) {\n        this.id = guid();\n        this.animators = [];\n        this.currentStates = [];\n        this.states = {};\n        this._init(props);\n    }\n    Element.prototype._init = function (props) {\n        this.attr(props);\n    };\n    Element.prototype.drift = function (dx, dy, e) {\n        switch (this.draggable) {\n            case 'horizontal':\n                dy = 0;\n                break;\n            case 'vertical':\n                dx = 0;\n                break;\n        }\n        var m = this.transform;\n        if (!m) {\n            m = this.transform = [1, 0, 0, 1, 0, 0];\n        }\n        m[4] += dx;\n        m[5] += dy;\n        this.decomposeTransform();\n        this.markRedraw();\n    };\n    Element.prototype.beforeUpdate = function () { };\n    Element.prototype.afterUpdate = function () { };\n    Element.prototype.update = function () {\n        this.updateTransform();\n        if (this.__dirty) {\n            this.updateInnerText();\n        }\n    };\n    Element.prototype.updateInnerText = function (forceUpdate) {\n        var textEl = this._textContent;\n        if (textEl && (!textEl.ignore || forceUpdate)) {\n            if (!this.textConfig) {\n                this.textConfig = {};\n            }\n            var textConfig = this.textConfig;\n            var isLocal = textConfig.local;\n            var innerTransformable = textEl.innerTransformable;\n            var textAlign = void 0;\n            var textVerticalAlign = void 0;\n            var textStyleChanged = false;\n            innerTransformable.parent = isLocal ? this : null;\n            var innerOrigin = false;\n            innerTransformable.copyTransform(textEl);\n            var hasPosition = textConfig.position != null;\n            var autoOverflowArea = textConfig.autoOverflowArea;\n            var layoutRect = void 0;\n            if (autoOverflowArea || hasPosition) {\n                layoutRect = tmpBoundingRect;\n                if (textConfig.layoutRect) {\n                    layoutRect.copy(textConfig.layoutRect);\n                }\n                else {\n                    layoutRect.copy(this.getBoundingRect());\n                }\n                if (!isLocal) {\n                    layoutRect.applyTransform(this.transform);\n                }\n            }\n            if (hasPosition) {\n                if (this.calculateTextPosition) {\n                    this.calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                else {\n                    calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                innerTransformable.x = tmpTextPosCalcRes.x;\n                innerTransformable.y = tmpTextPosCalcRes.y;\n                textAlign = tmpTextPosCalcRes.align;\n                textVerticalAlign = tmpTextPosCalcRes.verticalAlign;\n                var textOrigin = textConfig.origin;\n                if (textOrigin && textConfig.rotation != null) {\n                    var relOriginX = void 0;\n                    var relOriginY = void 0;\n                    if (textOrigin === 'center') {\n                        relOriginX = layoutRect.width * 0.5;\n                        relOriginY = layoutRect.height * 0.5;\n                    }\n                    else {\n                        relOriginX = parsePercent(textOrigin[0], layoutRect.width);\n                        relOriginY = parsePercent(textOrigin[1], layoutRect.height);\n                    }\n                    innerOrigin = true;\n                    innerTransformable.originX = -innerTransformable.x + relOriginX + (isLocal ? 0 : layoutRect.x);\n                    innerTransformable.originY = -innerTransformable.y + relOriginY + (isLocal ? 0 : layoutRect.y);\n                }\n            }\n            if (textConfig.rotation != null) {\n                innerTransformable.rotation = textConfig.rotation;\n            }\n            var textOffset = textConfig.offset;\n            if (textOffset) {\n                innerTransformable.x += textOffset[0];\n                innerTransformable.y += textOffset[1];\n                if (!innerOrigin) {\n                    innerTransformable.originX = -textOffset[0];\n                    innerTransformable.originY = -textOffset[1];\n                }\n            }\n            var innerTextDefaultStyle = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});\n            if (autoOverflowArea) {\n                var overflowRect = innerTextDefaultStyle.overflowRect =\n                    innerTextDefaultStyle.overflowRect || new BoundingRect(0, 0, 0, 0);\n                innerTransformable.getLocalTransform(tmpInnerTextTrans);\n                invert(tmpInnerTextTrans, tmpInnerTextTrans);\n                BoundingRect.copy(overflowRect, layoutRect);\n                overflowRect.applyTransform(tmpInnerTextTrans);\n            }\n            else {\n                innerTextDefaultStyle.overflowRect = null;\n            }\n            var isInside = textConfig.inside == null\n                ? (typeof textConfig.position === 'string' && textConfig.position.indexOf('inside') >= 0)\n                : textConfig.inside;\n            var textFill = void 0;\n            var textStroke = void 0;\n            var autoStroke = void 0;\n            if (isInside && this.canBeInsideText()) {\n                textFill = textConfig.insideFill;\n                textStroke = textConfig.insideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getInsideTextFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getInsideTextStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            else {\n                textFill = textConfig.outsideFill;\n                textStroke = textConfig.outsideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getOutsideFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getOutsideStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            textFill = textFill || '#000';\n            if (textFill !== innerTextDefaultStyle.fill\n                || textStroke !== innerTextDefaultStyle.stroke\n                || autoStroke !== innerTextDefaultStyle.autoStroke\n                || textAlign !== innerTextDefaultStyle.align\n                || textVerticalAlign !== innerTextDefaultStyle.verticalAlign) {\n                textStyleChanged = true;\n                innerTextDefaultStyle.fill = textFill;\n                innerTextDefaultStyle.stroke = textStroke;\n                innerTextDefaultStyle.autoStroke = autoStroke;\n                innerTextDefaultStyle.align = textAlign;\n                innerTextDefaultStyle.verticalAlign = textVerticalAlign;\n                textEl.setDefaultTextStyle(innerTextDefaultStyle);\n            }\n            textEl.__dirty |= REDRAW_BIT;\n            if (textStyleChanged) {\n                textEl.dirtyStyle(true);\n            }\n        }\n    };\n    Element.prototype.canBeInsideText = function () {\n        return true;\n    };\n    Element.prototype.getInsideTextFill = function () {\n        return '#fff';\n    };\n    Element.prototype.getInsideTextStroke = function (textFill) {\n        return '#000';\n    };\n    Element.prototype.getOutsideFill = function () {\n        return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;\n    };\n    Element.prototype.getOutsideStroke = function (textFill) {\n        var backgroundColor = this.__zr && this.__zr.getBackgroundColor();\n        var colorArr = typeof backgroundColor === 'string' && parse(backgroundColor);\n        if (!colorArr) {\n            colorArr = [255, 255, 255, 1];\n        }\n        var alpha = colorArr[3];\n        var isDark = this.__zr.isDarkMode();\n        for (var i = 0; i < 3; i++) {\n            colorArr[i] = colorArr[i] * alpha + (isDark ? 0 : 255) * (1 - alpha);\n        }\n        colorArr[3] = 1;\n        return stringify(colorArr, 'rgba');\n    };\n    Element.prototype.traverse = function (cb, context) { };\n    Element.prototype.attrKV = function (key, value) {\n        if (key === 'textConfig') {\n            this.setTextConfig(value);\n        }\n        else if (key === 'textContent') {\n            this.setTextContent(value);\n        }\n        else if (key === 'clipPath') {\n            this.setClipPath(value);\n        }\n        else if (key === 'extra') {\n            this.extra = this.extra || {};\n            extend(this.extra, value);\n        }\n        else {\n            this[key] = value;\n        }\n    };\n    Element.prototype.hide = function () {\n        this.ignore = true;\n        this.markRedraw();\n    };\n    Element.prototype.show = function () {\n        this.ignore = false;\n        this.markRedraw();\n    };\n    Element.prototype.attr = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.attrKV(keyOrObj, value);\n        }\n        else if (isObject(keyOrObj)) {\n            var obj = keyOrObj;\n            var keysArr = keys(obj);\n            for (var i = 0; i < keysArr.length; i++) {\n                var key = keysArr[i];\n                this.attrKV(key, keyOrObj[key]);\n            }\n        }\n        this.markRedraw();\n        return this;\n    };\n    Element.prototype.saveCurrentToNormalState = function (toState) {\n        this._innerSaveToNormal(toState);\n        var normalState = this._normalState;\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            var fromStateTransition = animator.__fromStateTransition;\n            if (animator.getLoop() || fromStateTransition && fromStateTransition !== PRESERVED_NORMAL_STATE) {\n                continue;\n            }\n            var targetName = animator.targetName;\n            var target = targetName\n                ? normalState[targetName] : normalState;\n            animator.saveTo(target);\n        }\n    };\n    Element.prototype._innerSaveToNormal = function (toState) {\n        var normalState = this._normalState;\n        if (!normalState) {\n            normalState = this._normalState = {};\n        }\n        if (toState.textConfig && !normalState.textConfig) {\n            normalState.textConfig = this.textConfig;\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Element.prototype._savePrimaryToNormal = function (toState, normalState, primaryKeys) {\n        for (var i = 0; i < primaryKeys.length; i++) {\n            var key = primaryKeys[i];\n            if (toState[key] != null && !(key in normalState)) {\n                normalState[key] = this[key];\n            }\n        }\n    };\n    Element.prototype.hasState = function () {\n        return this.currentStates.length > 0;\n    };\n    Element.prototype.getState = function (name) {\n        return this.states[name];\n    };\n    Element.prototype.ensureState = function (name) {\n        var states = this.states;\n        if (!states[name]) {\n            states[name] = {};\n        }\n        return states[name];\n    };\n    Element.prototype.clearStates = function (noAnimation) {\n        this.useState(PRESERVED_NORMAL_STATE, false, noAnimation);\n    };\n    Element.prototype.useState = function (stateName, keepCurrentStates, noAnimation, forceUseHoverLayer) {\n        var toNormalState = stateName === PRESERVED_NORMAL_STATE;\n        var hasStates = this.hasState();\n        if (!hasStates && toNormalState) {\n            return;\n        }\n        var currentStates = this.currentStates;\n        var animationCfg = this.stateTransition;\n        if (indexOf(currentStates, stateName) >= 0 && (keepCurrentStates || currentStates.length === 1)) {\n            return;\n        }\n        var state;\n        if (this.stateProxy && !toNormalState) {\n            state = this.stateProxy(stateName);\n        }\n        if (!state) {\n            state = (this.states && this.states[stateName]);\n        }\n        if (!state && !toNormalState) {\n            logError(\"State \" + stateName + \" not exists.\");\n            return;\n        }\n        if (!toNormalState) {\n            this.saveCurrentToNormalState(state);\n        }\n        var useHoverLayer = !!((state && state.hoverLayer) || forceUseHoverLayer);\n        if (useHoverLayer) {\n            this._toggleHoverLayerFlag(true);\n        }\n        this._applyStateObj(stateName, state, this._normalState, keepCurrentStates, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (textGuide) {\n            textGuide.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (toNormalState) {\n            this.currentStates = [];\n            this._normalState = {};\n        }\n        else {\n            if (!keepCurrentStates) {\n                this.currentStates = [stateName];\n            }\n            else {\n                this.currentStates.push(stateName);\n            }\n        }\n        this._updateAnimationTargets();\n        this.markRedraw();\n        if (!useHoverLayer && this.__inHover) {\n            this._toggleHoverLayerFlag(false);\n            this.__dirty &= ~REDRAW_BIT;\n        }\n        return state;\n    };\n    Element.prototype.useStates = function (states, noAnimation, forceUseHoverLayer) {\n        if (!states.length) {\n            this.clearStates();\n        }\n        else {\n            var stateObjects = [];\n            var currentStates = this.currentStates;\n            var len = states.length;\n            var notChange = len === currentStates.length;\n            if (notChange) {\n                for (var i = 0; i < len; i++) {\n                    if (states[i] !== currentStates[i]) {\n                        notChange = false;\n                        break;\n                    }\n                }\n            }\n            if (notChange) {\n                return;\n            }\n            for (var i = 0; i < len; i++) {\n                var stateName = states[i];\n                var stateObj = void 0;\n                if (this.stateProxy) {\n                    stateObj = this.stateProxy(stateName, states);\n                }\n                if (!stateObj) {\n                    stateObj = this.states[stateName];\n                }\n                if (stateObj) {\n                    stateObjects.push(stateObj);\n                }\n            }\n            var lastStateObj = stateObjects[len - 1];\n            var useHoverLayer = !!((lastStateObj && lastStateObj.hoverLayer) || forceUseHoverLayer);\n            if (useHoverLayer) {\n                this._toggleHoverLayerFlag(true);\n            }\n            var mergedState = this._mergeStates(stateObjects);\n            var animationCfg = this.stateTransition;\n            this.saveCurrentToNormalState(mergedState);\n            this._applyStateObj(states.join(','), mergedState, this._normalState, false, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n            var textContent = this._textContent;\n            var textGuide = this._textGuide;\n            if (textContent) {\n                textContent.useStates(states, noAnimation, useHoverLayer);\n            }\n            if (textGuide) {\n                textGuide.useStates(states, noAnimation, useHoverLayer);\n            }\n            this._updateAnimationTargets();\n            this.currentStates = states.slice();\n            this.markRedraw();\n            if (!useHoverLayer && this.__inHover) {\n                this._toggleHoverLayerFlag(false);\n                this.__dirty &= ~REDRAW_BIT;\n            }\n        }\n    };\n    Element.prototype.isSilent = function () {\n        var el = this;\n        while (el) {\n            if (el.silent) {\n                return true;\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? (el.ignoreHostSilent ? null : hostEl) : el.parent;\n        }\n        return false;\n    };\n    Element.prototype._updateAnimationTargets = function () {\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            if (animator.targetName) {\n                animator.changeTarget(this[animator.targetName]);\n            }\n        }\n    };\n    Element.prototype.removeState = function (state) {\n        var idx = indexOf(this.currentStates, state);\n        if (idx >= 0) {\n            var currentStates = this.currentStates.slice();\n            currentStates.splice(idx, 1);\n            this.useStates(currentStates);\n        }\n    };\n    Element.prototype.replaceState = function (oldState, newState, forceAdd) {\n        var currentStates = this.currentStates.slice();\n        var idx = indexOf(currentStates, oldState);\n        var newStateExists = indexOf(currentStates, newState) >= 0;\n        if (idx >= 0) {\n            if (!newStateExists) {\n                currentStates[idx] = newState;\n            }\n            else {\n                currentStates.splice(idx, 1);\n            }\n        }\n        else if (forceAdd && !newStateExists) {\n            currentStates.push(newState);\n        }\n        this.useStates(currentStates);\n    };\n    Element.prototype.toggleState = function (state, enable) {\n        if (enable) {\n            this.useState(state, true);\n        }\n        else {\n            this.removeState(state);\n        }\n    };\n    Element.prototype._mergeStates = function (states) {\n        var mergedState = {};\n        var mergedTextConfig;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            extend(mergedState, state);\n            if (state.textConfig) {\n                mergedTextConfig = mergedTextConfig || {};\n                extend(mergedTextConfig, state.textConfig);\n            }\n        }\n        if (mergedTextConfig) {\n            mergedState.textConfig = mergedTextConfig;\n        }\n        return mergedState;\n    };\n    Element.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        if (state && state.textConfig) {\n            this.textConfig = extend({}, keepCurrentStates ? this.textConfig : normalState.textConfig);\n            extend(this.textConfig, state.textConfig);\n        }\n        else if (needsRestoreToNormal) {\n            if (normalState.textConfig) {\n                this.textConfig = normalState.textConfig;\n            }\n        }\n        var transitionTarget = {};\n        var hasTransition = false;\n        for (var i = 0; i < PRIMARY_STATES_KEYS.length; i++) {\n            var key = PRIMARY_STATES_KEYS[i];\n            var propNeedsTransition = transition && DEFAULT_ANIMATABLE_MAP[key];\n            if (state && state[key] != null) {\n                if (propNeedsTransition) {\n                    hasTransition = true;\n                    transitionTarget[key] = state[key];\n                }\n                else {\n                    this[key] = state[key];\n                }\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    if (propNeedsTransition) {\n                        hasTransition = true;\n                        transitionTarget[key] = normalState[key];\n                    }\n                    else {\n                        this[key] = normalState[key];\n                    }\n                }\n            }\n        }\n        if (!transition) {\n            for (var i = 0; i < this.animators.length; i++) {\n                var animator = this.animators[i];\n                var targetName = animator.targetName;\n                if (!animator.getLoop()) {\n                    animator.__changeFinalValue(targetName\n                        ? (state || normalState)[targetName]\n                        : (state || normalState));\n                }\n            }\n        }\n        if (hasTransition) {\n            this._transitionState(stateName, transitionTarget, animationCfg);\n        }\n    };\n    Element.prototype._attachComponent = function (componentEl) {\n        if (componentEl.__zr && !componentEl.__hostTarget) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Text element has been added to zrender.');\n            }\n            return;\n        }\n        if (componentEl === this) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Recursive component attachment.');\n            }\n            return;\n        }\n        var zr = this.__zr;\n        if (zr) {\n            componentEl.addSelfToZr(zr);\n        }\n        componentEl.__zr = zr;\n        componentEl.__hostTarget = this;\n    };\n    Element.prototype._detachComponent = function (componentEl) {\n        if (componentEl.__zr) {\n            componentEl.removeSelfFromZr(componentEl.__zr);\n        }\n        componentEl.__zr = null;\n        componentEl.__hostTarget = null;\n    };\n    Element.prototype.getClipPath = function () {\n        return this._clipPath;\n    };\n    Element.prototype.setClipPath = function (clipPath) {\n        if (this._clipPath && this._clipPath !== clipPath) {\n            this.removeClipPath();\n        }\n        this._attachComponent(clipPath);\n        this._clipPath = clipPath;\n        this.markRedraw();\n    };\n    Element.prototype.removeClipPath = function () {\n        var clipPath = this._clipPath;\n        if (clipPath) {\n            this._detachComponent(clipPath);\n            this._clipPath = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextContent = function () {\n        return this._textContent;\n    };\n    Element.prototype.setTextContent = function (textEl) {\n        var previousTextContent = this._textContent;\n        if (previousTextContent === textEl) {\n            return;\n        }\n        if (previousTextContent && previousTextContent !== textEl) {\n            this.removeTextContent();\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (textEl.__zr && !textEl.__hostTarget) {\n                throw new Error('Text element has been added to zrender.');\n            }\n        }\n        textEl.innerTransformable = new Transformable();\n        this._attachComponent(textEl);\n        this._textContent = textEl;\n        this.markRedraw();\n    };\n    Element.prototype.setTextConfig = function (cfg) {\n        if (!this.textConfig) {\n            this.textConfig = {};\n        }\n        extend(this.textConfig, cfg);\n        this.markRedraw();\n    };\n    Element.prototype.removeTextConfig = function () {\n        this.textConfig = null;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextContent = function () {\n        var textEl = this._textContent;\n        if (textEl) {\n            textEl.innerTransformable = null;\n            this._detachComponent(textEl);\n            this._textContent = null;\n            this._innerTextDefaultStyle = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextGuideLine = function () {\n        return this._textGuide;\n    };\n    Element.prototype.setTextGuideLine = function (guideLine) {\n        if (this._textGuide && this._textGuide !== guideLine) {\n            this.removeTextGuideLine();\n        }\n        this._attachComponent(guideLine);\n        this._textGuide = guideLine;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextGuideLine = function () {\n        var textGuide = this._textGuide;\n        if (textGuide) {\n            this._detachComponent(textGuide);\n            this._textGuide = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.markRedraw = function () {\n        this.__dirty |= REDRAW_BIT;\n        var zr = this.__zr;\n        if (zr) {\n            if (this.__inHover) {\n                zr.refreshHover();\n            }\n            else {\n                zr.refresh();\n            }\n        }\n        if (this.__hostTarget) {\n            this.__hostTarget.markRedraw();\n        }\n    };\n    Element.prototype.dirty = function () {\n        this.markRedraw();\n    };\n    Element.prototype._toggleHoverLayerFlag = function (inHover) {\n        this.__inHover = inHover;\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.__inHover = inHover;\n        }\n        if (textGuide) {\n            textGuide.__inHover = inHover;\n        }\n    };\n    Element.prototype.addSelfToZr = function (zr) {\n        if (this.__zr === zr) {\n            return;\n        }\n        this.__zr = zr;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.addAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.addSelfToZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.addSelfToZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.addSelfToZr(zr);\n        }\n    };\n    Element.prototype.removeSelfFromZr = function (zr) {\n        if (!this.__zr) {\n            return;\n        }\n        this.__zr = null;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.removeAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.removeSelfFromZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.removeSelfFromZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.removeSelfFromZr(zr);\n        }\n    };\n    Element.prototype.animate = function (key, loop, allowDiscreteAnimation) {\n        var target = key ? this[key] : this;\n        if (process.env.NODE_ENV !== 'production') {\n            if (!target) {\n                logError('Property \"'\n                    + key\n                    + '\" is not existed in element '\n                    + this.id);\n                return;\n            }\n        }\n        var animator = new Animator(target, loop, allowDiscreteAnimation);\n        key && (animator.targetName = key);\n        this.addAnimator(animator, key);\n        return animator;\n    };\n    Element.prototype.addAnimator = function (animator, key) {\n        var zr = this.__zr;\n        var el = this;\n        animator.during(function () {\n            el.updateDuringAnimation(key);\n        }).done(function () {\n            var animators = el.animators;\n            var idx = indexOf(animators, animator);\n            if (idx >= 0) {\n                animators.splice(idx, 1);\n            }\n        });\n        this.animators.push(animator);\n        if (zr) {\n            zr.animation.addAnimator(animator);\n        }\n        zr && zr.wakeUp();\n    };\n    Element.prototype.updateDuringAnimation = function (key) {\n        this.markRedraw();\n    };\n    Element.prototype.stopAnimation = function (scope, forwardToLast) {\n        var animators = this.animators;\n        var len = animators.length;\n        var leftAnimators = [];\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            if (!scope || scope === animator.scope) {\n                animator.stop(forwardToLast);\n            }\n            else {\n                leftAnimators.push(animator);\n            }\n        }\n        this.animators = leftAnimators;\n        return this;\n    };\n    Element.prototype.animateTo = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps);\n    };\n    Element.prototype.animateFrom = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps, true);\n    };\n    Element.prototype._transitionState = function (stateName, target, cfg, animationProps) {\n        var animators = animateTo(this, target, cfg, animationProps);\n        for (var i = 0; i < animators.length; i++) {\n            animators[i].__fromStateTransition = stateName;\n        }\n    };\n    Element.prototype.getBoundingRect = function () {\n        return null;\n    };\n    Element.prototype.getPaintRect = function () {\n        return null;\n    };\n    Element.initDefaultProps = (function () {\n        var elProto = Element.prototype;\n        elProto.type = 'element';\n        elProto.name = '';\n        elProto.ignore =\n            elProto.silent =\n                elProto.ignoreHostSilent =\n                    elProto.isGroup =\n                        elProto.draggable =\n                            elProto.dragging =\n                                elProto.ignoreClip =\n                                    elProto.__inHover = false;\n        elProto.__dirty = REDRAW_BIT;\n        var logs = {};\n        function logDeprecatedError(key, xKey, yKey) {\n            if (!logs[key + xKey + yKey]) {\n                console.warn(\"DEPRECATED: '\" + key + \"' has been deprecated. use '\" + xKey + \"', '\" + yKey + \"' instead\");\n                logs[key + xKey + yKey] = true;\n            }\n        }\n        function createLegacyProperty(key, privateKey, xKey, yKey) {\n            Object.defineProperty(elProto, key, {\n                get: function () {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    if (!this[privateKey]) {\n                        var pos = this[privateKey] = [];\n                        enhanceArray(this, pos);\n                    }\n                    return this[privateKey];\n                },\n                set: function (pos) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    this[xKey] = pos[0];\n                    this[yKey] = pos[1];\n                    this[privateKey] = pos;\n                    enhanceArray(this, pos);\n                }\n            });\n            function enhanceArray(self, pos) {\n                Object.defineProperty(pos, 0, {\n                    get: function () {\n                        return self[xKey];\n                    },\n                    set: function (val) {\n                        self[xKey] = val;\n                    }\n                });\n                Object.defineProperty(pos, 1, {\n                    get: function () {\n                        return self[yKey];\n                    },\n                    set: function (val) {\n                        self[yKey] = val;\n                    }\n                });\n            }\n        }\n        if (Object.defineProperty) {\n            createLegacyProperty('position', '_legacyPos', 'x', 'y');\n            createLegacyProperty('scale', '_legacyScale', 'scaleX', 'scaleY');\n            createLegacyProperty('origin', '_legacyOrigin', 'originX', 'originY');\n        }\n    })();\n    return Element;\n}());\nmixin(Element, Eventful);\nmixin(Element, Transformable);\nfunction animateTo(animatable, target, cfg, animationProps, reverse) {\n    cfg = cfg || {};\n    var animators = [];\n    animateToShallow(animatable, '', animatable, target, cfg, animationProps, animators, reverse);\n    var finishCount = animators.length;\n    var doneHappened = false;\n    var cfgDone = cfg.done;\n    var cfgAborted = cfg.aborted;\n    var doneCb = function () {\n        doneHappened = true;\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    var abortedCb = function () {\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    if (!finishCount) {\n        cfgDone && cfgDone();\n    }\n    if (animators.length > 0 && cfg.during) {\n        animators[0].during(function (target, percent) {\n            cfg.during(percent);\n        });\n    }\n    for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i];\n        if (doneCb) {\n            animator.done(doneCb);\n        }\n        if (abortedCb) {\n            animator.aborted(abortedCb);\n        }\n        if (cfg.force) {\n            animator.duration(cfg.duration);\n        }\n        animator.start(cfg.easing);\n    }\n    return animators;\n}\nfunction copyArrShallow(source, target, len) {\n    for (var i = 0; i < len; i++) {\n        source[i] = target[i];\n    }\n}\nfunction is2DArray(value) {\n    return isArrayLike(value[0]);\n}\nfunction copyValue(target, source, key) {\n    if (isArrayLike(source[key])) {\n        if (!isArrayLike(target[key])) {\n            target[key] = [];\n        }\n        if (isTypedArray(source[key])) {\n            var len = source[key].length;\n            if (target[key].length !== len) {\n                target[key] = new (source[key].constructor)(len);\n                copyArrShallow(target[key], source[key], len);\n            }\n        }\n        else {\n            var sourceArr = source[key];\n            var targetArr = target[key];\n            var len0 = sourceArr.length;\n            if (is2DArray(sourceArr)) {\n                var len1 = sourceArr[0].length;\n                for (var i = 0; i < len0; i++) {\n                    if (!targetArr[i]) {\n                        targetArr[i] = Array.prototype.slice.call(sourceArr[i]);\n                    }\n                    else {\n                        copyArrShallow(targetArr[i], sourceArr[i], len1);\n                    }\n                }\n            }\n            else {\n                copyArrShallow(targetArr, sourceArr, len0);\n            }\n            targetArr.length = sourceArr.length;\n        }\n    }\n    else {\n        target[key] = source[key];\n    }\n}\nfunction isValueSame(val1, val2) {\n    return val1 === val2\n        || isArrayLike(val1) && isArrayLike(val2) && is1DArraySame(val1, val2);\n}\nfunction is1DArraySame(arr0, arr1) {\n    var len = arr0.length;\n    if (len !== arr1.length) {\n        return false;\n    }\n    for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction animateToShallow(animatable, topKey, animateObj, target, cfg, animationProps, animators, reverse) {\n    var targetKeys = keys(target);\n    var duration = cfg.duration;\n    var delay = cfg.delay;\n    var additive = cfg.additive;\n    var setToFinal = cfg.setToFinal;\n    var animateAll = !isObject(animationProps);\n    var existsAnimators = animatable.animators;\n    var animationKeys = [];\n    for (var k = 0; k < targetKeys.length; k++) {\n        var innerKey = targetKeys[k];\n        var targetVal = target[innerKey];\n        if (targetVal != null && animateObj[innerKey] != null\n            && (animateAll || animationProps[innerKey])) {\n            if (isObject(targetVal)\n                && !isArrayLike(targetVal)\n                && !isGradientObject(targetVal)) {\n                if (topKey) {\n                    if (!reverse) {\n                        animateObj[innerKey] = targetVal;\n                        animatable.updateDuringAnimation(topKey);\n                    }\n                    continue;\n                }\n                animateToShallow(animatable, innerKey, animateObj[innerKey], targetVal, cfg, animationProps && animationProps[innerKey], animators, reverse);\n            }\n            else {\n                animationKeys.push(innerKey);\n            }\n        }\n        else if (!reverse) {\n            animateObj[innerKey] = targetVal;\n            animatable.updateDuringAnimation(topKey);\n            animationKeys.push(innerKey);\n        }\n    }\n    var keyLen = animationKeys.length;\n    if (!additive && keyLen) {\n        for (var i = 0; i < existsAnimators.length; i++) {\n            var animator = existsAnimators[i];\n            if (animator.targetName === topKey) {\n                var allAborted = animator.stopTracks(animationKeys);\n                if (allAborted) {\n                    var idx = indexOf(existsAnimators, animator);\n                    existsAnimators.splice(idx, 1);\n                }\n            }\n        }\n    }\n    if (!cfg.force) {\n        animationKeys = filter(animationKeys, function (key) { return !isValueSame(target[key], animateObj[key]); });\n        keyLen = animationKeys.length;\n    }\n    if (keyLen > 0\n        || (cfg.force && !animators.length)) {\n        var revertedSource = void 0;\n        var reversedTarget = void 0;\n        var sourceClone = void 0;\n        if (reverse) {\n            reversedTarget = {};\n            if (setToFinal) {\n                revertedSource = {};\n            }\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                reversedTarget[innerKey] = animateObj[innerKey];\n                if (setToFinal) {\n                    revertedSource[innerKey] = target[innerKey];\n                }\n                else {\n                    animateObj[innerKey] = target[innerKey];\n                }\n            }\n        }\n        else if (setToFinal) {\n            sourceClone = {};\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                sourceClone[innerKey] = cloneValue(animateObj[innerKey]);\n                copyValue(animateObj, target, innerKey);\n            }\n        }\n        var animator = new Animator(animateObj, false, false, additive ? filter(existsAnimators, function (animator) { return animator.targetName === topKey; }) : null);\n        animator.targetName = topKey;\n        if (cfg.scope) {\n            animator.scope = cfg.scope;\n        }\n        if (setToFinal && revertedSource) {\n            animator.whenWithKeys(0, revertedSource, animationKeys);\n        }\n        if (sourceClone) {\n            animator.whenWithKeys(0, sourceClone, animationKeys);\n        }\n        animator.whenWithKeys(duration == null ? 500 : duration, reverse ? reversedTarget : target, animationKeys).delay(delay || 0);\n        animatable.addAnimator(animator, topKey);\n        animators.push(animator);\n    }\n}\nexport default Element;\n","import { __extends } from \"tslib\";\nimport * as zrUtil from '../core/util.js';\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar Group = (function (_super) {\n    __extends(Group, _super);\n    function Group(opts) {\n        var _this = _super.call(this) || this;\n        _this.isGroup = true;\n        _this._children = [];\n        _this.attr(opts);\n        return _this;\n    }\n    Group.prototype.childrenRef = function () {\n        return this._children;\n    };\n    Group.prototype.children = function () {\n        return this._children.slice();\n    };\n    Group.prototype.childAt = function (idx) {\n        return this._children[idx];\n    };\n    Group.prototype.childOfName = function (name) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n                return children[i];\n            }\n        }\n    };\n    Group.prototype.childCount = function () {\n        return this._children.length;\n    };\n    Group.prototype.add = function (child) {\n        if (child) {\n            if (child !== this && child.parent !== this) {\n                this._children.push(child);\n                this._doAdd(child);\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                if (child.__hostTarget) {\n                    throw 'This elemenet has been used as an attachment';\n                }\n            }\n        }\n        return this;\n    };\n    Group.prototype.addBefore = function (child, nextSibling) {\n        if (child && child !== this && child.parent !== this\n            && nextSibling && nextSibling.parent === this) {\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n            if (idx >= 0) {\n                children.splice(idx, 0, child);\n                this._doAdd(child);\n            }\n        }\n        return this;\n    };\n    Group.prototype.replace = function (oldChild, newChild) {\n        var idx = zrUtil.indexOf(this._children, oldChild);\n        if (idx >= 0) {\n            this.replaceAt(newChild, idx);\n        }\n        return this;\n    };\n    Group.prototype.replaceAt = function (child, index) {\n        var children = this._children;\n        var old = children[index];\n        if (child && child !== this && child.parent !== this && child !== old) {\n            children[index] = child;\n            old.parent = null;\n            var zr = this.__zr;\n            if (zr) {\n                old.removeSelfFromZr(zr);\n            }\n            this._doAdd(child);\n        }\n        return this;\n    };\n    Group.prototype._doAdd = function (child) {\n        if (child.parent) {\n            child.parent.remove(child);\n        }\n        child.parent = this;\n        var zr = this.__zr;\n        if (zr && zr !== child.__zr) {\n            child.addSelfToZr(zr);\n        }\n        zr && zr.refresh();\n    };\n    Group.prototype.remove = function (child) {\n        var zr = this.__zr;\n        var children = this._children;\n        var idx = zrUtil.indexOf(children, child);\n        if (idx < 0) {\n            return this;\n        }\n        children.splice(idx, 1);\n        child.parent = null;\n        if (zr) {\n            child.removeSelfFromZr(zr);\n        }\n        zr && zr.refresh();\n        return this;\n    };\n    Group.prototype.removeAll = function () {\n        var children = this._children;\n        var zr = this.__zr;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (zr) {\n                child.removeSelfFromZr(zr);\n            }\n            child.parent = null;\n        }\n        children.length = 0;\n        return this;\n    };\n    Group.prototype.eachChild = function (cb, context) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n        }\n        return this;\n    };\n    Group.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            var stopped = cb.call(context, child);\n            if (child.isGroup && !stopped) {\n                child.traverse(cb, context);\n            }\n        }\n        return this;\n    };\n    Group.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.addSelfToZr(zr);\n        }\n    };\n    Group.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.removeSelfFromZr(zr);\n        }\n    };\n    Group.prototype.getBoundingRect = function (includeChildren) {\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\n        var children = includeChildren || this._children;\n        var tmpMat = [];\n        var rect = null;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (child.ignore || child.invisible) {\n                continue;\n            }\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat);\n            if (transform) {\n                BoundingRect.applyTransform(tmpRect, childRect, transform);\n                rect = rect || tmpRect.clone();\n                rect.union(tmpRect);\n            }\n            else {\n                rect = rect || childRect.clone();\n                rect.union(childRect);\n            }\n        }\n        return rect || tmpRect;\n    };\n    return Group;\n}(Element));\nGroup.prototype.type = 'group';\nexport default Group;\n","/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env.js';\nimport * as zrUtil from './core/util.js';\nimport Handler from './Handler.js';\nimport Storage from './Storage.js';\nimport Animation, { getTime } from './animation/Animation.js';\nimport HandlerProxy from './dom/HandlerProxy.js';\nimport { lum } from './tool/color.js';\nimport { DARK_MODE_THRESHOLD } from './config.js';\nimport Group from './graphic/Group.js';\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (!painterCtors[rendererType]) {\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n            }\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        var ssrMode = opts.ssr || painter.ssrOnly;\n        this.storage = storage;\n        this.painter = painter;\n        var handlerProxy = (!env.node && !env.worker && !ssrMode)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        var useCoarsePointer = opts.useCoarsePointer;\n        var usePointerSize = (useCoarsePointer == null || useCoarsePointer === 'auto')\n            ? env.touchEventsSupported\n            : !!useCoarsePointer;\n        var defaultPointerSize = 44;\n        var pointerSize;\n        if (usePointerSize) {\n            pointerSize = zrUtil.retrieve2(opts.pointerSize, defaultPointerSize);\n        }\n        this.handler = new Handler(storage, painter, handlerProxy, painter.root, pointerSize);\n        this.animation = new Animation({\n            stage: {\n                update: ssrMode ? null : function () { return _this._flush(true); }\n            }\n        });\n        if (!ssrMode) {\n            this.animation.start();\n        }\n    }\n    ZRender.prototype.add = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (this._disposed) {\n            return;\n        }\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        if (this._disposed) {\n            return;\n        }\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        if (this._disposed) {\n            return;\n        }\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        if (!this._disposed) {\n            this.handler.on(eventName, eventHandler, context);\n        }\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        if (this._disposed) {\n            return;\n        }\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        this._disposed = true;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nvar ssrDataGetter;\nexport function getElementSSRData(el) {\n    if (typeof ssrDataGetter === 'function') {\n        return ssrDataGetter(el);\n    }\n}\nexport function registerSSRDataGetter(getter) {\n    ssrDataGetter = getter;\n}\nexport var version = '6.0.0';\n;\n","import LRU from '../../core/LRU.js';\nimport { platformApi } from '../../core/platform.js';\nvar globalImageCache = new LRU(50);\nexport function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        return cachedImgObj && cachedImgObj.image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nexport function createOrUpdateImage(newImageOrSrc, image, hostEl, onload, cbPayload) {\n    if (!newImageOrSrc) {\n        return image;\n    }\n    else if (typeof newImageOrSrc === 'string') {\n        if ((image && image.__zrImageSrc === newImageOrSrc) || !hostEl) {\n            return image;\n        }\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        var pendingWrap = { hostEl: hostEl, cb: onload, cbPayload: cbPayload };\n        if (cachedImgObj) {\n            image = cachedImgObj.image;\n            !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n        }\n        else {\n            image = platformApi.loadImage(newImageOrSrc, imageOnLoad, imageOnLoad);\n            image.__zrImageSrc = newImageOrSrc;\n            globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n                image: image,\n                pending: [pendingWrap]\n            });\n        }\n        return image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nfunction imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n        var pendingWrap = cachedImgObj.pending[i];\n        var cb = pendingWrap.cb;\n        cb && cb(this, pendingWrap.cbPayload);\n        pendingWrap.hostEl.dirty();\n    }\n    cachedImgObj.pending.length = 0;\n}\nexport function isImageReady(image) {\n    return image && image.width && image.height;\n}\n","import * as imageHelper from '../helper/image.js';\nimport { extend, retrieve2, retrieve3, reduce, } from '../../core/util.js';\nimport { adjustTextX, adjustTextY, ensureFontMeasureInfo, getLineHeight, measureCharWidth, measureWidth, parsePercent, } from '../../contain/text.js';\nimport BoundingRect from '../../core/BoundingRect.js';\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nexport function truncateText(text, containerWidth, font, ellipsis, options) {\n    var out = {};\n    truncateText2(out, text, containerWidth, font, ellipsis, options);\n    return out.text;\n}\nfunction truncateText2(out, text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n        out.text = '';\n        out.isTruncated = false;\n        return;\n    }\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);\n    var isTruncated = false;\n    var truncateOut = {};\n    for (var i = 0, len = textLines.length; i < len; i++) {\n        truncateSingleLine(truncateOut, textLines[i], options);\n        textLines[i] = truncateOut.textLine;\n        isTruncated = isTruncated || truncateOut.isTruncated;\n    }\n    out.text = textLines.join('\\n');\n    out.isTruncated = isTruncated;\n}\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = options || {};\n    var preparedOpts = extend({}, options);\n    ellipsis = retrieve2(ellipsis, '...');\n    preparedOpts.maxIterations = retrieve2(options.maxIterations, 2);\n    var minChar = preparedOpts.minChar = retrieve2(options.minChar, 0);\n    var fontMeasureInfo = preparedOpts.fontMeasureInfo = ensureFontMeasureInfo(font);\n    var ascCharWidth = fontMeasureInfo.asciiCharWidth;\n    preparedOpts.placeholder = retrieve2(options.placeholder, '');\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1);\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n        contentWidth -= ascCharWidth;\n    }\n    var ellipsisWidth = measureWidth(fontMeasureInfo, ellipsis);\n    if (ellipsisWidth > contentWidth) {\n        ellipsis = '';\n        ellipsisWidth = 0;\n    }\n    contentWidth = containerWidth - ellipsisWidth;\n    preparedOpts.ellipsis = ellipsis;\n    preparedOpts.ellipsisWidth = ellipsisWidth;\n    preparedOpts.contentWidth = contentWidth;\n    preparedOpts.containerWidth = containerWidth;\n    return preparedOpts;\n}\nfunction truncateSingleLine(out, textLine, options) {\n    var containerWidth = options.containerWidth;\n    var contentWidth = options.contentWidth;\n    var fontMeasureInfo = options.fontMeasureInfo;\n    if (!containerWidth) {\n        out.textLine = '';\n        out.isTruncated = false;\n        return;\n    }\n    var lineWidth = measureWidth(fontMeasureInfo, textLine);\n    if (lineWidth <= containerWidth) {\n        out.textLine = textLine;\n        out.isTruncated = false;\n        return;\n    }\n    for (var j = 0;; j++) {\n        if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n        }\n        var subLength = j === 0\n            ? estimateLength(textLine, contentWidth, fontMeasureInfo)\n            : lineWidth > 0\n                ? Math.floor(textLine.length * contentWidth / lineWidth)\n                : 0;\n        textLine = textLine.substr(0, subLength);\n        lineWidth = measureWidth(fontMeasureInfo, textLine);\n    }\n    if (textLine === '') {\n        textLine = options.placeholder;\n    }\n    out.textLine = textLine;\n    out.isTruncated = true;\n}\nfunction estimateLength(text, contentWidth, fontMeasureInfo) {\n    var width = 0;\n    var i = 0;\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n        width += measureCharWidth(fontMeasureInfo, text.charCodeAt(i));\n    }\n    return i;\n}\nexport function parsePlainText(rawText, style, defaultOuterWidth, defaultOuterHeight) {\n    var text = formatText(rawText);\n    var overflow = style.overflow;\n    var padding = style.padding;\n    var paddingH = padding ? padding[1] + padding[3] : 0;\n    var paddingV = padding ? padding[0] + padding[2] : 0;\n    var font = style.font;\n    var truncate = overflow === 'truncate';\n    var calculatedLineHeight = getLineHeight(font);\n    var lineHeight = retrieve2(style.lineHeight, calculatedLineHeight);\n    var truncateLineOverflow = style.lineOverflow === 'truncate';\n    var isTruncated = false;\n    var width = style.width;\n    if (width == null && defaultOuterWidth != null) {\n        width = defaultOuterWidth - paddingH;\n    }\n    var height = style.height;\n    if (height == null && defaultOuterHeight != null) {\n        height = defaultOuterHeight - paddingV;\n    }\n    var lines;\n    if (width != null && (overflow === 'break' || overflow === 'breakAll')) {\n        lines = text ? wrapText(text, style.font, width, overflow === 'breakAll', 0).lines : [];\n    }\n    else {\n        lines = text ? text.split('\\n') : [];\n    }\n    var contentHeight = lines.length * lineHeight;\n    if (height == null) {\n        height = contentHeight;\n    }\n    if (contentHeight > height && truncateLineOverflow) {\n        var lineCount = Math.floor(height / lineHeight);\n        isTruncated = isTruncated || (lines.length > lineCount);\n        lines = lines.slice(0, lineCount);\n        contentHeight = lines.length * lineHeight;\n    }\n    if (text && truncate && width != null) {\n        var options = prepareTruncateOptions(width, font, style.ellipsis, {\n            minChar: style.truncateMinChar,\n            placeholder: style.placeholder\n        });\n        var singleOut = {};\n        for (var i = 0; i < lines.length; i++) {\n            truncateSingleLine(singleOut, lines[i], options);\n            lines[i] = singleOut.textLine;\n            isTruncated = isTruncated || singleOut.isTruncated;\n        }\n    }\n    var outerHeight = height;\n    var contentWidth = 0;\n    var fontMeasureInfo = ensureFontMeasureInfo(font);\n    for (var i = 0; i < lines.length; i++) {\n        contentWidth = Math.max(measureWidth(fontMeasureInfo, lines[i]), contentWidth);\n    }\n    if (width == null) {\n        width = contentWidth;\n    }\n    var outerWidth = width;\n    outerHeight += paddingV;\n    outerWidth += paddingH;\n    return {\n        lines: lines,\n        height: height,\n        outerWidth: outerWidth,\n        outerHeight: outerHeight,\n        lineHeight: lineHeight,\n        calculatedLineHeight: calculatedLineHeight,\n        contentWidth: contentWidth,\n        contentHeight: contentHeight,\n        width: width,\n        isTruncated: isTruncated\n    };\n}\nvar RichTextToken = (function () {\n    function RichTextToken() {\n    }\n    return RichTextToken;\n}());\nvar RichTextLine = (function () {\n    function RichTextLine(tokens) {\n        this.tokens = [];\n        if (tokens) {\n            this.tokens = tokens;\n        }\n    }\n    return RichTextLine;\n}());\nvar RichTextContentBlock = (function () {\n    function RichTextContentBlock() {\n        this.width = 0;\n        this.height = 0;\n        this.contentWidth = 0;\n        this.contentHeight = 0;\n        this.outerWidth = 0;\n        this.outerHeight = 0;\n        this.lines = [];\n        this.isTruncated = false;\n    }\n    return RichTextContentBlock;\n}());\nexport { RichTextContentBlock };\nexport function parseRichText(rawText, style, defaultOuterWidth, defaultOuterHeight, topTextAlign) {\n    var contentBlock = new RichTextContentBlock();\n    var text = formatText(rawText);\n    if (!text) {\n        return contentBlock;\n    }\n    var stlPadding = style.padding;\n    var stlPaddingH = stlPadding ? stlPadding[1] + stlPadding[3] : 0;\n    var stlPaddingV = stlPadding ? stlPadding[0] + stlPadding[2] : 0;\n    var topWidth = style.width;\n    if (topWidth == null && defaultOuterWidth != null) {\n        topWidth = defaultOuterWidth - stlPaddingH;\n    }\n    var topHeight = style.height;\n    if (topHeight == null && defaultOuterHeight != null) {\n        topHeight = defaultOuterHeight - stlPaddingV;\n    }\n    var overflow = style.overflow;\n    var wrapInfo = (overflow === 'break' || overflow === 'breakAll') && topWidth != null\n        ? { width: topWidth, accumWidth: 0, breakAll: overflow === 'breakAll' }\n        : null;\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n    while ((result = STYLE_REG.exec(text)) != null) {\n        var matchedIndex = result.index;\n        if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex), style, wrapInfo);\n        }\n        pushTokens(contentBlock, result[2], style, wrapInfo, result[1]);\n        lastIndex = STYLE_REG.lastIndex;\n    }\n    if (lastIndex < text.length) {\n        pushTokens(contentBlock, text.substring(lastIndex, text.length), style, wrapInfo);\n    }\n    var pendingList = [];\n    var calculatedHeight = 0;\n    var calculatedWidth = 0;\n    var truncate = overflow === 'truncate';\n    var truncateLine = style.lineOverflow === 'truncate';\n    var tmpTruncateOut = {};\n    function finishLine(line, lineWidth, lineHeight) {\n        line.width = lineWidth;\n        line.lineHeight = lineHeight;\n        calculatedHeight += lineHeight;\n        calculatedWidth = Math.max(calculatedWidth, lineWidth);\n    }\n    outer: for (var i = 0; i < contentBlock.lines.length; i++) {\n        var line = contentBlock.lines[i];\n        var lineHeight = 0;\n        var lineWidth = 0;\n        for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {};\n            var textPadding = token.textPadding = tokenStyle.padding;\n            var paddingH = textPadding ? textPadding[1] + textPadding[3] : 0;\n            var font = token.font = tokenStyle.font || style.font;\n            token.contentHeight = getLineHeight(font);\n            var tokenHeight = retrieve2(tokenStyle.height, token.contentHeight);\n            token.innerHeight = tokenHeight;\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(tokenStyle.lineHeight, style.lineHeight, tokenHeight);\n            token.align = tokenStyle && tokenStyle.align || topTextAlign;\n            token.verticalAlign = tokenStyle && tokenStyle.verticalAlign || 'middle';\n            if (truncateLine && topHeight != null && calculatedHeight + token.lineHeight > topHeight) {\n                var originalLength = contentBlock.lines.length;\n                if (j > 0) {\n                    line.tokens = line.tokens.slice(0, j);\n                    finishLine(line, lineWidth, lineHeight);\n                    contentBlock.lines = contentBlock.lines.slice(0, i + 1);\n                }\n                else {\n                    contentBlock.lines = contentBlock.lines.slice(0, i);\n                }\n                contentBlock.isTruncated = contentBlock.isTruncated || (contentBlock.lines.length < originalLength);\n                break outer;\n            }\n            var styleTokenWidth = tokenStyle.width;\n            var tokenWidthNotSpecified = styleTokenWidth == null || styleTokenWidth === 'auto';\n            if (typeof styleTokenWidth === 'string' && styleTokenWidth.charAt(styleTokenWidth.length - 1) === '%') {\n                token.percentWidth = styleTokenWidth;\n                pendingList.push(token);\n                token.contentWidth = measureWidth(ensureFontMeasureInfo(font), token.text);\n            }\n            else {\n                if (tokenWidthNotSpecified) {\n                    var textBackgroundColor = tokenStyle.backgroundColor;\n                    var bgImg = textBackgroundColor && textBackgroundColor.image;\n                    if (bgImg) {\n                        bgImg = imageHelper.findExistImage(bgImg);\n                        if (imageHelper.isImageReady(bgImg)) {\n                            token.width = Math.max(token.width, bgImg.width * tokenHeight / bgImg.height);\n                        }\n                    }\n                }\n                var remainTruncWidth = truncate && topWidth != null\n                    ? topWidth - lineWidth : null;\n                if (remainTruncWidth != null && remainTruncWidth < token.width) {\n                    if (!tokenWidthNotSpecified || remainTruncWidth < paddingH) {\n                        token.text = '';\n                        token.width = token.contentWidth = 0;\n                    }\n                    else {\n                        truncateText2(tmpTruncateOut, token.text, remainTruncWidth - paddingH, font, style.ellipsis, { minChar: style.truncateMinChar });\n                        token.text = tmpTruncateOut.text;\n                        contentBlock.isTruncated = contentBlock.isTruncated || tmpTruncateOut.isTruncated;\n                        token.width = token.contentWidth = measureWidth(ensureFontMeasureInfo(font), token.text);\n                    }\n                }\n                else {\n                    token.contentWidth = measureWidth(ensureFontMeasureInfo(font), token.text);\n                }\n            }\n            token.width += paddingH;\n            lineWidth += token.width;\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n        }\n        finishLine(line, lineWidth, lineHeight);\n    }\n    contentBlock.outerWidth = contentBlock.width = retrieve2(topWidth, calculatedWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2(topHeight, calculatedHeight);\n    contentBlock.contentHeight = calculatedHeight;\n    contentBlock.contentWidth = calculatedWidth;\n    contentBlock.outerWidth += stlPaddingH;\n    contentBlock.outerHeight += stlPaddingV;\n    for (var i = 0; i < pendingList.length; i++) {\n        var token = pendingList[i];\n        var percentWidth = token.percentWidth;\n        token.width = parseInt(percentWidth, 10) / 100 * contentBlock.width;\n    }\n    return contentBlock;\n}\nfunction pushTokens(block, str, style, wrapInfo, styleName) {\n    var isEmptyStr = str === '';\n    var tokenStyle = styleName && style.rich[styleName] || {};\n    var lines = block.lines;\n    var font = tokenStyle.font || style.font;\n    var newLine = false;\n    var strLines;\n    var linesWidths;\n    if (wrapInfo) {\n        var tokenPadding = tokenStyle.padding;\n        var tokenPaddingH = tokenPadding ? tokenPadding[1] + tokenPadding[3] : 0;\n        if (tokenStyle.width != null && tokenStyle.width !== 'auto') {\n            var outerWidth_1 = parsePercent(tokenStyle.width, wrapInfo.width) + tokenPaddingH;\n            if (lines.length > 0) {\n                if (outerWidth_1 + wrapInfo.accumWidth > wrapInfo.width) {\n                    strLines = str.split('\\n');\n                    newLine = true;\n                }\n            }\n            wrapInfo.accumWidth = outerWidth_1;\n        }\n        else {\n            var res = wrapText(str, font, wrapInfo.width, wrapInfo.breakAll, wrapInfo.accumWidth);\n            wrapInfo.accumWidth = res.accumWidth + tokenPaddingH;\n            linesWidths = res.linesWidths;\n            strLines = res.lines;\n        }\n    }\n    if (!strLines) {\n        strLines = str.split('\\n');\n    }\n    var fontMeasureInfo = ensureFontMeasureInfo(font);\n    for (var i = 0; i < strLines.length; i++) {\n        var text = strLines[i];\n        var token = new RichTextToken();\n        token.styleName = styleName;\n        token.text = text;\n        token.isLineHolder = !text && !isEmptyStr;\n        if (typeof tokenStyle.width === 'number') {\n            token.width = tokenStyle.width;\n        }\n        else {\n            token.width = linesWidths\n                ? linesWidths[i]\n                : measureWidth(fontMeasureInfo, text);\n        }\n        if (!i && !newLine) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = new RichTextLine())).tokens;\n            var tokensLen = tokens.length;\n            (tokensLen === 1 && tokens[0].isLineHolder)\n                ? (tokens[0] = token)\n                : ((text || !tokensLen || isEmptyStr) && tokens.push(token));\n        }\n        else {\n            lines.push(new RichTextLine([token]));\n        }\n    }\n}\nfunction isAlphabeticLetter(ch) {\n    var code = ch.charCodeAt(0);\n    return code >= 0x20 && code <= 0x24F\n        || code >= 0x370 && code <= 0x10FF\n        || code >= 0x1200 && code <= 0x13FF\n        || code >= 0x1E00 && code <= 0x206F;\n}\nvar breakCharMap = reduce(',&?/;] '.split(''), function (obj, ch) {\n    obj[ch] = true;\n    return obj;\n}, {});\nfunction isWordBreakChar(ch) {\n    if (isAlphabeticLetter(ch)) {\n        if (breakCharMap[ch]) {\n            return true;\n        }\n        return false;\n    }\n    return true;\n}\nfunction wrapText(text, font, lineWidth, isBreakAll, lastAccumWidth) {\n    var lines = [];\n    var linesWidths = [];\n    var line = '';\n    var currentWord = '';\n    var currentWordWidth = 0;\n    var accumWidth = 0;\n    var fontMeasureInfo = ensureFontMeasureInfo(font);\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charAt(i);\n        if (ch === '\\n') {\n            if (currentWord) {\n                line += currentWord;\n                accumWidth += currentWordWidth;\n            }\n            lines.push(line);\n            linesWidths.push(accumWidth);\n            line = '';\n            currentWord = '';\n            currentWordWidth = 0;\n            accumWidth = 0;\n            continue;\n        }\n        var chWidth = measureCharWidth(fontMeasureInfo, ch.charCodeAt(0));\n        var inWord = isBreakAll ? false : !isWordBreakChar(ch);\n        if (!lines.length\n            ? lastAccumWidth + accumWidth + chWidth > lineWidth\n            : accumWidth + chWidth > lineWidth) {\n            if (!accumWidth) {\n                if (inWord) {\n                    lines.push(currentWord);\n                    linesWidths.push(currentWordWidth);\n                    currentWord = ch;\n                    currentWordWidth = chWidth;\n                }\n                else {\n                    lines.push(ch);\n                    linesWidths.push(chWidth);\n                }\n            }\n            else if (line || currentWord) {\n                if (inWord) {\n                    if (!line) {\n                        line = currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                        accumWidth = currentWordWidth;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth - currentWordWidth);\n                    currentWord += ch;\n                    currentWordWidth += chWidth;\n                    line = '';\n                    accumWidth = currentWordWidth;\n                }\n                else {\n                    if (currentWord) {\n                        line += currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth);\n                    line = ch;\n                    accumWidth = chWidth;\n                }\n            }\n            continue;\n        }\n        accumWidth += chWidth;\n        if (inWord) {\n            currentWord += ch;\n            currentWordWidth += chWidth;\n        }\n        else {\n            if (currentWord) {\n                line += currentWord;\n                currentWord = '';\n                currentWordWidth = 0;\n            }\n            line += ch;\n        }\n    }\n    if (currentWord) {\n        line += currentWord;\n    }\n    if (line) {\n        lines.push(line);\n        linesWidths.push(accumWidth);\n    }\n    if (lines.length === 1) {\n        accumWidth += lastAccumWidth;\n    }\n    return {\n        accumWidth: accumWidth,\n        lines: lines,\n        linesWidths: linesWidths\n    };\n}\nexport function calcInnerTextOverflowArea(out, overflowRect, baseX, baseY, textAlign, textVerticalAlign) {\n    out.baseX = baseX;\n    out.baseY = baseY;\n    out.outerWidth = out.outerHeight = null;\n    if (!overflowRect) {\n        return;\n    }\n    var textWidth = overflowRect.width * 2;\n    var textHeight = overflowRect.height * 2;\n    BoundingRect.set(tmpCITCTextRect, adjustTextX(baseX, textWidth, textAlign), adjustTextY(baseY, textHeight, textVerticalAlign), textWidth, textHeight);\n    BoundingRect.intersect(overflowRect, tmpCITCTextRect, null, tmpCITCIntersectRectOpt);\n    var outIntersectRect = tmpCITCIntersectRectOpt.outIntersectRect;\n    out.outerWidth = outIntersectRect.width;\n    out.outerHeight = outIntersectRect.height;\n    out.baseX = adjustTextX(outIntersectRect.x, outIntersectRect.width, textAlign, true);\n    out.baseY = adjustTextY(outIntersectRect.y, outIntersectRect.height, textVerticalAlign, true);\n}\nvar tmpCITCTextRect = new BoundingRect(0, 0, 0, 0);\nvar tmpCITCIntersectRectOpt = { outIntersectRect: {}, clamp: true };\nfunction formatText(text) {\n    return text != null ? (text += '') : (text = '');\n}\nexport function tSpanCreateBoundingRect(style) {\n    var text = formatText(style.text);\n    var font = style.font;\n    var contentWidth = measureWidth(ensureFontMeasureInfo(font), text);\n    var contentHeight = getLineHeight(font);\n    return tSpanCreateBoundingRect2(style, contentWidth, contentHeight, null);\n}\nexport function tSpanCreateBoundingRect2(style, contentWidth, contentHeight, forceLineWidth) {\n    var rect = new BoundingRect(adjustTextX(style.x || 0, contentWidth, style.textAlign), adjustTextY(style.y || 0, contentHeight, style.textBaseline), contentWidth, contentHeight);\n    var lineWidth = forceLineWidth != null\n        ? forceLineWidth\n        : (tSpanHasStroke(style) ? style.lineWidth : 0);\n    if (lineWidth > 0) {\n        rect.x -= lineWidth / 2;\n        rect.y -= lineWidth / 2;\n        rect.width += lineWidth;\n        rect.height += lineWidth;\n    }\n    return rect;\n}\nexport function tSpanHasStroke(style) {\n    var stroke = style.stroke;\n    return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n}\n","import { __extends } from \"tslib\";\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { keys, extend, createObject } from '../core/util.js';\nimport { REDRAW_BIT, STYLE_CHANGED_BIT } from './constants.js';\nvar STYLE_MAGIC_KEY = '__zr_style_' + Math.round((Math.random() * 10));\nexport var DEFAULT_COMMON_STYLE = {\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    shadowColor: '#000',\n    opacity: 1,\n    blend: 'source-over'\n};\nexport var DEFAULT_COMMON_ANIMATION_PROPS = {\n    style: {\n        shadowBlur: true,\n        shadowOffsetX: true,\n        shadowOffsetY: true,\n        shadowColor: true,\n        opacity: true\n    }\n};\nDEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = true;\nvar PRIMARY_STATES_KEYS = ['z', 'z2', 'invisible'];\nvar PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ['invisible'];\nvar Displayable = (function (_super) {\n    __extends(Displayable, _super);\n    function Displayable(props) {\n        return _super.call(this, props) || this;\n    }\n    Displayable.prototype._init = function (props) {\n        var keysArr = keys(props);\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            if (key === 'style') {\n                this.useStyle(props[key]);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, props[key]);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Displayable.prototype.beforeBrush = function () { };\n    Displayable.prototype.afterBrush = function () { };\n    Displayable.prototype.innerBeforeBrush = function () { };\n    Displayable.prototype.innerAfterBrush = function () { };\n    Displayable.prototype.shouldBePainted = function (viewWidth, viewHeight, considerClipPath, considerAncestors) {\n        var m = this.transform;\n        if (this.ignore\n            || this.invisible\n            || this.style.opacity === 0\n            || (this.culling\n                && isDisplayableCulled(this, viewWidth, viewHeight))\n            || (m && !m[0] && !m[3])) {\n            return false;\n        }\n        if (considerClipPath && this.__clipPaths && this.__clipPaths.length) {\n            for (var i = 0; i < this.__clipPaths.length; ++i) {\n                if (this.__clipPaths[i].isZeroArea()) {\n                    return false;\n                }\n            }\n        }\n        if (considerAncestors && this.parent) {\n            var parent_1 = this.parent;\n            while (parent_1) {\n                if (parent_1.ignore) {\n                    return false;\n                }\n                parent_1 = parent_1.parent;\n            }\n        }\n        return true;\n    };\n    Displayable.prototype.contain = function (x, y) {\n        return this.rectContain(x, y);\n    };\n    Displayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    Displayable.prototype.rectContain = function (x, y) {\n        var coord = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        return rect.contain(coord[0], coord[1]);\n    };\n    Displayable.prototype.getPaintRect = function () {\n        var rect = this._paintRect;\n        if (!this._paintRect || this.__dirty) {\n            var transform = this.transform;\n            var elRect = this.getBoundingRect();\n            var style = this.style;\n            var shadowSize = style.shadowBlur || 0;\n            var shadowOffsetX = style.shadowOffsetX || 0;\n            var shadowOffsetY = style.shadowOffsetY || 0;\n            rect = this._paintRect || (this._paintRect = new BoundingRect(0, 0, 0, 0));\n            if (transform) {\n                BoundingRect.applyTransform(rect, elRect, transform);\n            }\n            else {\n                rect.copy(elRect);\n            }\n            if (shadowSize || shadowOffsetX || shadowOffsetY) {\n                rect.width += shadowSize * 2 + Math.abs(shadowOffsetX);\n                rect.height += shadowSize * 2 + Math.abs(shadowOffsetY);\n                rect.x = Math.min(rect.x, rect.x + shadowOffsetX - shadowSize);\n                rect.y = Math.min(rect.y, rect.y + shadowOffsetY - shadowSize);\n            }\n            var tolerance = this.dirtyRectTolerance;\n            if (!rect.isZero()) {\n                rect.x = Math.floor(rect.x - tolerance);\n                rect.y = Math.floor(rect.y - tolerance);\n                rect.width = Math.ceil(rect.width + 1 + tolerance * 2);\n                rect.height = Math.ceil(rect.height + 1 + tolerance * 2);\n            }\n        }\n        return rect;\n    };\n    Displayable.prototype.setPrevPaintRect = function (paintRect) {\n        if (paintRect) {\n            this._prevPaintRect = this._prevPaintRect || new BoundingRect(0, 0, 0, 0);\n            this._prevPaintRect.copy(paintRect);\n        }\n        else {\n            this._prevPaintRect = null;\n        }\n    };\n    Displayable.prototype.getPrevPaintRect = function () {\n        return this._prevPaintRect;\n    };\n    Displayable.prototype.animateStyle = function (loop) {\n        return this.animate('style', loop);\n    };\n    Displayable.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Displayable.prototype.attrKV = function (key, value) {\n        if (key !== 'style') {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n        else {\n            if (!this.style) {\n                this.useStyle(value);\n            }\n            else {\n                this.setStyle(value);\n            }\n        }\n    };\n    Displayable.prototype.setStyle = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.style[keyOrObj] = value;\n        }\n        else {\n            extend(this.style, keyOrObj);\n        }\n        this.dirtyStyle();\n        return this;\n    };\n    Displayable.prototype.dirtyStyle = function (notRedraw) {\n        if (!notRedraw) {\n            this.markRedraw();\n        }\n        this.__dirty |= STYLE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n    };\n    Displayable.prototype.dirty = function () {\n        this.dirtyStyle();\n    };\n    Displayable.prototype.styleChanged = function () {\n        return !!(this.__dirty & STYLE_CHANGED_BIT);\n    };\n    Displayable.prototype.styleUpdated = function () {\n        this.__dirty &= ~STYLE_CHANGED_BIT;\n    };\n    Displayable.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_COMMON_STYLE, obj);\n    };\n    Displayable.prototype.useStyle = function (obj) {\n        if (!obj[STYLE_MAGIC_KEY]) {\n            obj = this.createStyle(obj);\n        }\n        if (this.__inHover) {\n            this.__hoverStyle = obj;\n        }\n        else {\n            this.style = obj;\n        }\n        this.dirtyStyle();\n    };\n    Displayable.prototype.isStyleObject = function (obj) {\n        return obj[STYLE_MAGIC_KEY];\n    };\n    Displayable.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.style && !normalState.style) {\n            normalState.style = this._mergeStyle(this.createStyle(), this.style);\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Displayable.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetStyle;\n        if (state && state.style) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetStyle = state.style;\n                }\n                else {\n                    targetStyle = this._mergeStyle(this.createStyle(), normalState.style);\n                    this._mergeStyle(targetStyle, state.style);\n                }\n            }\n            else {\n                targetStyle = this._mergeStyle(this.createStyle(), keepCurrentStates ? this.style : normalState.style);\n                this._mergeStyle(targetStyle, state.style);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetStyle = normalState.style;\n        }\n        if (targetStyle) {\n            if (transition) {\n                var sourceStyle = this.style;\n                this.style = this.createStyle(needsRestoreToNormal ? {} : sourceStyle);\n                if (needsRestoreToNormal) {\n                    var changedKeys = keys(sourceStyle);\n                    for (var i = 0; i < changedKeys.length; i++) {\n                        var key = changedKeys[i];\n                        if (key in targetStyle) {\n                            targetStyle[key] = targetStyle[key];\n                            this.style[key] = sourceStyle[key];\n                        }\n                    }\n                }\n                var targetKeys = keys(targetStyle);\n                for (var i = 0; i < targetKeys.length; i++) {\n                    var key = targetKeys[i];\n                    this.style[key] = this.style[key];\n                }\n                this._transitionState(stateName, {\n                    style: targetStyle\n                }, animationCfg, this.getAnimationStyleProps());\n            }\n            else {\n                this.useStyle(targetStyle);\n            }\n        }\n        var statesKeys = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS;\n        for (var i = 0; i < statesKeys.length; i++) {\n            var key = statesKeys[i];\n            if (state && state[key] != null) {\n                this[key] = state[key];\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    this[key] = normalState[key];\n                }\n            }\n        }\n    };\n    Displayable.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedStyle;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.style) {\n                mergedStyle = mergedStyle || {};\n                this._mergeStyle(mergedStyle, state.style);\n            }\n        }\n        if (mergedStyle) {\n            mergedState.style = mergedStyle;\n        }\n        return mergedState;\n    };\n    Displayable.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        extend(targetStyle, sourceStyle);\n        return targetStyle;\n    };\n    Displayable.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_COMMON_ANIMATION_PROPS;\n    };\n    Displayable.initDefaultProps = (function () {\n        var dispProto = Displayable.prototype;\n        dispProto.type = 'displayable';\n        dispProto.invisible = false;\n        dispProto.z = 0;\n        dispProto.z2 = 0;\n        dispProto.zlevel = 0;\n        dispProto.culling = false;\n        dispProto.cursor = 'pointer';\n        dispProto.rectHover = false;\n        dispProto.incremental = false;\n        dispProto._rect = null;\n        dispProto.dirtyRectTolerance = 0;\n        dispProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;\n    })();\n    return Displayable;\n}(Element));\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\nfunction isDisplayableCulled(el, width, height) {\n    tmpRect.copy(el.getBoundingRect());\n    if (el.transform) {\n        tmpRect.applyTransform(el.transform);\n    }\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect.intersect(viewRect);\n}\nexport default Displayable;\n","import * as vec2 from './vector.js';\nimport * as curve from './curve.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\nexport function fromPoints(points, min, max) {\n    if (points.length === 0) {\n        return;\n    }\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    for (var i = 1; i < points.length; i++) {\n        p = points[i];\n        left = mathMin(left, p[0]);\n        right = mathMax(right, p[0]);\n        top = mathMin(top, p[1]);\n        bottom = mathMax(bottom, p[1]);\n    }\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n}\nexport function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin(x0, x1);\n    min[1] = mathMin(y0, y1);\n    max[0] = mathMax(x0, x1);\n    max[1] = mathMax(y0, y1);\n}\nvar xDim = [];\nvar yDim = [];\nexport function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n    for (var i = 0; i < n; i++) {\n        var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n        min[0] = mathMin(x, min[0]);\n        max[0] = mathMax(x, max[0]);\n    }\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n    for (var i = 0; i < n; i++) {\n        var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n        min[1] = mathMin(y, min[1]);\n        max[1] = mathMax(y, max[1]);\n    }\n    min[0] = mathMin(x0, min[0]);\n    max[0] = mathMax(x0, max[0]);\n    min[0] = mathMin(x3, min[0]);\n    max[0] = mathMax(x3, max[0]);\n    min[1] = mathMin(y0, min[1]);\n    max[1] = mathMax(y0, max[1]);\n    min[1] = mathMin(y3, min[1]);\n    max[1] = mathMax(y3, max[1]);\n}\nexport function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt;\n    var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin(x0, x2, x);\n    min[1] = mathMin(y0, y2, y);\n    max[0] = mathMax(x0, x2, x);\n    max[1] = mathMax(y0, y2, y);\n}\nexport function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vec2.min;\n    var vec2Max = vec2.max;\n    var diff = Math.abs(startAngle - endAngle);\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n        min[0] = x - rx;\n        min[1] = y - ry;\n        max[0] = x + rx;\n        max[1] = y + ry;\n        return;\n    }\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end);\n    startAngle = startAngle % (PI2);\n    if (startAngle < 0) {\n        startAngle = startAngle + PI2;\n    }\n    endAngle = endAngle % (PI2);\n    if (endAngle < 0) {\n        endAngle = endAngle + PI2;\n    }\n    if (startAngle > endAngle && !anticlockwise) {\n        endAngle += PI2;\n    }\n    else if (startAngle < endAngle && anticlockwise) {\n        startAngle += PI2;\n    }\n    if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n    }\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n            extremity[0] = mathCos(angle) * rx + x;\n            extremity[1] = mathSin(angle) * ry + y;\n            vec2Min(min, extremity, min);\n            vec2Max(max, extremity, max);\n        }\n    }\n}\n","import * as vec2 from './vector.js';\nimport BoundingRect from './BoundingRect.js';\nimport { devicePixelRatio as dpr } from '../config.js';\nimport { fromLine, fromCubic, fromQuadratic, fromArc } from './bbox.js';\nimport { cubicLength, cubicSubdivide, quadraticLength, quadraticSubdivide } from './curve.js';\nvar CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    R: 7\n};\nvar tmpOutX = [];\nvar tmpOutY = [];\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathAbs = Math.abs;\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\nvar tmpAngles = [];\nfunction modPI2(radian) {\n    var n = Math.round(radian / PI * 1e8) / 1e8;\n    return (n % 2) * PI;\n}\nexport function normalizeArcAngles(angles, anticlockwise) {\n    var newStartAngle = modPI2(angles[0]);\n    if (newStartAngle < 0) {\n        newStartAngle += PI2;\n    }\n    var delta = newStartAngle - angles[0];\n    var newEndAngle = angles[1];\n    newEndAngle += delta;\n    if (!anticlockwise && newEndAngle - newStartAngle >= PI2) {\n        newEndAngle = newStartAngle + PI2;\n    }\n    else if (anticlockwise && newStartAngle - newEndAngle >= PI2) {\n        newEndAngle = newStartAngle - PI2;\n    }\n    else if (!anticlockwise && newStartAngle > newEndAngle) {\n        newEndAngle = newStartAngle + (PI2 - modPI2(newStartAngle - newEndAngle));\n    }\n    else if (anticlockwise && newStartAngle < newEndAngle) {\n        newEndAngle = newStartAngle - (PI2 - modPI2(newEndAngle - newStartAngle));\n    }\n    angles[0] = newStartAngle;\n    angles[1] = newEndAngle;\n}\nvar PathProxy = (function () {\n    function PathProxy(notSaveData) {\n        this.dpr = 1;\n        this._xi = 0;\n        this._yi = 0;\n        this._x0 = 0;\n        this._y0 = 0;\n        this._len = 0;\n        if (notSaveData) {\n            this._saveData = false;\n        }\n        if (this._saveData) {\n            this.data = [];\n        }\n    }\n    PathProxy.prototype.increaseVersion = function () {\n        this._version++;\n    };\n    PathProxy.prototype.getVersion = function () {\n        return this._version;\n    };\n    PathProxy.prototype.setScale = function (sx, sy, segmentIgnoreThreshold) {\n        segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n        if (segmentIgnoreThreshold > 0) {\n            this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n            this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n        }\n    };\n    PathProxy.prototype.setDPR = function (dpr) {\n        this.dpr = dpr;\n    };\n    PathProxy.prototype.setContext = function (ctx) {\n        this._ctx = ctx;\n    };\n    PathProxy.prototype.getContext = function () {\n        return this._ctx;\n    };\n    PathProxy.prototype.beginPath = function () {\n        this._ctx && this._ctx.beginPath();\n        this.reset();\n        return this;\n    };\n    PathProxy.prototype.reset = function () {\n        if (this._saveData) {\n            this._len = 0;\n        }\n        if (this._pathSegLen) {\n            this._pathSegLen = null;\n            this._pathLen = 0;\n        }\n        this._version++;\n    };\n    PathProxy.prototype.moveTo = function (x, y) {\n        this._drawPendingPt();\n        this.addData(CMD.M, x, y);\n        this._ctx && this._ctx.moveTo(x, y);\n        this._x0 = x;\n        this._y0 = y;\n        this._xi = x;\n        this._yi = y;\n        return this;\n    };\n    PathProxy.prototype.lineTo = function (x, y) {\n        var dx = mathAbs(x - this._xi);\n        var dy = mathAbs(y - this._yi);\n        var exceedUnit = dx > this._ux || dy > this._uy;\n        this.addData(CMD.L, x, y);\n        if (this._ctx && exceedUnit) {\n            this._ctx.lineTo(x, y);\n        }\n        if (exceedUnit) {\n            this._xi = x;\n            this._yi = y;\n            this._pendingPtDist = 0;\n        }\n        else {\n            var d2 = dx * dx + dy * dy;\n            if (d2 > this._pendingPtDist) {\n                this._pendingPtX = x;\n                this._pendingPtY = y;\n                this._pendingPtDist = d2;\n            }\n        }\n        return this;\n    };\n    PathProxy.prototype.bezierCurveTo = function (x1, y1, x2, y2, x3, y3) {\n        this._drawPendingPt();\n        this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n        if (this._ctx) {\n            this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n        }\n        this._xi = x3;\n        this._yi = y3;\n        return this;\n    };\n    PathProxy.prototype.quadraticCurveTo = function (x1, y1, x2, y2) {\n        this._drawPendingPt();\n        this.addData(CMD.Q, x1, y1, x2, y2);\n        if (this._ctx) {\n            this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n        }\n        this._xi = x2;\n        this._yi = y2;\n        return this;\n    };\n    PathProxy.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this._drawPendingPt();\n        tmpAngles[0] = startAngle;\n        tmpAngles[1] = endAngle;\n        normalizeArcAngles(tmpAngles, anticlockwise);\n        startAngle = tmpAngles[0];\n        endAngle = tmpAngles[1];\n        var delta = endAngle - startAngle;\n        this.addData(CMD.A, cx, cy, r, r, startAngle, delta, 0, anticlockwise ? 0 : 1);\n        this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n        this._xi = mathCos(endAngle) * r + cx;\n        this._yi = mathSin(endAngle) * r + cy;\n        return this;\n    };\n    PathProxy.prototype.arcTo = function (x1, y1, x2, y2, radius) {\n        this._drawPendingPt();\n        if (this._ctx) {\n            this._ctx.arcTo(x1, y1, x2, y2, radius);\n        }\n        return this;\n    };\n    PathProxy.prototype.rect = function (x, y, w, h) {\n        this._drawPendingPt();\n        this._ctx && this._ctx.rect(x, y, w, h);\n        this.addData(CMD.R, x, y, w, h);\n        return this;\n    };\n    PathProxy.prototype.closePath = function () {\n        this._drawPendingPt();\n        this.addData(CMD.Z);\n        var ctx = this._ctx;\n        var x0 = this._x0;\n        var y0 = this._y0;\n        if (ctx) {\n            ctx.closePath();\n        }\n        this._xi = x0;\n        this._yi = y0;\n        return this;\n    };\n    PathProxy.prototype.fill = function (ctx) {\n        ctx && ctx.fill();\n        this.toStatic();\n    };\n    PathProxy.prototype.stroke = function (ctx) {\n        ctx && ctx.stroke();\n        this.toStatic();\n    };\n    PathProxy.prototype.len = function () {\n        return this._len;\n    };\n    PathProxy.prototype.setData = function (data) {\n        if (!this._saveData) {\n            return;\n        }\n        var len = data.length;\n        if (!(this.data && this.data.length === len) && hasTypedArray) {\n            this.data = new Float32Array(len);\n        }\n        for (var i = 0; i < len; i++) {\n            this.data[i] = data[i];\n        }\n        this._len = len;\n    };\n    PathProxy.prototype.appendPath = function (path) {\n        if (!this._saveData) {\n            return;\n        }\n        if (!(path instanceof Array)) {\n            path = [path];\n        }\n        var len = path.length;\n        var appendSize = 0;\n        var offset = this._len;\n        for (var i = 0; i < len; i++) {\n            appendSize += path[i].len();\n        }\n        var oldData = this.data;\n        if (hasTypedArray && (oldData instanceof Float32Array || !oldData)) {\n            this.data = new Float32Array(offset + appendSize);\n            if (offset > 0 && oldData) {\n                for (var k = 0; k < offset; k++) {\n                    this.data[k] = oldData[k];\n                }\n            }\n        }\n        for (var i = 0; i < len; i++) {\n            var appendPathData = path[i].data;\n            for (var k = 0; k < appendPathData.length; k++) {\n                this.data[offset++] = appendPathData[k];\n            }\n        }\n        this._len = offset;\n    };\n    PathProxy.prototype.addData = function (cmd, a, b, c, d, e, f, g, h) {\n        if (!this._saveData) {\n            return;\n        }\n        var data = this.data;\n        if (this._len + arguments.length > data.length) {\n            this._expandData();\n            data = this.data;\n        }\n        for (var i = 0; i < arguments.length; i++) {\n            data[this._len++] = arguments[i];\n        }\n    };\n    PathProxy.prototype._drawPendingPt = function () {\n        if (this._pendingPtDist > 0) {\n            this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY);\n            this._pendingPtDist = 0;\n        }\n    };\n    PathProxy.prototype._expandData = function () {\n        if (!(this.data instanceof Array)) {\n            var newData = [];\n            for (var i = 0; i < this._len; i++) {\n                newData[i] = this.data[i];\n            }\n            this.data = newData;\n        }\n    };\n    PathProxy.prototype.toStatic = function () {\n        if (!this._saveData) {\n            return;\n        }\n        this._drawPendingPt();\n        var data = this.data;\n        if (data instanceof Array) {\n            data.length = this._len;\n            if (hasTypedArray && this._len > 11) {\n                this.data = new Float32Array(data);\n            }\n        }\n    };\n    PathProxy.prototype.getBoundingRect = function () {\n        min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n        max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n        var data = this.data;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        var i;\n        for (i = 0; i < this._len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    min2[0] = x0;\n                    min2[1] = y0;\n                    max2[0] = x0;\n                    max2[1] = y0;\n                    break;\n                case CMD.L:\n                    fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.C:\n                    fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.Q:\n                    fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var endAngle = data[i++] + startAngle;\n                    i += 1;\n                    var anticlockwise = !data[i++];\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n                    break;\n                case CMD.Z:\n                    xi = x0;\n                    yi = y0;\n                    break;\n            }\n            vec2.min(min, min, min2);\n            vec2.max(max, max, max2);\n        }\n        if (i === 0) {\n            min[0] = min[1] = max[0] = max[1] = 0;\n        }\n        return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    };\n    PathProxy.prototype._calculateLength = function () {\n        var data = this.data;\n        var len = this._len;\n        var ux = this._ux;\n        var uy = this._uy;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        if (!this._pathSegLen) {\n            this._pathSegLen = [];\n        }\n        var pathSegLen = this._pathSegLen;\n        var pathTotalLen = 0;\n        var segCount = 0;\n        for (var i = 0; i < len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            var l = -1;\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    break;\n                case CMD.L: {\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var dx = x2 - xi;\n                    var dy = y2 - yi;\n                    if (mathAbs(dx) > ux || mathAbs(dy) > uy || i === len - 1) {\n                        l = Math.sqrt(dx * dx + dy * dy);\n                        xi = x2;\n                        yi = y2;\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var x3 = data[i++];\n                    var y3 = data[i++];\n                    l = cubicLength(xi, yi, x1, y1, x2, y2, x3, y3, 10);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    l = quadraticLength(xi, yi, x1, y1, x2, y2, 10);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var delta = data[i++];\n                    var endAngle = delta + startAngle;\n                    i += 1;\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    l = mathMax(rx, ry) * mathMin(PI2, Math.abs(delta));\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R: {\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    l = width * 2 + height * 2;\n                    break;\n                }\n                case CMD.Z: {\n                    var dx = x0 - xi;\n                    var dy = y0 - yi;\n                    l = Math.sqrt(dx * dx + dy * dy);\n                    xi = x0;\n                    yi = y0;\n                    break;\n                }\n            }\n            if (l >= 0) {\n                pathSegLen[segCount++] = l;\n                pathTotalLen += l;\n            }\n        }\n        this._pathLen = pathTotalLen;\n        return pathTotalLen;\n    };\n    PathProxy.prototype.rebuildPath = function (ctx, percent) {\n        var d = this.data;\n        var ux = this._ux;\n        var uy = this._uy;\n        var len = this._len;\n        var x0;\n        var y0;\n        var xi;\n        var yi;\n        var x;\n        var y;\n        var drawPart = percent < 1;\n        var pathSegLen;\n        var pathTotalLen;\n        var accumLength = 0;\n        var segCount = 0;\n        var displayedLength;\n        var pendingPtDist = 0;\n        var pendingPtX;\n        var pendingPtY;\n        if (drawPart) {\n            if (!this._pathSegLen) {\n                this._calculateLength();\n            }\n            pathSegLen = this._pathSegLen;\n            pathTotalLen = this._pathLen;\n            displayedLength = percent * pathTotalLen;\n            if (!displayedLength) {\n                return;\n            }\n        }\n        lo: for (var i = 0; i < len;) {\n            var cmd = d[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = d[i];\n                yi = d[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            if (cmd !== CMD.L && pendingPtDist > 0) {\n                ctx.lineTo(pendingPtX, pendingPtY);\n                pendingPtDist = 0;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    x0 = xi = d[i++];\n                    y0 = yi = d[i++];\n                    ctx.moveTo(xi, yi);\n                    break;\n                case CMD.L: {\n                    x = d[i++];\n                    y = d[i++];\n                    var dx = mathAbs(x - xi);\n                    var dy = mathAbs(y - yi);\n                    if (dx > ux || dy > uy) {\n                        if (drawPart) {\n                            var l = pathSegLen[segCount++];\n                            if (accumLength + l > displayedLength) {\n                                var t = (displayedLength - accumLength) / l;\n                                ctx.lineTo(xi * (1 - t) + x * t, yi * (1 - t) + y * t);\n                                break lo;\n                            }\n                            accumLength += l;\n                        }\n                        ctx.lineTo(x, y);\n                        xi = x;\n                        yi = y;\n                        pendingPtDist = 0;\n                    }\n                    else {\n                        var d2 = dx * dx + dy * dy;\n                        if (d2 > pendingPtDist) {\n                            pendingPtX = x;\n                            pendingPtY = y;\n                            pendingPtDist = d2;\n                        }\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    var x3 = d[i++];\n                    var y3 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            cubicSubdivide(xi, x1, x2, x3, t, tmpOutX);\n                            cubicSubdivide(yi, y1, y2, y3, t, tmpOutY);\n                            ctx.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            quadraticSubdivide(xi, x1, x2, t, tmpOutX);\n                            quadraticSubdivide(yi, y1, y2, t, tmpOutY);\n                            ctx.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.quadraticCurveTo(x1, y1, x2, y2);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = d[i++];\n                    var cy = d[i++];\n                    var rx = d[i++];\n                    var ry = d[i++];\n                    var startAngle = d[i++];\n                    var delta = d[i++];\n                    var psi = d[i++];\n                    var anticlockwise = !d[i++];\n                    var r = (rx > ry) ? rx : ry;\n                    var isEllipse = mathAbs(rx - ry) > 1e-3;\n                    var endAngle = startAngle + delta;\n                    var breakBuild = false;\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            endAngle = startAngle + delta * (displayedLength - accumLength) / l;\n                            breakBuild = true;\n                        }\n                        accumLength += l;\n                    }\n                    if (isEllipse && ctx.ellipse) {\n                        ctx.ellipse(cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise);\n                    }\n                    else {\n                        ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n                    }\n                    if (breakBuild) {\n                        break lo;\n                    }\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = d[i];\n                    y0 = yi = d[i + 1];\n                    x = d[i++];\n                    y = d[i++];\n                    var width = d[i++];\n                    var height = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var d_1 = displayedLength - accumLength;\n                            ctx.moveTo(x, y);\n                            ctx.lineTo(x + mathMin(d_1, width), y);\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + width, y + mathMin(d_1, height));\n                            }\n                            d_1 -= height;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + mathMax(width - d_1, 0), y + height);\n                            }\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x, y + mathMax(height - d_1, 0));\n                            }\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.rect(x, y, width, height);\n                    break;\n                case CMD.Z:\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            ctx.lineTo(xi * (1 - t) + x0 * t, yi * (1 - t) + y0 * t);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.closePath();\n                    xi = x0;\n                    yi = y0;\n            }\n        }\n    };\n    PathProxy.prototype.clone = function () {\n        var newProxy = new PathProxy();\n        var data = this.data;\n        newProxy.data = data.slice ? data.slice()\n            : Array.prototype.slice.call(data);\n        newProxy._len = this._len;\n        return newProxy;\n    };\n    PathProxy.prototype.canSave = function () {\n        return !!this._saveData;\n    };\n    PathProxy.CMD = CMD;\n    PathProxy.initDefaultProps = (function () {\n        var proto = PathProxy.prototype;\n        proto._saveData = true;\n        proto._ux = 0;\n        proto._uy = 0;\n        proto._pendingPtDist = 0;\n        proto._version = 0;\n    })();\n    return PathProxy;\n}());\nexport default PathProxy;\n","export function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0;\n    if ((y > y0 + _l && y > y1 + _l)\n        || (y < y0 - _l && y < y1 - _l)\n        || (x > x0 + _l && x > x1 + _l)\n        || (x < x0 - _l && x < x1 - _l)) {\n        return false;\n    }\n    if (x0 !== x1) {\n        _a = (y0 - y1) / (x0 - x1);\n        _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    }\n    else {\n        return Math.abs(x - x0) <= _l / 2;\n    }\n    var tmp = _a * x - y + _b;\n    var _s = tmp * tmp / (_a * _a + 1);\n    return _s <= _l / 2 * _l / 2;\n}\n","import * as curve from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l)) {\n        return false;\n    }\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n}\n","import { quadraticProjectPoint } from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l)) {\n        return false;\n    }\n    var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n}\n","var PI2 = Math.PI * 2;\nexport function normalizeRadian(angle) {\n    angle %= PI2;\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return angle;\n}\n","import { normalizeRadian } from './util.js';\nvar PI2 = Math.PI * 2;\nexport function containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n    if ((d - _l > r) || (d + _l < r)) {\n        return false;\n    }\n    if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n        return true;\n    }\n    if (anticlockwise) {\n        var tmp = startAngle;\n        startAngle = normalizeRadian(endAngle);\n        endAngle = normalizeRadian(tmp);\n    }\n    else {\n        startAngle = normalizeRadian(startAngle);\n        endAngle = normalizeRadian(endAngle);\n    }\n    if (startAngle > endAngle) {\n        endAngle += PI2;\n    }\n    var angle = Math.atan2(y, x);\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return (angle >= startAngle && angle <= endAngle)\n        || (angle + PI2 >= startAngle && angle + PI2 <= endAngle);\n}\n","export default function windingLine(x0, y0, x1, y1, x, y) {\n    if ((y > y0 && y > y1) || (y < y0 && y < y1)) {\n        return 0;\n    }\n    if (y1 === y0) {\n        return 0;\n    }\n    var t = (y - y0) / (y1 - y0);\n    var dir = y1 < y0 ? 1 : -1;\n    if (t === 1 || t === 0) {\n        dir = y1 < y0 ? 0.5 : -0.5;\n    }\n    var x_ = t * (x1 - x0) + x0;\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n","import PathProxy from '../core/PathProxy.js';\nimport * as line from './line.js';\nimport * as cubic from './cubic.js';\nimport * as quadratic from './quadratic.js';\nimport * as arc from './arc.js';\nimport * as curve from '../core/curve.js';\nimport windingLine from './windingLine.js';\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\nfunction swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n}\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    if ((y > y0 && y > y1 && y > y2 && y > y3)\n        || (y < y0 && y < y1 && y < y2 && y < y3)) {\n        return 0;\n    }\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var w = 0;\n        var nExtrema = -1;\n        var y0_ = void 0;\n        var y1_ = void 0;\n        for (var i = 0; i < nRoots; i++) {\n            var t = roots[i];\n            var unit = (t === 0 || t === 1) ? 0.5 : 1;\n            var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n            if (x_ < x) {\n                continue;\n            }\n            if (nExtrema < 0) {\n                nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n                if (extrema[1] < extrema[0] && nExtrema > 1) {\n                    swapExtrema();\n                }\n                y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n                if (nExtrema > 1) {\n                    y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n                }\n            }\n            if (nExtrema === 2) {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else if (t < extrema[1]) {\n                    w += y1_ < y0_ ? unit : -unit;\n                }\n                else {\n                    w += y3 < y1_ ? unit : -unit;\n                }\n            }\n            else {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y3 < y0_ ? unit : -unit;\n                }\n            }\n        }\n        return w;\n    }\n}\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    if ((y > y0 && y > y1 && y > y2)\n        || (y < y0 && y < y1 && y < y2)) {\n        return 0;\n    }\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var t = curve.quadraticExtremum(y0, y1, y2);\n        if (t >= 0 && t <= 1) {\n            var w = 0;\n            var y_ = curve.quadraticAt(y0, y1, y2, t);\n            for (var i = 0; i < nRoots; i++) {\n                var unit = (roots[i] === 0 || roots[i] === 1) ? 0.5 : 1;\n                var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n                if (x_ < x) {\n                    continue;\n                }\n                if (roots[i] < t) {\n                    w += y_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y2 < y_ ? unit : -unit;\n                }\n            }\n            return w;\n        }\n        else {\n            var unit = (roots[0] === 0 || roots[0] === 1) ? 0.5 : 1;\n            var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n            if (x_ < x) {\n                return 0;\n            }\n            return y2 < y0 ? unit : -unit;\n        }\n    }\n}\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n    if (y > r || y < -r) {\n        return 0;\n    }\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var dTheta = Math.abs(startAngle - endAngle);\n    if (dTheta < 1e-4) {\n        return 0;\n    }\n    if (dTheta >= PI2 - 1e-4) {\n        startAngle = 0;\n        endAngle = PI2;\n        var dir = anticlockwise ? 1 : -1;\n        if (x >= roots[0] + cx && x <= roots[1] + cx) {\n            return dir;\n        }\n        else {\n            return 0;\n        }\n    }\n    if (startAngle > endAngle) {\n        var tmp_1 = startAngle;\n        startAngle = endAngle;\n        endAngle = tmp_1;\n    }\n    if (startAngle < 0) {\n        startAngle += PI2;\n        endAngle += PI2;\n    }\n    var w = 0;\n    for (var i = 0; i < 2; i++) {\n        var x_ = roots[i];\n        if (x_ + cx > x) {\n            var angle = Math.atan2(y, x_);\n            var dir = anticlockwise ? 1 : -1;\n            if (angle < 0) {\n                angle = PI2 + angle;\n            }\n            if ((angle >= startAngle && angle <= endAngle)\n                || (angle + PI2 >= startAngle && angle + PI2 <= endAngle)) {\n                if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n                    dir = -dir;\n                }\n                w += dir;\n            }\n        }\n    }\n    return w;\n}\nfunction containPath(path, lineWidth, isStroke, x, y) {\n    var data = path.data;\n    var len = path.len();\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    var x1;\n    var y1;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (cmd === CMD.M && i > 1) {\n            if (!isStroke) {\n                w += windingLine(xi, yi, x0, y0, x, y);\n            }\n        }\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n        }\n        switch (cmd) {\n            case CMD.M:\n                x0 = data[i++];\n                y0 = data[i++];\n                xi = x0;\n                yi = y0;\n                break;\n            case CMD.L:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.C:\n                if (isStroke) {\n                    if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.Q:\n                if (isStroke) {\n                    if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var theta = data[i++];\n                var dTheta = data[i++];\n                i += 1;\n                var anticlockwise = !!(1 - data[i++]);\n                x1 = Math.cos(theta) * rx + cx;\n                y1 = Math.sin(theta) * ry + cy;\n                if (!isFirst) {\n                    w += windingLine(xi, yi, x1, y1, x, y);\n                }\n                else {\n                    x0 = x1;\n                    y0 = y1;\n                }\n                var _x = (x - cx) * ry / rx + cx;\n                if (isStroke) {\n                    if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n                }\n                xi = Math.cos(theta + dTheta) * rx + cx;\n                yi = Math.sin(theta + dTheta) * ry + cy;\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                var width = data[i++];\n                var height = data[i++];\n                x1 = x0 + width;\n                y1 = y0 + height;\n                if (isStroke) {\n                    if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y)\n                        || line.containStroke(x1, y0, x1, y1, lineWidth, x, y)\n                        || line.containStroke(x1, y1, x0, y1, lineWidth, x, y)\n                        || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(x1, y0, x1, y1, x, y);\n                    w += windingLine(x0, y1, x0, y0, x, y);\n                }\n                break;\n            case CMD.Z:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, x0, y0, x, y);\n                }\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n        w += windingLine(xi, yi, x0, y0, x, y) || 0;\n    }\n    return w !== 0;\n}\nexport function contain(pathProxy, x, y) {\n    return containPath(pathProxy, 0, false, x, y);\n}\nexport function containStroke(pathProxy, lineWidth, x, y) {\n    return containPath(pathProxy, lineWidth, true, x, y);\n}\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport * as pathContain from '../contain/path.js';\nimport { defaults, keys, extend, clone, isString, createObject } from '../core/util.js';\nimport { lum } from '../tool/color.js';\nimport { DARK_LABEL_COLOR, LIGHT_LABEL_COLOR, DARK_MODE_THRESHOLD, LIGHTER_LABEL_COLOR } from '../config.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT, STYLE_CHANGED_BIT } from './constants.js';\nimport { TRANSFORMABLE_PROPS } from '../core/Transformable.js';\nexport var DEFAULT_PATH_STYLE = defaults({\n    fill: '#000',\n    stroke: null,\n    strokePercent: 1,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    lineDashOffset: 0,\n    lineWidth: 1,\n    lineCap: 'butt',\n    miterLimit: 10,\n    strokeNoScale: false,\n    strokeFirst: false\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_PATH_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        strokePercent: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineDashOffset: true,\n        lineWidth: true,\n        miterLimit: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar pathCopyParams = TRANSFORMABLE_PROPS.concat(['invisible',\n    'culling', 'z', 'z2', 'zlevel', 'parent'\n]);\nvar Path = (function (_super) {\n    __extends(Path, _super);\n    function Path(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Path.prototype.update = function () {\n        var _this = this;\n        _super.prototype.update.call(this);\n        var style = this.style;\n        if (style.decal) {\n            var decalEl = this._decalEl = this._decalEl || new Path();\n            if (decalEl.buildPath === Path.prototype.buildPath) {\n                decalEl.buildPath = function (ctx) {\n                    _this.buildPath(ctx, _this.shape);\n                };\n            }\n            decalEl.silent = true;\n            var decalElStyle = decalEl.style;\n            for (var key in style) {\n                if (decalElStyle[key] !== style[key]) {\n                    decalElStyle[key] = style[key];\n                }\n            }\n            decalElStyle.fill = style.fill ? style.decal : null;\n            decalElStyle.decal = null;\n            decalElStyle.shadowColor = null;\n            style.strokeFirst && (decalElStyle.stroke = null);\n            for (var i = 0; i < pathCopyParams.length; ++i) {\n                decalEl[pathCopyParams[i]] = this[pathCopyParams[i]];\n            }\n            decalEl.__dirty |= REDRAW_BIT;\n        }\n        else if (this._decalEl) {\n            this._decalEl = null;\n        }\n    };\n    Path.prototype.getDecalElement = function () {\n        return this._decalEl;\n    };\n    Path.prototype._init = function (props) {\n        var keysArr = keys(props);\n        this.shape = this.getDefaultShape();\n        var defaultStyle = this.getDefaultStyle();\n        if (defaultStyle) {\n            this.useStyle(defaultStyle);\n        }\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            var value = props[key];\n            if (key === 'style') {\n                if (!this.style) {\n                    this.useStyle(value);\n                }\n                else {\n                    extend(this.style, value);\n                }\n            }\n            else if (key === 'shape') {\n                extend(this.shape, value);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, value);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Path.prototype.getDefaultStyle = function () {\n        return null;\n    };\n    Path.prototype.getDefaultShape = function () {\n        return {};\n    };\n    Path.prototype.canBeInsideText = function () {\n        return this.hasFill();\n    };\n    Path.prototype.getInsideTextFill = function () {\n        var pathFill = this.style.fill;\n        if (pathFill !== 'none') {\n            if (isString(pathFill)) {\n                var fillLum = lum(pathFill, 0);\n                if (fillLum > 0.5) {\n                    return DARK_LABEL_COLOR;\n                }\n                else if (fillLum > 0.2) {\n                    return LIGHTER_LABEL_COLOR;\n                }\n                return LIGHT_LABEL_COLOR;\n            }\n            else if (pathFill) {\n                return LIGHT_LABEL_COLOR;\n            }\n        }\n        return DARK_LABEL_COLOR;\n    };\n    Path.prototype.getInsideTextStroke = function (textFill) {\n        var pathFill = this.style.fill;\n        if (isString(pathFill)) {\n            var zr = this.__zr;\n            var isDarkMode = !!(zr && zr.isDarkMode());\n            var isDarkLabel = lum(textFill, 0) < DARK_MODE_THRESHOLD;\n            if (isDarkMode === isDarkLabel) {\n                return pathFill;\n            }\n        }\n    };\n    Path.prototype.buildPath = function (ctx, shapeCfg, inBatch) { };\n    Path.prototype.pathUpdated = function () {\n        this.__dirty &= ~SHAPE_CHANGED_BIT;\n    };\n    Path.prototype.getUpdatedPathProxy = function (inBatch) {\n        !this.path && this.createPathProxy();\n        this.path.beginPath();\n        this.buildPath(this.path, this.shape, inBatch);\n        return this.path;\n    };\n    Path.prototype.createPathProxy = function () {\n        this.path = new PathProxy(false);\n    };\n    Path.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n    };\n    Path.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    Path.prototype.getBoundingRect = function () {\n        var rect = this._rect;\n        var style = this.style;\n        var needsUpdateRect = !rect;\n        if (needsUpdateRect) {\n            var firstInvoke = false;\n            if (!this.path) {\n                firstInvoke = true;\n                this.createPathProxy();\n            }\n            var path = this.path;\n            if (firstInvoke || (this.__dirty & SHAPE_CHANGED_BIT)) {\n                path.beginPath();\n                this.buildPath(path, this.shape, false);\n                this.pathUpdated();\n            }\n            rect = path.getBoundingRect();\n        }\n        this._rect = rect;\n        if (this.hasStroke() && this.path && this.path.len() > 0) {\n            var rectStroke = this._rectStroke || (this._rectStroke = rect.clone());\n            if (this.__dirty || needsUpdateRect) {\n                rectStroke.copy(rect);\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                var w = style.lineWidth;\n                if (!this.hasFill()) {\n                    var strokeContainThreshold = this.strokeContainThreshold;\n                    w = Math.max(w, strokeContainThreshold == null ? 4 : strokeContainThreshold);\n                }\n                if (lineScale > 1e-10) {\n                    rectStroke.width += w / lineScale;\n                    rectStroke.height += w / lineScale;\n                    rectStroke.x -= w / lineScale / 2;\n                    rectStroke.y -= w / lineScale / 2;\n                }\n            }\n            return rectStroke;\n        }\n        return rect;\n    };\n    Path.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        var style = this.style;\n        x = localPos[0];\n        y = localPos[1];\n        if (rect.contain(x, y)) {\n            var pathProxy = this.path;\n            if (this.hasStroke()) {\n                var lineWidth = style.lineWidth;\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                if (lineScale > 1e-10) {\n                    if (!this.hasFill()) {\n                        lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n                    }\n                    if (pathContain.containStroke(pathProxy, lineWidth / lineScale, x, y)) {\n                        return true;\n                    }\n                }\n            }\n            if (this.hasFill()) {\n                return pathContain.contain(pathProxy, x, y);\n            }\n        }\n        return false;\n    };\n    Path.prototype.dirtyShape = function () {\n        this.__dirty |= SHAPE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n        if (this._decalEl) {\n            this._decalEl.dirtyShape();\n        }\n        this.markRedraw();\n    };\n    Path.prototype.dirty = function () {\n        this.dirtyStyle();\n        this.dirtyShape();\n    };\n    Path.prototype.animateShape = function (loop) {\n        return this.animate('shape', loop);\n    };\n    Path.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else if (targetKey === 'shape') {\n            this.dirtyShape();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Path.prototype.attrKV = function (key, value) {\n        if (key === 'shape') {\n            this.setShape(value);\n        }\n        else {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n    };\n    Path.prototype.setShape = function (keyOrObj, value) {\n        var shape = this.shape;\n        if (!shape) {\n            shape = this.shape = {};\n        }\n        if (typeof keyOrObj === 'string') {\n            shape[keyOrObj] = value;\n        }\n        else {\n            extend(shape, keyOrObj);\n        }\n        this.dirtyShape();\n        return this;\n    };\n    Path.prototype.shapeChanged = function () {\n        return !!(this.__dirty & SHAPE_CHANGED_BIT);\n    };\n    Path.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_PATH_STYLE, obj);\n    };\n    Path.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.shape && !normalState.shape) {\n            normalState.shape = extend({}, this.shape);\n        }\n    };\n    Path.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetShape;\n        if (state && state.shape) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetShape = state.shape;\n                }\n                else {\n                    targetShape = extend({}, normalState.shape);\n                    extend(targetShape, state.shape);\n                }\n            }\n            else {\n                targetShape = extend({}, keepCurrentStates ? this.shape : normalState.shape);\n                extend(targetShape, state.shape);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetShape = normalState.shape;\n        }\n        if (targetShape) {\n            if (transition) {\n                this.shape = extend({}, this.shape);\n                var targetShapePrimaryProps = {};\n                var shapeKeys = keys(targetShape);\n                for (var i = 0; i < shapeKeys.length; i++) {\n                    var key = shapeKeys[i];\n                    if (typeof targetShape[key] === 'object') {\n                        this.shape[key] = targetShape[key];\n                    }\n                    else {\n                        targetShapePrimaryProps[key] = targetShape[key];\n                    }\n                }\n                this._transitionState(stateName, {\n                    shape: targetShapePrimaryProps\n                }, animationCfg);\n            }\n            else {\n                this.shape = targetShape;\n                this.dirtyShape();\n            }\n        }\n    };\n    Path.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedShape;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.shape) {\n                mergedShape = mergedShape || {};\n                this._mergeStyle(mergedShape, state.shape);\n            }\n        }\n        if (mergedShape) {\n            mergedState.shape = mergedShape;\n        }\n        return mergedState;\n    };\n    Path.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_PATH_ANIMATION_PROPS;\n    };\n    Path.prototype.isZeroArea = function () {\n        return false;\n    };\n    Path.extend = function (defaultProps) {\n        var Sub = (function (_super) {\n            __extends(Sub, _super);\n            function Sub(opts) {\n                var _this = _super.call(this, opts) || this;\n                defaultProps.init && defaultProps.init.call(_this, opts);\n                return _this;\n            }\n            Sub.prototype.getDefaultStyle = function () {\n                return clone(defaultProps.style);\n            };\n            Sub.prototype.getDefaultShape = function () {\n                return clone(defaultProps.shape);\n            };\n            return Sub;\n        }(Path));\n        for (var key in defaultProps) {\n            if (typeof defaultProps[key] === 'function') {\n                Sub.prototype[key] = defaultProps[key];\n            }\n        }\n        return Sub;\n    };\n    Path.initDefaultProps = (function () {\n        var pathProto = Path.prototype;\n        pathProto.type = 'path';\n        pathProto.strokeContainThreshold = 5;\n        pathProto.segmentIgnoreThreshold = 0;\n        pathProto.subPixelOptimize = false;\n        pathProto.autoBatch = false;\n        pathProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;\n    })();\n    return Path;\n}(Displayable));\nexport default Path;\n","import { __extends } from \"tslib\";\nimport Displayable from './Displayable.js';\nimport { DEFAULT_PATH_STYLE } from './Path.js';\nimport { createObject, defaults } from '../core/util.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nimport { tSpanCreateBoundingRect, tSpanHasStroke } from './helper/parseText.js';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n    strokeFirst: true,\n    font: DEFAULT_FONT,\n    x: 0,\n    y: 0,\n    textAlign: 'left',\n    textBaseline: 'top',\n    miterLimit: 2\n}, DEFAULT_PATH_STYLE);\nvar TSpan = (function (_super) {\n    __extends(TSpan, _super);\n    function TSpan() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TSpan.prototype.hasStroke = function () {\n        return tSpanHasStroke(this.style);\n    };\n    TSpan.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    TSpan.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_TSPAN_STYLE, obj);\n    };\n    TSpan.prototype.setBoundingRect = function (rect) {\n        this._rect = rect;\n    };\n    TSpan.prototype.getBoundingRect = function () {\n        if (!this._rect) {\n            this._rect = tSpanCreateBoundingRect(this.style);\n        }\n        return this._rect;\n    };\n    TSpan.initDefaultProps = (function () {\n        var tspanProto = TSpan.prototype;\n        tspanProto.dirtyRectTolerance = 10;\n    })();\n    return TSpan;\n}(Displayable));\nTSpan.prototype.type = 'tspan';\nexport default TSpan;\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n","export function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4;\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n    if (typeof r === 'number') {\n        r1 = r2 = r3 = r4 = r;\n    }\n    else if (r instanceof Array) {\n        if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n        }\n        else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n        }\n        else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n        }\n        else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = 0;\n    }\n    var total;\n    if (r1 + r2 > width) {\n        total = r1 + r2;\n        r1 *= width / total;\n        r2 *= width / total;\n    }\n    if (r3 + r4 > width) {\n        total = r3 + r4;\n        r3 *= width / total;\n        r4 *= width / total;\n    }\n    if (r2 + r3 > height) {\n        total = r2 + r3;\n        r2 *= height / total;\n        r3 *= height / total;\n    }\n    if (r1 + r4 > height) {\n        total = r1 + r4;\n        r1 *= height / total;\n        r4 *= height / total;\n    }\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n","var round = Math.round;\nexport function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    if (round(x1 * 2) === round(x2 * 2)) {\n        outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n    if (round(y1 * 2) === round(y2 * 2)) {\n        outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n    return outputShape;\n}\nexport function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n    return outputShape;\n}\nexport function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n        return position;\n    }\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0\n        ? doubledPosition / 2\n        : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundRectHelper from '../helper/roundRect.js';\nimport { subPixelOptimizeRect } from '../helper/subPixelOptimize.js';\nvar RectShape = (function () {\n    function RectShape() {\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n    }\n    return RectShape;\n}());\nexport { RectShape };\nvar subPixelOptimizeOutputShape = {};\nvar Rect = (function (_super) {\n    __extends(Rect, _super);\n    function Rect(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Rect.prototype.getDefaultShape = function () {\n        return new RectShape();\n    };\n    Rect.prototype.buildPath = function (ctx, shape) {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n            x = optimizedShape.x;\n            y = optimizedShape.y;\n            width = optimizedShape.width;\n            height = optimizedShape.height;\n            optimizedShape.r = shape.r;\n            shape = optimizedShape;\n        }\n        else {\n            x = shape.x;\n            y = shape.y;\n            width = shape.width;\n            height = shape.height;\n        }\n        if (!shape.r) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            roundRectHelper.buildPath(ctx, shape);\n        }\n    };\n    Rect.prototype.isZeroArea = function () {\n        return !this.shape.width || !this.shape.height;\n    };\n    return Rect;\n}(Path));\nRect.prototype.type = 'rect';\nexport default Rect;\n","import { __extends } from \"tslib\";\nimport { parseRichText, parsePlainText, calcInnerTextOverflowArea, tSpanCreateBoundingRect2, } from './helper/parseText.js';\nimport TSpan from './TSpan.js';\nimport { retrieve2, each, normalizeCssArray, trim, retrieve3, extend, keys, defaults } from '../core/util.js';\nimport { adjustTextX, adjustTextY } from '../contain/text.js';\nimport ZRImage from './Image.js';\nimport Rect from './shape/Rect.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Displayable, { DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_SIZE } from '../core/platform.js';\nvar DEFAULT_RICH_TEXT_COLOR = {\n    fill: '#000'\n};\nvar DEFAULT_STROKE_LINE_WIDTH = 2;\nvar tmpCITOverflowAreaOut = {};\nexport var DEFAULT_TEXT_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineWidth: true,\n        fontSize: true,\n        lineHeight: true,\n        width: true,\n        height: true,\n        textShadowColor: true,\n        textShadowBlur: true,\n        textShadowOffsetX: true,\n        textShadowOffsetY: true,\n        backgroundColor: true,\n        padding: true,\n        borderColor: true,\n        borderWidth: true,\n        borderRadius: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar ZRText = (function (_super) {\n    __extends(ZRText, _super);\n    function ZRText(opts) {\n        var _this = _super.call(this) || this;\n        _this.type = 'text';\n        _this._children = [];\n        _this._defaultStyle = DEFAULT_RICH_TEXT_COLOR;\n        _this.attr(opts);\n        return _this;\n    }\n    ZRText.prototype.childrenRef = function () {\n        return this._children;\n    };\n    ZRText.prototype.update = function () {\n        _super.prototype.update.call(this);\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.zlevel = this.zlevel;\n            child.z = this.z;\n            child.z2 = this.z2;\n            child.culling = this.culling;\n            child.cursor = this.cursor;\n            child.invisible = this.invisible;\n        }\n    };\n    ZRText.prototype.updateTransform = function () {\n        var innerTransformable = this.innerTransformable;\n        if (innerTransformable) {\n            innerTransformable.updateTransform();\n            if (innerTransformable.transform) {\n                this.transform = innerTransformable.transform;\n            }\n        }\n        else {\n            _super.prototype.updateTransform.call(this);\n        }\n    };\n    ZRText.prototype.getLocalTransform = function (m) {\n        var innerTransformable = this.innerTransformable;\n        return innerTransformable\n            ? innerTransformable.getLocalTransform(m)\n            : _super.prototype.getLocalTransform.call(this, m);\n    };\n    ZRText.prototype.getComputedTransform = function () {\n        if (this.__hostTarget) {\n            this.__hostTarget.getComputedTransform();\n            this.__hostTarget.updateInnerText(true);\n        }\n        return _super.prototype.getComputedTransform.call(this);\n    };\n    ZRText.prototype._updateSubTexts = function () {\n        this._childCursor = 0;\n        normalizeTextStyle(this.style);\n        this.style.rich\n            ? this._updateRichTexts()\n            : this._updatePlainTexts();\n        this._children.length = this._childCursor;\n        this.styleUpdated();\n    };\n    ZRText.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = zr;\n        }\n    };\n    ZRText.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = null;\n        }\n    };\n    ZRText.prototype.getBoundingRect = function () {\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        if (!this._rect) {\n            var tmpRect = new BoundingRect(0, 0, 0, 0);\n            var children = this._children;\n            var tmpMat = [];\n            var rect = null;\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                var childRect = child.getBoundingRect();\n                var transform = child.getLocalTransform(tmpMat);\n                if (transform) {\n                    tmpRect.copy(childRect);\n                    tmpRect.applyTransform(transform);\n                    rect = rect || tmpRect.clone();\n                    rect.union(tmpRect);\n                }\n                else {\n                    rect = rect || childRect.clone();\n                    rect.union(childRect);\n                }\n            }\n            this._rect = rect || tmpRect;\n        }\n        return this._rect;\n    };\n    ZRText.prototype.setDefaultTextStyle = function (defaultTextStyle) {\n        this._defaultStyle = defaultTextStyle || DEFAULT_RICH_TEXT_COLOR;\n    };\n    ZRText.prototype.setTextContent = function (textContent) {\n        if (process.env.NODE_ENV !== 'production') {\n            throw new Error('Can\\'t attach text on another text');\n        }\n    };\n    ZRText.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        if (!sourceStyle) {\n            return targetStyle;\n        }\n        var sourceRich = sourceStyle.rich;\n        var targetRich = targetStyle.rich || (sourceRich && {});\n        extend(targetStyle, sourceStyle);\n        if (sourceRich && targetRich) {\n            this._mergeRich(targetRich, sourceRich);\n            targetStyle.rich = targetRich;\n        }\n        else if (targetRich) {\n            targetStyle.rich = targetRich;\n        }\n        return targetStyle;\n    };\n    ZRText.prototype._mergeRich = function (targetRich, sourceRich) {\n        var richNames = keys(sourceRich);\n        for (var i = 0; i < richNames.length; i++) {\n            var richName = richNames[i];\n            targetRich[richName] = targetRich[richName] || {};\n            extend(targetRich[richName], sourceRich[richName]);\n        }\n    };\n    ZRText.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_TEXT_ANIMATION_PROPS;\n    };\n    ZRText.prototype._getOrCreateChild = function (Ctor) {\n        var child = this._children[this._childCursor];\n        if (!child || !(child instanceof Ctor)) {\n            child = new Ctor();\n        }\n        this._children[this._childCursor++] = child;\n        child.__zr = this.__zr;\n        child.parent = this;\n        return child;\n    };\n    ZRText.prototype._updatePlainTexts = function () {\n        var style = this.style;\n        var textFont = style.font || DEFAULT_FONT;\n        var textPadding = style.padding;\n        var defaultStyle = this._defaultStyle;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var textAlign = style.align || defaultStyle.align || 'left';\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign || 'top';\n        calcInnerTextOverflowArea(tmpCITOverflowAreaOut, defaultStyle.overflowRect, baseX, baseY, textAlign, verticalAlign);\n        baseX = tmpCITOverflowAreaOut.baseX;\n        baseY = tmpCITOverflowAreaOut.baseY;\n        var text = getStyleText(style);\n        var contentBlock = parsePlainText(text, style, tmpCITOverflowAreaOut.outerWidth, tmpCITOverflowAreaOut.outerHeight);\n        var needDrawBg = needDrawBackground(style);\n        var bgColorDrawn = !!(style.backgroundColor);\n        var outerHeight = contentBlock.outerHeight;\n        var outerWidth = contentBlock.outerWidth;\n        var textLines = contentBlock.lines;\n        var lineHeight = contentBlock.lineHeight;\n        this.isTruncated = !!contentBlock.isTruncated;\n        var textX = baseX;\n        var textY = adjustTextY(baseY, contentBlock.contentHeight, verticalAlign);\n        if (needDrawBg || textPadding) {\n            var boxX = adjustTextX(baseX, outerWidth, textAlign);\n            var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n            needDrawBg && this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        textY += lineHeight / 2;\n        if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            if (verticalAlign === 'top') {\n                textY += textPadding[0];\n            }\n            else if (verticalAlign === 'bottom') {\n                textY -= textPadding[2];\n            }\n        }\n        var defaultLineWidth = 0;\n        var usingDefaultStroke = false;\n        var useDefaultFill = false;\n        var textFill = getFill('fill' in style\n            ? style.fill\n            : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in style\n            ? style.stroke\n            : (!bgColorDrawn\n                && (!defaultStyle.autoStroke || useDefaultFill))\n                ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, usingDefaultStroke = true, defaultStyle.stroke)\n                : null);\n        var hasShadow = style.textShadowBlur > 0;\n        for (var i = 0; i < textLines.length; i++) {\n            var el = this._getOrCreateChild(TSpan);\n            var subElStyle = el.createStyle();\n            el.useStyle(subElStyle);\n            subElStyle.text = textLines[i];\n            subElStyle.x = textX;\n            subElStyle.y = textY;\n            if (textAlign) {\n                subElStyle.textAlign = textAlign;\n            }\n            subElStyle.textBaseline = 'middle';\n            subElStyle.opacity = style.opacity;\n            subElStyle.strokeFirst = true;\n            if (hasShadow) {\n                subElStyle.shadowBlur = style.textShadowBlur || 0;\n                subElStyle.shadowColor = style.textShadowColor || 'transparent';\n                subElStyle.shadowOffsetX = style.textShadowOffsetX || 0;\n                subElStyle.shadowOffsetY = style.textShadowOffsetY || 0;\n            }\n            subElStyle.stroke = textStroke;\n            subElStyle.fill = textFill;\n            if (textStroke) {\n                subElStyle.lineWidth = style.lineWidth || defaultLineWidth;\n                subElStyle.lineDash = style.lineDash;\n                subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            }\n            subElStyle.font = textFont;\n            setSeparateFont(subElStyle, style);\n            textY += lineHeight;\n            el.setBoundingRect(tSpanCreateBoundingRect2(subElStyle, contentBlock.contentWidth, contentBlock.calculatedLineHeight, usingDefaultStroke ? 0 : null));\n        }\n    };\n    ZRText.prototype._updateRichTexts = function () {\n        var style = this.style;\n        var defaultStyle = this._defaultStyle;\n        var textAlign = style.align || defaultStyle.align;\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        calcInnerTextOverflowArea(tmpCITOverflowAreaOut, defaultStyle.overflowRect, baseX, baseY, textAlign, verticalAlign);\n        baseX = tmpCITOverflowAreaOut.baseX;\n        baseY = tmpCITOverflowAreaOut.baseY;\n        var text = getStyleText(style);\n        var contentBlock = parseRichText(text, style, tmpCITOverflowAreaOut.outerWidth, tmpCITOverflowAreaOut.outerHeight, textAlign);\n        var contentWidth = contentBlock.width;\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var textPadding = style.padding;\n        this.isTruncated = !!contentBlock.isTruncated;\n        var boxX = adjustTextX(baseX, outerWidth, textAlign);\n        var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n        var xLeft = boxX;\n        var lineTop = boxY;\n        if (textPadding) {\n            xLeft += textPadding[3];\n            lineTop += textPadding[0];\n        }\n        var xRight = xLeft + contentWidth;\n        if (needDrawBackground(style)) {\n            this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        var bgColorDrawn = !!(style.backgroundColor);\n        for (var i = 0; i < contentBlock.lines.length; i++) {\n            var line = contentBlock.lines[i];\n            var tokens = line.tokens;\n            var tokenCount = tokens.length;\n            var lineHeight = line.lineHeight;\n            var remainedWidth = line.width;\n            var leftIndex = 0;\n            var lineXLeft = xLeft;\n            var lineXRight = xRight;\n            var rightIndex = tokenCount - 1;\n            var token = void 0;\n            while (leftIndex < tokenCount\n                && (token = tokens[leftIndex], !token.align || token.align === 'left')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft, 'left', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            while (rightIndex >= 0\n                && (token = tokens[rightIndex], token.align === 'right')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXRight, 'right', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXRight -= token.width;\n                rightIndex--;\n            }\n            lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - remainedWidth) / 2;\n            while (leftIndex <= rightIndex) {\n                token = tokens[leftIndex];\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center', bgColorDrawn);\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            lineTop += lineHeight;\n        }\n    };\n    ZRText.prototype._placeToken = function (token, style, lineHeight, lineTop, x, textAlign, parentBgColorDrawn) {\n        var tokenStyle = style.rich[token.styleName] || {};\n        tokenStyle.text = token.text;\n        var verticalAlign = token.verticalAlign;\n        var y = lineTop + lineHeight / 2;\n        if (verticalAlign === 'top') {\n            y = lineTop + token.height / 2;\n        }\n        else if (verticalAlign === 'bottom') {\n            y = lineTop + lineHeight - token.height / 2;\n        }\n        var needDrawBg = !token.isLineHolder && needDrawBackground(tokenStyle);\n        needDrawBg && this._renderBackground(tokenStyle, style, textAlign === 'right'\n            ? x - token.width\n            : textAlign === 'center'\n                ? x - token.width / 2\n                : x, y - token.height / 2, token.width, token.height);\n        var bgColorDrawn = !!tokenStyle.backgroundColor;\n        var textPadding = token.textPadding;\n        if (textPadding) {\n            x = getTextXForPadding(x, textAlign, textPadding);\n            y -= token.height / 2 - textPadding[0] - token.innerHeight / 2;\n        }\n        var el = this._getOrCreateChild(TSpan);\n        var subElStyle = el.createStyle();\n        el.useStyle(subElStyle);\n        var defaultStyle = this._defaultStyle;\n        var useDefaultFill = false;\n        var defaultLineWidth = 0;\n        var usingDefaultStroke = false;\n        var textFill = getFill('fill' in tokenStyle ? tokenStyle.fill\n            : 'fill' in style ? style.fill\n                : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in tokenStyle ? tokenStyle.stroke\n            : 'stroke' in style ? style.stroke\n                : (!bgColorDrawn\n                    && !parentBgColorDrawn\n                    && (!defaultStyle.autoStroke || useDefaultFill)) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, usingDefaultStroke = true, defaultStyle.stroke)\n                    : null);\n        var hasShadow = tokenStyle.textShadowBlur > 0\n            || style.textShadowBlur > 0;\n        subElStyle.text = token.text;\n        subElStyle.x = x;\n        subElStyle.y = y;\n        if (hasShadow) {\n            subElStyle.shadowBlur = tokenStyle.textShadowBlur || style.textShadowBlur || 0;\n            subElStyle.shadowColor = tokenStyle.textShadowColor || style.textShadowColor || 'transparent';\n            subElStyle.shadowOffsetX = tokenStyle.textShadowOffsetX || style.textShadowOffsetX || 0;\n            subElStyle.shadowOffsetY = tokenStyle.textShadowOffsetY || style.textShadowOffsetY || 0;\n        }\n        subElStyle.textAlign = textAlign;\n        subElStyle.textBaseline = 'middle';\n        subElStyle.font = token.font || DEFAULT_FONT;\n        subElStyle.opacity = retrieve3(tokenStyle.opacity, style.opacity, 1);\n        setSeparateFont(subElStyle, tokenStyle);\n        if (textStroke) {\n            subElStyle.lineWidth = retrieve3(tokenStyle.lineWidth, style.lineWidth, defaultLineWidth);\n            subElStyle.lineDash = retrieve2(tokenStyle.lineDash, style.lineDash);\n            subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            subElStyle.stroke = textStroke;\n        }\n        if (textFill) {\n            subElStyle.fill = textFill;\n        }\n        el.setBoundingRect(tSpanCreateBoundingRect2(subElStyle, token.contentWidth, token.contentHeight, usingDefaultStroke ? 0 : null));\n    };\n    ZRText.prototype._renderBackground = function (style, topStyle, x, y, width, height) {\n        var textBackgroundColor = style.backgroundColor;\n        var textBorderWidth = style.borderWidth;\n        var textBorderColor = style.borderColor;\n        var isImageBg = textBackgroundColor && textBackgroundColor.image;\n        var isPlainOrGradientBg = textBackgroundColor && !isImageBg;\n        var textBorderRadius = style.borderRadius;\n        var self = this;\n        var rectEl;\n        var imgEl;\n        if (isPlainOrGradientBg || style.lineHeight || (textBorderWidth && textBorderColor)) {\n            rectEl = this._getOrCreateChild(Rect);\n            rectEl.useStyle(rectEl.createStyle());\n            rectEl.style.fill = null;\n            var rectShape = rectEl.shape;\n            rectShape.x = x;\n            rectShape.y = y;\n            rectShape.width = width;\n            rectShape.height = height;\n            rectShape.r = textBorderRadius;\n            rectEl.dirtyShape();\n        }\n        if (isPlainOrGradientBg) {\n            var rectStyle = rectEl.style;\n            rectStyle.fill = textBackgroundColor || null;\n            rectStyle.fillOpacity = retrieve2(style.fillOpacity, 1);\n        }\n        else if (isImageBg) {\n            imgEl = this._getOrCreateChild(ZRImage);\n            imgEl.onload = function () {\n                self.dirtyStyle();\n            };\n            var imgStyle = imgEl.style;\n            imgStyle.image = textBackgroundColor.image;\n            imgStyle.x = x;\n            imgStyle.y = y;\n            imgStyle.width = width;\n            imgStyle.height = height;\n        }\n        if (textBorderWidth && textBorderColor) {\n            var rectStyle = rectEl.style;\n            rectStyle.lineWidth = textBorderWidth;\n            rectStyle.stroke = textBorderColor;\n            rectStyle.strokeOpacity = retrieve2(style.strokeOpacity, 1);\n            rectStyle.lineDash = style.borderDash;\n            rectStyle.lineDashOffset = style.borderDashOffset || 0;\n            rectEl.strokeContainThreshold = 0;\n            if (rectEl.hasFill() && rectEl.hasStroke()) {\n                rectStyle.strokeFirst = true;\n                rectStyle.lineWidth *= 2;\n            }\n        }\n        var commonStyle = (rectEl || imgEl).style;\n        commonStyle.shadowBlur = style.shadowBlur || 0;\n        commonStyle.shadowColor = style.shadowColor || 'transparent';\n        commonStyle.shadowOffsetX = style.shadowOffsetX || 0;\n        commonStyle.shadowOffsetY = style.shadowOffsetY || 0;\n        commonStyle.opacity = retrieve3(style.opacity, topStyle.opacity, 1);\n    };\n    ZRText.makeFont = function (style) {\n        var font = '';\n        if (hasSeparateFont(style)) {\n            font = [\n                style.fontStyle,\n                style.fontWeight,\n                parseFontSize(style.fontSize),\n                style.fontFamily || 'sans-serif'\n            ].join(' ');\n        }\n        return font && trim(font) || style.textFont || style.font;\n    };\n    return ZRText;\n}(Displayable));\nvar VALID_TEXT_ALIGN = { left: true, right: 1, center: 1 };\nvar VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 };\nvar FONT_PARTS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily'];\nexport function parseFontSize(fontSize) {\n    if (typeof fontSize === 'string'\n        && (fontSize.indexOf('px') !== -1\n            || fontSize.indexOf('rem') !== -1\n            || fontSize.indexOf('em') !== -1)) {\n        return fontSize;\n    }\n    else if (!isNaN(+fontSize)) {\n        return fontSize + 'px';\n    }\n    else {\n        return DEFAULT_FONT_SIZE + 'px';\n    }\n}\nfunction setSeparateFont(targetStyle, sourceStyle) {\n    for (var i = 0; i < FONT_PARTS.length; i++) {\n        var fontProp = FONT_PARTS[i];\n        var val = sourceStyle[fontProp];\n        if (val != null) {\n            targetStyle[fontProp] = val;\n        }\n    }\n}\nexport function hasSeparateFont(style) {\n    return style.fontSize != null || style.fontFamily || style.fontWeight;\n}\nexport function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each(style.rich, normalizeStyle);\n    return style;\n}\nfunction normalizeStyle(style) {\n    if (style) {\n        style.font = ZRText.makeFont(style);\n        var textAlign = style.align;\n        textAlign === 'middle' && (textAlign = 'center');\n        style.align = (textAlign == null || VALID_TEXT_ALIGN[textAlign]) ? textAlign : 'left';\n        var verticalAlign = style.verticalAlign;\n        verticalAlign === 'center' && (verticalAlign = 'middle');\n        style.verticalAlign = (verticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[verticalAlign]) ? verticalAlign : 'top';\n        var textPadding = style.padding;\n        if (textPadding) {\n            style.padding = normalizeCssArray(style.padding);\n        }\n    }\n}\nfunction getStroke(stroke, lineWidth) {\n    return (stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none')\n        ? null\n        : (stroke.image || stroke.colorStops)\n            ? '#000'\n            : stroke;\n}\nfunction getFill(fill) {\n    return (fill == null || fill === 'none')\n        ? null\n        : (fill.image || fill.colorStops)\n            ? '#000'\n            : fill;\n}\nfunction getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right'\n        ? (x - textPadding[1])\n        : textAlign === 'center'\n            ? (x + textPadding[3] / 2 - textPadding[1] / 2)\n            : (x + textPadding[3]);\n}\nfunction getStyleText(style) {\n    var text = style.text;\n    text != null && (text += '');\n    return text;\n}\nfunction needDrawBackground(style) {\n    return !!(style.backgroundColor\n        || style.lineHeight\n        || (style.borderWidth && style.borderColor));\n}\nexport default ZRText;\n","import PathProxy from '../core/PathProxy.js';\nimport { applyTransform as v2ApplyTransform } from '../core/vector.js';\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nexport default function transformPath(path, m) {\n    if (!m) {\n        return;\n    }\n    var data = path.data;\n    var len = path.len();\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var R = CMD.R;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    for (i = 0, j = 0; i < len;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                data[i] *= sx;\n                data[i++] += x;\n                data[i] *= sy;\n                data[i++] += y;\n                data[i++] *= sx;\n                data[i++] *= sy;\n                data[i++] += angle;\n                data[i++] += angle;\n                i += 2;\n                j = i;\n                break;\n            case R:\n                p[0] = data[i++];\n                p[1] = data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                p[0] += data[i++];\n                p[1] += data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n        for (k = 0; k < nPoint; k++) {\n            var p_1 = points[k];\n            p_1[0] = data[i++];\n            p_1[1] = data[i++];\n            v2ApplyTransform(p_1, p_1, m);\n            data[j++] = p_1[0];\n            data[j++] = p_1[1];\n        }\n    }\n    path.increaseVersion();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../graphic/Path.js';\nimport PathProxy from '../core/PathProxy.js';\nimport transformPath from './transformPath.js';\nimport { extend } from '../core/util.js';\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n;\nfunction vRatio(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n}\n;\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\n        * Math.acos(vRatio(u, v));\n}\n;\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\n        + mathSin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\n        + mathCos(psi) * (y1 - y2) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= mathSqrt(lambda);\n        ry *= mathSqrt(lambda);\n    }\n    var f = (fa === fs ? -1 : 1)\n        * mathSqrt((((rx * rx) * (ry * ry))\n            - ((rx * rx) * (yp * yp))\n            - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\n            + (ry * ry) * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0\n        + mathCos(psi) * cxp\n        - mathSin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0\n        + mathSin(psi) * cxp\n        + mathCos(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (dTheta < 0) {\n        var n = Math.round(dTheta / PI * 1e6) / 1e6;\n        dTheta = PI * 2 + (n % 2) * PI;\n    }\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction createPathProxyFromString(data) {\n    var path = new PathProxy();\n    if (!data) {\n        return path;\n    }\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var CMD = PathProxy.CMD;\n    var cmdList = data.match(commandReg);\n    if (!cmdList) {\n        return path;\n    }\n    for (var l = 0; l < cmdList.length; l++) {\n        var cmdText = cmdList[l];\n        var cmdStr = cmdText.charAt(0);\n        var cmd = void 0;\n        var p = cmdText.match(numberReg) || [];\n        var pLen = p.length;\n        for (var i = 0; i < pLen; i++) {\n            p[i] = parseFloat(p[i]);\n        }\n        var off = 0;\n        while (off < pLen) {\n            var ctlPtx = void 0;\n            var ctlPty = void 0;\n            var rx = void 0;\n            var ry = void 0;\n            var psi = void 0;\n            var fa = void 0;\n            var fs = void 0;\n            var x1 = cpx;\n            var y1 = cpy;\n            var len = void 0;\n            var pathData = void 0;\n            switch (cmdStr) {\n                case 'l':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'L':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'm':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'l';\n                    break;\n                case 'M':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'L';\n                    break;\n                case 'h':\n                    cpx += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'H':\n                    cpx = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'v':\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'V':\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'C':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n                    cpx = p[off - 2];\n                    cpy = p[off - 1];\n                    break;\n                case 'c':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n                    cpx += p[off - 2];\n                    cpy += p[off - 1];\n                    break;\n                case 'S':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 's':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = cpx + p[off++];\n                    y1 = cpy + p[off++];\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 'Q':\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'q':\n                    x1 = p[off++] + cpx;\n                    y1 = p[off++] + cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'T':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 't':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 'A':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n                case 'a':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n            }\n        }\n        if (cmdStr === 'z' || cmdStr === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n            cpx = subpathX;\n            cpy = subpathY;\n        }\n        prevCmd = cmd;\n    }\n    path.toStatic();\n    return path;\n}\nvar SVGPath = (function (_super) {\n    __extends(SVGPath, _super);\n    function SVGPath() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SVGPath.prototype.applyTransform = function (m) { };\n    return SVGPath;\n}(Path));\nfunction isPathProxy(path) {\n    return path.setData != null;\n}\nfunction createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    var innerOpts = extend({}, opts);\n    innerOpts.buildPath = function (path) {\n        var beProxy = isPathProxy(path);\n        if (beProxy && path.canSave()) {\n            path.appendPath(pathProxy);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n        else {\n            var ctx = beProxy ? path.getContext() : path;\n            if (ctx) {\n                pathProxy.rebuildPath(ctx, 1);\n            }\n        }\n    };\n    innerOpts.applyTransform = function (m) {\n        transformPath(pathProxy, m);\n        this.dirtyShape();\n    };\n    return innerOpts;\n}\nexport function createFromString(str, opts) {\n    return new SVGPath(createPathOptions(str, opts));\n}\nexport function extendFromString(str, defaultOpts) {\n    var innerOpts = createPathOptions(str, defaultOpts);\n    var Sub = (function (_super) {\n        __extends(Sub, _super);\n        function Sub(opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.applyTransform = innerOpts.applyTransform;\n            _this.buildPath = innerOpts.buildPath;\n            return _this;\n        }\n        return Sub;\n    }(SVGPath));\n    return Sub;\n}\nexport function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n    for (var i = 0; i < len; i++) {\n        var pathEl = pathEls[i];\n        pathList.push(pathEl.getUpdatedPathProxy(true));\n    }\n    var pathBundle = new Path(opts);\n    pathBundle.createPathProxy();\n    pathBundle.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.appendPath(pathList);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n    };\n    return pathBundle;\n}\nexport function clonePath(sourcePath, opts) {\n    opts = opts || {};\n    var path = new Path();\n    if (sourcePath.shape) {\n        path.setShape(sourcePath.shape);\n    }\n    path.setStyle(sourcePath.style);\n    if (opts.bakeTransform) {\n        transformPath(path.path, sourcePath.getComputedTransform());\n    }\n    else {\n        if (opts.toLocal) {\n            path.setLocalTransform(sourcePath.getComputedTransform());\n        }\n        else {\n            path.copyTransform(sourcePath);\n        }\n    }\n    path.buildPath = sourcePath.buildPath;\n    path.applyTransform = path.applyTransform;\n    path.z = sourcePath.z;\n    path.z2 = sourcePath.z2;\n    path.zlevel = sourcePath.zlevel;\n    return path;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar CircleShape = (function () {\n    function CircleShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n    }\n    return CircleShape;\n}());\nexport { CircleShape };\nvar Circle = (function (_super) {\n    __extends(Circle, _super);\n    function Circle(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Circle.prototype.getDefaultShape = function () {\n        return new CircleShape();\n    };\n    Circle.prototype.buildPath = function (ctx, shape) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);\n    };\n    return Circle;\n}(Path));\n;\nCircle.prototype.type = 'circle';\nexport default Circle;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar EllipseShape = (function () {\n    function EllipseShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.rx = 0;\n        this.ry = 0;\n    }\n    return EllipseShape;\n}());\nexport { EllipseShape };\nvar Ellipse = (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ellipse.prototype.getDefaultShape = function () {\n        return new EllipseShape();\n    };\n    Ellipse.prototype.buildPath = function (ctx, shape) {\n        var k = 0.5522848;\n        var x = shape.cx;\n        var y = shape.cy;\n        var a = shape.rx;\n        var b = shape.ry;\n        var ox = a * k;\n        var oy = b * k;\n        ctx.moveTo(x - a, y);\n        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n        ctx.closePath();\n    };\n    return Ellipse;\n}(Path));\nEllipse.prototype.type = 'ellipse';\nexport default Ellipse;\n","import { isArray } from '../../core/util.js';\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar mathACos = Math.acos;\nvar mathATan2 = Math.atan2;\nvar mathAbs = Math.abs;\nvar mathSqrt = Math.sqrt;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar e = 1e-4;\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var dx10 = x1 - x0;\n    var dy10 = y1 - y0;\n    var dx32 = x3 - x2;\n    var dy32 = y3 - y2;\n    var t = dy32 * dx10 - dx32 * dy10;\n    if (t * t < e) {\n        return;\n    }\n    t = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t;\n    return [x0 + t * dx10, y0 + t * dy10];\n}\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\n    var x01 = x0 - x1;\n    var y01 = y0 - y1;\n    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\n    var ox = lo * y01;\n    var oy = -lo * x01;\n    var x11 = x0 + ox;\n    var y11 = y0 + oy;\n    var x10 = x1 + ox;\n    var y10 = y1 + oy;\n    var x00 = (x11 + x10) / 2;\n    var y00 = (y11 + y10) / 2;\n    var dx = x10 - x11;\n    var dy = y10 - y11;\n    var d2 = dx * dx + dy * dy;\n    var r = radius - cr;\n    var s = x11 * y10 - x10 * y11;\n    var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\n    var cx0 = (s * dy - dx * d) / d2;\n    var cy0 = (-s * dx - dy * d) / d2;\n    var cx1 = (s * dy + dx * d) / d2;\n    var cy1 = (-s * dx + dy * d) / d2;\n    var dx0 = cx0 - x00;\n    var dy0 = cy0 - y00;\n    var dx1 = cx1 - x00;\n    var dy1 = cy1 - y00;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\n        cx0 = cx1;\n        cy0 = cy1;\n    }\n    return {\n        cx: cx0,\n        cy: cy0,\n        x0: -ox,\n        y0: -oy,\n        x1: cx0 * (radius / r - 1),\n        y1: cy0 * (radius / r - 1)\n    };\n}\nfunction normalizeCornerRadius(cr) {\n    var arr;\n    if (isArray(cr)) {\n        var len = cr.length;\n        if (!len) {\n            return cr;\n        }\n        if (len === 1) {\n            arr = [cr[0], cr[0], 0, 0];\n        }\n        else if (len === 2) {\n            arr = [cr[0], cr[0], cr[1], cr[1]];\n        }\n        else if (len === 3) {\n            arr = cr.concat(cr[2]);\n        }\n        else {\n            arr = cr;\n        }\n    }\n    else {\n        arr = [cr, cr, cr, cr];\n    }\n    return arr;\n}\nexport function buildPath(ctx, shape) {\n    var _a;\n    var radius = mathMax(shape.r, 0);\n    var innerRadius = mathMax(shape.r0 || 0, 0);\n    var hasRadius = radius > 0;\n    var hasInnerRadius = innerRadius > 0;\n    if (!hasRadius && !hasInnerRadius) {\n        return;\n    }\n    if (!hasRadius) {\n        radius = innerRadius;\n        innerRadius = 0;\n    }\n    if (innerRadius > radius) {\n        var tmp = radius;\n        radius = innerRadius;\n        innerRadius = tmp;\n    }\n    var startAngle = shape.startAngle, endAngle = shape.endAngle;\n    if (isNaN(startAngle) || isNaN(endAngle)) {\n        return;\n    }\n    var cx = shape.cx, cy = shape.cy;\n    var clockwise = !!shape.clockwise;\n    var arc = mathAbs(endAngle - startAngle);\n    var mod = arc > PI2 && arc % PI2;\n    mod > e && (arc = mod);\n    if (!(radius > e)) {\n        ctx.moveTo(cx, cy);\n    }\n    else if (arc > PI2 - e) {\n        ctx.moveTo(cx + radius * mathCos(startAngle), cy + radius * mathSin(startAngle));\n        ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        if (innerRadius > e) {\n            ctx.moveTo(cx + innerRadius * mathCos(endAngle), cy + innerRadius * mathSin(endAngle));\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    else {\n        var icrStart = void 0;\n        var icrEnd = void 0;\n        var ocrStart = void 0;\n        var ocrEnd = void 0;\n        var ocrs = void 0;\n        var ocre = void 0;\n        var icrs = void 0;\n        var icre = void 0;\n        var ocrMax = void 0;\n        var icrMax = void 0;\n        var limitedOcrMax = void 0;\n        var limitedIcrMax = void 0;\n        var xre = void 0;\n        var yre = void 0;\n        var xirs = void 0;\n        var yirs = void 0;\n        var xrs = radius * mathCos(startAngle);\n        var yrs = radius * mathSin(startAngle);\n        var xire = innerRadius * mathCos(endAngle);\n        var yire = innerRadius * mathSin(endAngle);\n        var hasArc = arc > e;\n        if (hasArc) {\n            var cornerRadius = shape.cornerRadius;\n            if (cornerRadius) {\n                _a = normalizeCornerRadius(cornerRadius), icrStart = _a[0], icrEnd = _a[1], ocrStart = _a[2], ocrEnd = _a[3];\n            }\n            var halfRd = mathAbs(radius - innerRadius) / 2;\n            ocrs = mathMin(halfRd, ocrStart);\n            ocre = mathMin(halfRd, ocrEnd);\n            icrs = mathMin(halfRd, icrStart);\n            icre = mathMin(halfRd, icrEnd);\n            limitedOcrMax = ocrMax = mathMax(ocrs, ocre);\n            limitedIcrMax = icrMax = mathMax(icrs, icre);\n            if (ocrMax > e || icrMax > e) {\n                xre = radius * mathCos(endAngle);\n                yre = radius * mathSin(endAngle);\n                xirs = innerRadius * mathCos(startAngle);\n                yirs = innerRadius * mathSin(startAngle);\n                if (arc < PI) {\n                    var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\n                    if (it_1) {\n                        var x0 = xrs - it_1[0];\n                        var y0 = yrs - it_1[1];\n                        var x1 = xre - it_1[0];\n                        var y1 = yre - it_1[1];\n                        var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\n                        var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\n                        limitedOcrMax = mathMin(ocrMax, (radius - b) / (a + 1));\n                        limitedIcrMax = mathMin(icrMax, (innerRadius - b) / (a - 1));\n                    }\n                }\n            }\n        }\n        if (!hasArc) {\n            ctx.moveTo(cx + xrs, cy + yrs);\n        }\n        else if (limitedOcrMax > e) {\n            var crStart = mathMin(ocrStart, limitedOcrMax);\n            var crEnd = mathMin(ocrEnd, limitedOcrMax);\n            var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, crStart, clockwise);\n            var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, crEnd, clockwise);\n            ctx.moveTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedOcrMax < ocrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedOcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crStart > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crStart, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, radius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), !clockwise);\n                crEnd > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crEnd, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.moveTo(cx + xrs, cy + yrs);\n            ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        }\n        if (!(innerRadius > e) || !hasArc) {\n            ctx.lineTo(cx + xire, cy + yire);\n        }\n        else if (limitedIcrMax > e) {\n            var crStart = mathMin(icrStart, limitedIcrMax);\n            var crEnd = mathMin(icrEnd, limitedIcrMax);\n            var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -crEnd, clockwise);\n            var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -crStart, clockwise);\n            ctx.lineTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedIcrMax < icrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedIcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crEnd > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crEnd, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, innerRadius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), clockwise);\n                crStart > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crStart, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.lineTo(cx + xire, cy + yire);\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    ctx.closePath();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundSectorHelper from '../helper/roundSector.js';\nvar SectorShape = (function () {\n    function SectorShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r0 = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n        this.cornerRadius = 0;\n    }\n    return SectorShape;\n}());\nexport { SectorShape };\nvar Sector = (function (_super) {\n    __extends(Sector, _super);\n    function Sector(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Sector.prototype.getDefaultShape = function () {\n        return new SectorShape();\n    };\n    Sector.prototype.buildPath = function (ctx, shape) {\n        roundSectorHelper.buildPath(ctx, shape);\n    };\n    Sector.prototype.isZeroArea = function () {\n        return this.shape.startAngle === this.shape.endAngle\n            || this.shape.r === this.shape.r0;\n    };\n    return Sector;\n}(Path));\nSector.prototype.type = 'sector';\nexport default Sector;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar RingShape = (function () {\n    function RingShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.r0 = 0;\n    }\n    return RingShape;\n}());\nexport { RingShape };\nvar Ring = (function (_super) {\n    __extends(Ring, _super);\n    function Ring(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ring.prototype.getDefaultShape = function () {\n        return new RingShape();\n    };\n    Ring.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var PI2 = Math.PI * 2;\n        ctx.moveTo(x + shape.r, y);\n        ctx.arc(x, y, shape.r, 0, PI2, false);\n        ctx.moveTo(x + shape.r0, y);\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\n    };\n    return Ring;\n}(Path));\nRing.prototype.type = 'ring';\nexport default Ring;\n","import { min as v2Min, max as v2Max, scale as v2Scale, distance as v2Distance, add as v2Add, clone as v2Clone, sub as v2Sub } from '../../core/vector.js';\nexport default function smoothBezier(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n    if (constraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, len = points.length; i < len; i++) {\n            v2Min(min, min, points[i]);\n            v2Max(max, max, points[i]);\n        }\n        v2Min(min, min, constraint[0]);\n        v2Max(max, max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(v2Clone(points[i]));\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        v2Sub(v, nextPoint, prevPoint);\n        v2Scale(v, v, smooth);\n        var d0 = v2Distance(point, prevPoint);\n        var d1 = v2Distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        v2Scale(v1, v, -d0);\n        v2Scale(v2, v, d1);\n        var cp0 = v2Add([], point, v1);\n        var cp1 = v2Add([], point, v2);\n        if (constraint) {\n            v2Max(cp0, cp0, min);\n            v2Min(cp0, cp0, max);\n            v2Max(cp1, cp1, min);\n            v2Min(cp1, cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n}\n","import smoothBezier from './smoothBezier.js';\nexport function buildPath(ctx, shape, closePath) {\n    var smooth = shape.smooth;\n    var points = shape.points;\n    if (points && points.length >= 2) {\n        if (smooth) {\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n                var cp1 = controlPoints[i * 2];\n                var cp2 = controlPoints[i * 2 + 1];\n                var p = points[(i + 1) % len];\n                ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n            }\n        }\n        else {\n            ctx.moveTo(points[0][0], points[0][1]);\n            for (var i = 1, l = points.length; i < l; i++) {\n                ctx.lineTo(points[i][0], points[i][1]);\n            }\n        }\n        closePath && ctx.closePath();\n    }\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolygonShape = (function () {\n    function PolygonShape() {\n        this.points = null;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolygonShape;\n}());\nexport { PolygonShape };\nvar Polygon = (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polygon.prototype.getDefaultShape = function () {\n        return new PolygonShape();\n    };\n    Polygon.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, true);\n    };\n    return Polygon;\n}(Path));\n;\nPolygon.prototype.type = 'polygon';\nexport default Polygon;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolylineShape = (function () {\n    function PolylineShape() {\n        this.points = null;\n        this.percent = 1;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolylineShape;\n}());\nexport { PolylineShape };\nvar Polyline = (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polyline.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Polyline.prototype.getDefaultShape = function () {\n        return new PolylineShape();\n    };\n    Polyline.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, false);\n    };\n    return Polyline;\n}(Path));\nPolyline.prototype.type = 'polyline';\nexport default Polyline;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport { subPixelOptimizeLine } from '../helper/subPixelOptimize.js';\nvar subPixelOptimizeOutputShape = {};\nvar LineShape = (function () {\n    function LineShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.percent = 1;\n    }\n    return LineShape;\n}());\nexport { LineShape };\nvar Line = (function (_super) {\n    __extends(Line, _super);\n    function Line(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Line.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Line.prototype.getDefaultShape = function () {\n        return new LineShape();\n    };\n    Line.prototype.buildPath = function (ctx, shape) {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n            x1 = optimizedShape.x1;\n            y1 = optimizedShape.y1;\n            x2 = optimizedShape.x2;\n            y2 = optimizedShape.y2;\n        }\n        else {\n            x1 = shape.x1;\n            y1 = shape.y1;\n            x2 = shape.x2;\n            y2 = shape.y2;\n        }\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n        }\n        ctx.lineTo(x2, y2);\n    };\n    Line.prototype.pointAt = function (p) {\n        var shape = this.shape;\n        return [\n            shape.x1 * (1 - p) + shape.x2 * p,\n            shape.y1 * (1 - p) + shape.y2 * p\n        ];\n    };\n    return Line;\n}(Path));\nLine.prototype.type = 'line';\nexport default Line;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as vec2 from '../../core/vector.js';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\nvar out = [];\nvar BezierCurveShape = (function () {\n    function BezierCurveShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.cpx1 = 0;\n        this.cpy1 = 0;\n        this.percent = 1;\n    }\n    return BezierCurveShape;\n}());\nexport { BezierCurveShape };\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 != null || cpy2 != null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\nvar BezierCurve = (function (_super) {\n    __extends(BezierCurve, _super);\n    function BezierCurve(opts) {\n        return _super.call(this, opts) || this;\n    }\n    BezierCurve.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    BezierCurve.prototype.getDefaultShape = function () {\n        return new BezierCurveShape();\n    };\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n        }\n    };\n    BezierCurve.prototype.pointAt = function (t) {\n        return someVectorAt(this.shape, t, false);\n    };\n    BezierCurve.prototype.tangentAt = function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return vec2.normalize(p, p);\n    };\n    return BezierCurve;\n}(Path));\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar ArcShape = (function () {\n    function ArcShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n    }\n    return ArcShape;\n}());\nexport { ArcShape };\nvar Arc = (function (_super) {\n    __extends(Arc, _super);\n    function Arc(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Arc.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Arc.prototype.getDefaultShape = function () {\n        return new ArcShape();\n    };\n    Arc.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        ctx.moveTo(unitX * r + x, unitY * r + y);\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    };\n    return Arc;\n}(Path));\nArc.prototype.type = 'arc';\nexport default Arc;\n","import { __extends } from \"tslib\";\nimport Path from './Path.js';\nvar CompoundPath = (function (_super) {\n    __extends(CompoundPath, _super);\n    function CompoundPath() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'compound';\n        return _this;\n    }\n    CompoundPath.prototype._updatePathDirty = function () {\n        var paths = this.shape.paths;\n        var dirtyPath = this.shapeChanged();\n        for (var i = 0; i < paths.length; i++) {\n            dirtyPath = dirtyPath || paths[i].shapeChanged();\n        }\n        if (dirtyPath) {\n            this.dirtyShape();\n        }\n    };\n    CompoundPath.prototype.beforeBrush = function () {\n        this._updatePathDirty();\n        var paths = this.shape.paths || [];\n        var scale = this.getGlobalScale();\n        for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n                paths[i].createPathProxy();\n            }\n            paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n        }\n    };\n    CompoundPath.prototype.buildPath = function (ctx, shape) {\n        var paths = shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n        }\n    };\n    CompoundPath.prototype.afterBrush = function () {\n        var paths = this.shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].pathUpdated();\n        }\n    };\n    CompoundPath.prototype.getBoundingRect = function () {\n        this._updatePathDirty.call(this);\n        return Path.prototype.getBoundingRect.call(this);\n    };\n    return CompoundPath;\n}(Path));\nexport default CompoundPath;\n","var Gradient = (function () {\n    function Gradient(colorStops) {\n        this.colorStops = colorStops || [];\n    }\n    Gradient.prototype.addColorStop = function (offset, color) {\n        this.colorStops.push({\n            offset: offset,\n            color: color\n        });\n    };\n    return Gradient;\n}());\nexport default Gradient;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar LinearGradient = (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0 : x;\n        _this.y = y == null ? 0 : y;\n        _this.x2 = x2 == null ? 1 : x2;\n        _this.y2 = y2 == null ? 0 : y2;\n        _this.type = 'linear';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return LinearGradient;\n}(Gradient));\nexport default LinearGradient;\n;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar RadialGradient = (function (_super) {\n    __extends(RadialGradient, _super);\n    function RadialGradient(x, y, r, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0.5 : x;\n        _this.y = y == null ? 0.5 : y;\n        _this.r = r == null ? 0.5 : r;\n        _this.type = 'radial';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return RadialGradient;\n}(Gradient));\nexport default RadialGradient;\n","import Point from './Point.js';\nimport { createIntersectContext } from './BoundingRect.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathAbs = Math.abs;\nvar _extent = [0, 0];\nvar _extent2 = [0, 0];\nvar _intersectCtx = createIntersectContext();\nvar _minTv = _intersectCtx.minTv;\nvar _maxTv = _intersectCtx.maxTv;\nvar OrientedBoundingRect = (function () {\n    function OrientedBoundingRect(rect, transform) {\n        this._corners = [];\n        this._axes = [];\n        this._origin = [0, 0];\n        for (var i = 0; i < 4; i++) {\n            this._corners[i] = new Point();\n        }\n        for (var i = 0; i < 2; i++) {\n            this._axes[i] = new Point();\n        }\n        if (rect) {\n            this.fromBoundingRect(rect, transform);\n        }\n    }\n    OrientedBoundingRect.prototype.fromBoundingRect = function (rect, transform) {\n        var corners = this._corners;\n        var axes = this._axes;\n        var x = rect.x;\n        var y = rect.y;\n        var x2 = x + rect.width;\n        var y2 = y + rect.height;\n        corners[0].set(x, y);\n        corners[1].set(x2, y);\n        corners[2].set(x2, y2);\n        corners[3].set(x, y2);\n        if (transform) {\n            for (var i = 0; i < 4; i++) {\n                corners[i].transform(transform);\n            }\n        }\n        Point.sub(axes[0], corners[1], corners[0]);\n        Point.sub(axes[1], corners[3], corners[0]);\n        axes[0].normalize();\n        axes[1].normalize();\n        for (var i = 0; i < 2; i++) {\n            this._origin[i] = axes[i].dot(corners[0]);\n        }\n    };\n    OrientedBoundingRect.prototype.intersect = function (other, mtv, opt) {\n        var overlapped = true;\n        var noMtv = !mtv;\n        if (mtv) {\n            Point.set(mtv, 0, 0);\n        }\n        _intersectCtx.reset(opt, !noMtv);\n        if (!this._intersectCheckOneSide(this, other, noMtv, 1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!this._intersectCheckOneSide(other, this, noMtv, -1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!noMtv && !_intersectCtx.negativeSize) {\n            Point.copy(mtv, overlapped\n                ? (_intersectCtx.useDir ? _intersectCtx.dirMinTv : _minTv)\n                : _maxTv);\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._intersectCheckOneSide = function (self, other, noMtv, inverse) {\n        var overlapped = true;\n        for (var i = 0; i < 2; i++) {\n            var axis = self._axes[i];\n            self._getProjMinMaxOnAxis(i, self._corners, _extent);\n            self._getProjMinMaxOnAxis(i, other._corners, _extent2);\n            if (_intersectCtx.negativeSize || _extent[1] < _extent2[0] || _extent[0] > _extent2[1]) {\n                overlapped = false;\n                if (_intersectCtx.negativeSize || noMtv) {\n                    return overlapped;\n                }\n                var dist0 = mathAbs(_extent2[0] - _extent[1]);\n                var dist1 = mathAbs(_extent[0] - _extent2[1]);\n                if (mathMin(dist0, dist1) > _maxTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(_maxTv, axis, -dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(_maxTv, axis, dist1 * inverse);\n                    }\n                }\n            }\n            else if (!noMtv) {\n                var dist0 = mathAbs(_extent2[0] - _extent[1]);\n                var dist1 = mathAbs(_extent[0] - _extent2[1]);\n                if (_intersectCtx.useDir || mathMin(dist0, dist1) < _minTv.len()) {\n                    if (dist0 < dist1 || !_intersectCtx.bidirectional) {\n                        Point.scale(_minTv, axis, dist0 * inverse);\n                        if (_intersectCtx.useDir) {\n                            _intersectCtx.calcDirMTV();\n                        }\n                    }\n                    if (dist0 >= dist1 || !_intersectCtx.bidirectional) {\n                        Point.scale(_minTv, axis, -dist1 * inverse);\n                        if (_intersectCtx.useDir) {\n                            _intersectCtx.calcDirMTV();\n                        }\n                    }\n                }\n            }\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._getProjMinMaxOnAxis = function (dim, corners, out) {\n        var axis = this._axes[dim];\n        var origin = this._origin;\n        var proj = corners[0].dot(axis) + origin[dim];\n        var min = proj;\n        var max = proj;\n        for (var i = 1; i < corners.length; i++) {\n            var proj_1 = corners[i].dot(axis) + origin[dim];\n            min = mathMin(proj_1, min);\n            max = mathMax(proj_1, max);\n        }\n        out[0] = min + _intersectCtx.touchThreshold;\n        out[1] = max - _intersectCtx.touchThreshold;\n        _intersectCtx.negativeSize = out[1] < out[0];\n    };\n    return OrientedBoundingRect;\n}());\nexport default OrientedBoundingRect;\n","import { __extends } from \"tslib\";\nimport Displayble from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar m = [];\nvar IncrementalDisplayable = (function (_super) {\n    __extends(IncrementalDisplayable, _super);\n    function IncrementalDisplayable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.notClear = true;\n        _this.incremental = true;\n        _this._displayables = [];\n        _this._temporaryDisplayables = [];\n        _this._cursor = 0;\n        return _this;\n    }\n    IncrementalDisplayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    IncrementalDisplayable.prototype.useStyle = function () {\n        this.style = {};\n    };\n    IncrementalDisplayable.prototype.getCursor = function () {\n        return this._cursor;\n    };\n    IncrementalDisplayable.prototype.innerAfterBrush = function () {\n        this._cursor = this._displayables.length;\n    };\n    IncrementalDisplayable.prototype.clearDisplaybles = function () {\n        this._displayables = [];\n        this._temporaryDisplayables = [];\n        this._cursor = 0;\n        this.markRedraw();\n        this.notClear = false;\n    };\n    IncrementalDisplayable.prototype.clearTemporalDisplayables = function () {\n        this._temporaryDisplayables = [];\n    };\n    IncrementalDisplayable.prototype.addDisplayable = function (displayable, notPersistent) {\n        if (notPersistent) {\n            this._temporaryDisplayables.push(displayable);\n        }\n        else {\n            this._displayables.push(displayable);\n        }\n        this.markRedraw();\n    };\n    IncrementalDisplayable.prototype.addDisplayables = function (displayables, notPersistent) {\n        notPersistent = notPersistent || false;\n        for (var i = 0; i < displayables.length; i++) {\n            this.addDisplayable(displayables[i], notPersistent);\n        }\n    };\n    IncrementalDisplayable.prototype.getDisplayables = function () {\n        return this._displayables;\n    };\n    IncrementalDisplayable.prototype.getTemporalDisplayables = function () {\n        return this._temporaryDisplayables;\n    };\n    IncrementalDisplayable.prototype.eachPendingDisplayable = function (cb) {\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            cb && cb(this._displayables[i]);\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            cb && cb(this._temporaryDisplayables[i]);\n        }\n    };\n    IncrementalDisplayable.prototype.update = function () {\n        this.updateTransform();\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            var displayable = this._displayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            var displayable = this._temporaryDisplayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n    };\n    IncrementalDisplayable.prototype.getBoundingRect = function () {\n        if (!this._rect) {\n            var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                var childRect = displayable.getBoundingRect().clone();\n                if (displayable.needLocalTransform()) {\n                    childRect.applyTransform(displayable.getLocalTransform(m));\n                }\n                rect.union(childRect);\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    IncrementalDisplayable.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        if (rect.contain(localPos[0], localPos[1])) {\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                if (displayable.contain(x, y)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    return IncrementalDisplayable;\n}(Displayble));\nexport default IncrementalDisplayable;\n","var wmUniqueIndex = Math.round(Math.random() * 9);\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\nvar WeakMap = (function () {\n    function WeakMap() {\n        this._id = '__ec_inner_' + wmUniqueIndex++;\n    }\n    WeakMap.prototype.get = function (key) {\n        return this._guard(key)[this._id];\n    };\n    WeakMap.prototype.set = function (key, value) {\n        var target = this._guard(key);\n        if (supportDefineProperty) {\n            Object.defineProperty(target, this._id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n            });\n        }\n        else {\n            target[this._id] = value;\n        }\n        return this;\n    };\n    WeakMap.prototype[\"delete\"] = function (key) {\n        if (this.has(key)) {\n            delete this._guard(key)[this._id];\n            return true;\n        }\n        return false;\n    };\n    WeakMap.prototype.has = function (key) {\n        return !!this._guard(key)[this._id];\n    };\n    WeakMap.prototype._guard = function (key) {\n        if (key !== Object(key)) {\n            throw TypeError('Value of WeakMap is not a non-null object.');\n        }\n        return key;\n    };\n    return WeakMap;\n}());\nexport default WeakMap;\n","function isSafeNum(num) {\n    return isFinite(num);\n}\nexport function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n    x = isSafeNum(x) ? x : 0;\n    x2 = isSafeNum(x2) ? x2 : 1;\n    y = isSafeNum(y) ? y : 0;\n    y2 = isSafeNum(y2) ? y2 : 0;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n    x = isSafeNum(x) ? x : 0.5;\n    y = isSafeNum(y) ? y : 0.5;\n    r = r >= 0 && isSafeNum(r) ? r : 0.5;\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n    var canvasGradient = obj.type === 'radial'\n        ? createRadialGradient(ctx, obj, rect)\n        : createLinearGradient(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n    for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n    return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths === prevClipPaths || (!clipPaths && !prevClipPaths)) {\n        return false;\n    }\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport function getSize(root, whIdx, opts) {\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n    }\n    var stl = document.defaultView.getComputedStyle(root);\n    return ((root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh]))\n        - (parseInt10(stl[plt]) || 0)\n        - (parseInt10(stl[prb]) || 0)) | 0;\n}\n","import { isArray, isNumber, map } from '../core/util.js';\nexport function normalizeLineDash(lineType, lineWidth) {\n    if (!lineType || lineType === 'solid' || !(lineWidth > 0)) {\n        return null;\n    }\n    return lineType === 'dashed'\n        ? [4 * lineWidth, 2 * lineWidth]\n        : lineType === 'dotted'\n            ? [lineWidth]\n            : isNumber(lineType)\n                ? [lineType] : isArray(lineType) ? lineType : null;\n}\nexport function getLineDash(el) {\n    var style = el.style;\n    var lineDash = style.lineDash && style.lineWidth > 0 && normalizeLineDash(style.lineDash, style.lineWidth);\n    var lineDashOffset = style.lineDashOffset;\n    if (lineDash) {\n        var lineScale_1 = (style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1;\n        if (lineScale_1 && lineScale_1 !== 1) {\n            lineDash = map(lineDash, function (rawVal) {\n                return rawVal / lineScale_1;\n            });\n            lineDashOffset /= lineScale_1;\n        }\n    }\n    return [lineDash, lineDashOffset];\n}\n","import { DEFAULT_COMMON_STYLE } from '../graphic/Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { createOrUpdateImage, isImageReady } from '../graphic/helper/image.js';\nimport { getCanvasGradient, isClipPathChanged } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { RADIAN_TO_DEGREE } from '../core/util.js';\nimport { getLineDash } from './dashStyle.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT } from '../graphic/constants.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nvar pathProxyForDraw = new PathProxy(true);\nfunction styleHasStroke(style) {\n    var stroke = style.stroke;\n    return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n}\nfunction isValidStrokeFillStyle(strokeOrFill) {\n    return typeof strokeOrFill === 'string' && strokeOrFill !== 'none';\n}\nfunction styleHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== 'none';\n}\nfunction doFillPath(ctx, style) {\n    if (style.fillOpacity != null && style.fillOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.fill();\n    }\n}\nfunction doStrokePath(ctx, style) {\n    if (style.strokeOpacity != null && style.strokeOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.stroke();\n    }\n}\nexport function createCanvasPattern(ctx, pattern, el) {\n    var image = createOrUpdateImage(pattern.image, pattern.__image, el);\n    if (isImageReady(image)) {\n        var canvasPattern = ctx.createPattern(image, pattern.repeat || 'repeat');\n        if (typeof DOMMatrix === 'function'\n            && canvasPattern\n            && canvasPattern.setTransform) {\n            var matrix = new DOMMatrix();\n            matrix.translateSelf((pattern.x || 0), (pattern.y || 0));\n            matrix.rotateSelf(0, 0, (pattern.rotation || 0) * RADIAN_TO_DEGREE);\n            matrix.scaleSelf((pattern.scaleX || 1), (pattern.scaleY || 1));\n            canvasPattern.setTransform(matrix);\n        }\n        return canvasPattern;\n    }\n}\nfunction brushPath(ctx, el, style, inBatch) {\n    var _a;\n    var hasStroke = styleHasStroke(style);\n    var hasFill = styleHasFill(style);\n    var strokePercent = style.strokePercent;\n    var strokePart = strokePercent < 1;\n    var firstDraw = !el.path;\n    if ((!el.silent || strokePart) && firstDraw) {\n        el.createPathProxy();\n    }\n    var path = el.path || pathProxyForDraw;\n    var dirtyFlag = el.__dirty;\n    if (!inBatch) {\n        var fill = style.fill;\n        var stroke = style.stroke;\n        var hasFillGradient = hasFill && !!fill.colorStops;\n        var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n        var hasFillPattern = hasFill && !!fill.image;\n        var hasStrokePattern = hasStroke && !!stroke.image;\n        var fillGradient = void 0;\n        var strokeGradient = void 0;\n        var fillPattern = void 0;\n        var strokePattern = void 0;\n        var rect = void 0;\n        if (hasFillGradient || hasStrokeGradient) {\n            rect = el.getBoundingRect();\n        }\n        if (hasFillGradient) {\n            fillGradient = dirtyFlag\n                ? getCanvasGradient(ctx, fill, rect)\n                : el.__canvasFillGradient;\n            el.__canvasFillGradient = fillGradient;\n        }\n        if (hasStrokeGradient) {\n            strokeGradient = dirtyFlag\n                ? getCanvasGradient(ctx, stroke, rect)\n                : el.__canvasStrokeGradient;\n            el.__canvasStrokeGradient = strokeGradient;\n        }\n        if (hasFillPattern) {\n            fillPattern = (dirtyFlag || !el.__canvasFillPattern)\n                ? createCanvasPattern(ctx, fill, el)\n                : el.__canvasFillPattern;\n            el.__canvasFillPattern = fillPattern;\n        }\n        if (hasStrokePattern) {\n            strokePattern = (dirtyFlag || !el.__canvasStrokePattern)\n                ? createCanvasPattern(ctx, stroke, el)\n                : el.__canvasStrokePattern;\n            el.__canvasStrokePattern = strokePattern;\n        }\n        if (hasFillGradient) {\n            ctx.fillStyle = fillGradient;\n        }\n        else if (hasFillPattern) {\n            if (fillPattern) {\n                ctx.fillStyle = fillPattern;\n            }\n            else {\n                hasFill = false;\n            }\n        }\n        if (hasStrokeGradient) {\n            ctx.strokeStyle = strokeGradient;\n        }\n        else if (hasStrokePattern) {\n            if (strokePattern) {\n                ctx.strokeStyle = strokePattern;\n            }\n            else {\n                hasStroke = false;\n            }\n        }\n    }\n    var scale = el.getGlobalScale();\n    path.setScale(scale[0], scale[1], el.segmentIgnoreThreshold);\n    var lineDash;\n    var lineDashOffset;\n    if (ctx.setLineDash && style.lineDash) {\n        _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n    }\n    var needsRebuild = true;\n    if (firstDraw || (dirtyFlag & SHAPE_CHANGED_BIT)) {\n        path.setDPR(ctx.dpr);\n        if (strokePart) {\n            path.setContext(null);\n        }\n        else {\n            path.setContext(ctx);\n            needsRebuild = false;\n        }\n        path.reset();\n        el.buildPath(path, el.shape, inBatch);\n        path.toStatic();\n        el.pathUpdated();\n    }\n    if (needsRebuild) {\n        path.rebuildPath(ctx, strokePart ? strokePercent : 1);\n    }\n    if (lineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n    }\n    if (!inBatch) {\n        if (style.strokeFirst) {\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n        }\n        else {\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n        }\n    }\n    if (lineDash) {\n        ctx.setLineDash([]);\n    }\n}\nfunction brushImage(ctx, el, style) {\n    var image = el.__image = createOrUpdateImage(style.image, el.__image, el, el.onload);\n    if (!image || !isImageReady(image)) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = el.getWidth();\n    var height = el.getHeight();\n    var aspect = image.width / image.height;\n    if (width == null && height != null) {\n        width = height * aspect;\n    }\n    else if (height == null && width != null) {\n        height = width / aspect;\n    }\n    else if (width == null && height == null) {\n        width = image.width;\n        height = image.height;\n    }\n    if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    }\n    else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    }\n    else {\n        ctx.drawImage(image, x, y, width, height);\n    }\n}\nfunction brushText(ctx, el, style) {\n    var _a;\n    var text = style.text;\n    text != null && (text += '');\n    if (text) {\n        ctx.font = style.font || DEFAULT_FONT;\n        ctx.textAlign = style.textAlign;\n        ctx.textBaseline = style.textBaseline;\n        var lineDash = void 0;\n        var lineDashOffset = void 0;\n        if (ctx.setLineDash && style.lineDash) {\n            _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n        }\n        if (lineDash) {\n            ctx.setLineDash(lineDash);\n            ctx.lineDashOffset = lineDashOffset;\n        }\n        if (style.strokeFirst) {\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n        }\n        else {\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n        }\n        if (lineDash) {\n            ctx.setLineDash([]);\n        }\n    }\n}\nvar SHADOW_NUMBER_PROPS = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\nvar STROKE_PROPS = [\n    ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]\n];\nfunction bindCommonProps(ctx, style, prevStyle, forceSetAll, scope) {\n    var styleChanged = false;\n    if (!forceSetAll) {\n        prevStyle = prevStyle || {};\n        if (style === prevStyle) {\n            return false;\n        }\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        flushPathDrawn(ctx, scope);\n        styleChanged = true;\n        var opacity = Math.max(Math.min(style.opacity, 1), 0);\n        ctx.globalAlpha = isNaN(opacity) ? DEFAULT_COMMON_STYLE.opacity : opacity;\n    }\n    if (forceSetAll || style.blend !== prevStyle.blend) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalCompositeOperation = style.blend || DEFAULT_COMMON_STYLE.blend;\n    }\n    for (var i = 0; i < SHADOW_NUMBER_PROPS.length; i++) {\n        var propName = SHADOW_NUMBER_PROPS[i];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = ctx.dpr * (style[propName] || 0);\n        }\n    }\n    if (forceSetAll || style.shadowColor !== prevStyle.shadowColor) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.shadowColor = style.shadowColor || DEFAULT_COMMON_STYLE.shadowColor;\n    }\n    return styleChanged;\n}\nfunction bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetAll, scope) {\n    var style = getStyle(el, scope.inHover);\n    var prevStyle = forceSetAll\n        ? null\n        : (prevEl && getStyle(prevEl, scope.inHover) || {});\n    if (style === prevStyle) {\n        return false;\n    }\n    var styleChanged = bindCommonProps(ctx, style, prevStyle, forceSetAll, scope);\n    if (forceSetAll || style.fill !== prevStyle.fill) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.fill) && (ctx.fillStyle = style.fill);\n    }\n    if (forceSetAll || style.stroke !== prevStyle.stroke) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.stroke) && (ctx.strokeStyle = style.stroke);\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n    if (el.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var newLineWidth = lineWidth / ((style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1);\n        if (ctx.lineWidth !== newLineWidth) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx.lineWidth = newLineWidth;\n        }\n    }\n    for (var i = 0; i < STROKE_PROPS.length; i++) {\n        var prop = STROKE_PROPS[i];\n        var propName = prop[0];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = style[propName] || prop[1];\n        }\n    }\n    return styleChanged;\n}\nfunction bindImageStyle(ctx, el, prevEl, forceSetAll, scope) {\n    return bindCommonProps(ctx, getStyle(el, scope.inHover), prevEl && getStyle(prevEl, scope.inHover), forceSetAll, scope);\n}\nfunction setContextTransform(ctx, el) {\n    var m = el.transform;\n    var dpr = ctx.dpr || 1;\n    if (m) {\n        ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    }\n    else {\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n}\nfunction updateClipStatus(clipPaths, ctx, scope) {\n    var allClipped = false;\n    for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        allClipped = allClipped || clipPath.isZeroArea();\n        setContextTransform(ctx, clipPath);\n        ctx.beginPath();\n        clipPath.buildPath(ctx, clipPath.shape);\n        ctx.clip();\n    }\n    scope.allClipped = allClipped;\n}\nfunction isTransformChanged(m0, m1) {\n    if (m0 && m1) {\n        return m0[0] !== m1[0]\n            || m0[1] !== m1[1]\n            || m0[2] !== m1[2]\n            || m0[3] !== m1[3]\n            || m0[4] !== m1[4]\n            || m0[5] !== m1[5];\n    }\n    else if (!m0 && !m1) {\n        return false;\n    }\n    return true;\n}\nvar DRAW_TYPE_PATH = 1;\nvar DRAW_TYPE_IMAGE = 2;\nvar DRAW_TYPE_TEXT = 3;\nvar DRAW_TYPE_INCREMENTAL = 4;\nfunction canPathBatch(style) {\n    var hasFill = styleHasFill(style);\n    var hasStroke = styleHasStroke(style);\n    return !(style.lineDash\n        || !(+hasFill ^ +hasStroke)\n        || (hasFill && typeof style.fill !== 'string')\n        || (hasStroke && typeof style.stroke !== 'string')\n        || style.strokePercent < 1\n        || style.strokeOpacity < 1\n        || style.fillOpacity < 1);\n}\nfunction flushPathDrawn(ctx, scope) {\n    scope.batchFill && ctx.fill();\n    scope.batchStroke && ctx.stroke();\n    scope.batchFill = '';\n    scope.batchStroke = '';\n}\nfunction getStyle(el, inHover) {\n    return inHover ? (el.__hoverStyle || el.style) : el.style;\n}\nexport function brushSingle(ctx, el) {\n    brush(ctx, el, { inHover: false, viewWidth: 0, viewHeight: 0 }, true);\n}\nexport function brush(ctx, el, scope, isLast) {\n    var m = el.transform;\n    if (!el.shouldBePainted(scope.viewWidth, scope.viewHeight, false, false)) {\n        el.__dirty &= ~REDRAW_BIT;\n        el.__isRendered = false;\n        return;\n    }\n    var clipPaths = el.__clipPaths;\n    var prevElClipPaths = scope.prevElClipPaths;\n    var forceSetTransform = false;\n    var forceSetStyle = false;\n    if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n        if (prevElClipPaths && prevElClipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.restore();\n            forceSetStyle = forceSetTransform = true;\n            scope.prevElClipPaths = null;\n            scope.allClipped = false;\n            scope.prevEl = null;\n        }\n        if (clipPaths && clipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.save();\n            updateClipStatus(clipPaths, ctx, scope);\n            forceSetTransform = true;\n        }\n        scope.prevElClipPaths = clipPaths;\n    }\n    if (scope.allClipped) {\n        el.__isRendered = false;\n        return;\n    }\n    el.beforeBrush && el.beforeBrush();\n    el.innerBeforeBrush();\n    var prevEl = scope.prevEl;\n    if (!prevEl) {\n        forceSetStyle = forceSetTransform = true;\n    }\n    var canBatchPath = el instanceof Path\n        && el.autoBatch\n        && canPathBatch(el.style);\n    if (forceSetTransform || isTransformChanged(m, prevEl.transform)) {\n        flushPathDrawn(ctx, scope);\n        setContextTransform(ctx, el);\n    }\n    else if (!canBatchPath) {\n        flushPathDrawn(ctx, scope);\n    }\n    var style = getStyle(el, scope.inHover);\n    if (el instanceof Path) {\n        if (scope.lastDrawType !== DRAW_TYPE_PATH) {\n            forceSetStyle = true;\n            scope.lastDrawType = DRAW_TYPE_PATH;\n        }\n        bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n        if (!canBatchPath || (!scope.batchFill && !scope.batchStroke)) {\n            ctx.beginPath();\n        }\n        brushPath(ctx, el, style, canBatchPath);\n        if (canBatchPath) {\n            scope.batchFill = style.fill || '';\n            scope.batchStroke = style.stroke || '';\n        }\n    }\n    else {\n        if (el instanceof TSpan) {\n            if (scope.lastDrawType !== DRAW_TYPE_TEXT) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_TEXT;\n            }\n            bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushText(ctx, el, style);\n        }\n        else if (el instanceof ZRImage) {\n            if (scope.lastDrawType !== DRAW_TYPE_IMAGE) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_IMAGE;\n            }\n            bindImageStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushImage(ctx, el, style);\n        }\n        else if (el.getTemporalDisplayables) {\n            if (scope.lastDrawType !== DRAW_TYPE_INCREMENTAL) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_INCREMENTAL;\n            }\n            brushIncremental(ctx, el, scope);\n        }\n    }\n    if (canBatchPath && isLast) {\n        flushPathDrawn(ctx, scope);\n    }\n    el.innerAfterBrush();\n    el.afterBrush && el.afterBrush();\n    scope.prevEl = el;\n    el.__dirty = 0;\n    el.__isRendered = true;\n}\nfunction brushIncremental(ctx, el, scope) {\n    var displayables = el.getDisplayables();\n    var temporalDisplayables = el.getTemporalDisplayables();\n    ctx.save();\n    var innerScope = {\n        prevElClipPaths: null,\n        prevEl: null,\n        allClipped: false,\n        viewWidth: scope.viewWidth,\n        viewHeight: scope.viewHeight,\n        inHover: scope.inHover\n    };\n    var i;\n    var len;\n    for (i = el.getCursor(), len = displayables.length; i < len; i++) {\n        var displayable = displayables[i];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i === len - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    for (var i_1 = 0, len_1 = temporalDisplayables.length; i_1 < len_1; i_1++) {\n        var displayable = temporalDisplayables[i_1];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i_1 === len_1 - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    el.clearTemporalDisplayables();\n    el.notClear = true;\n    ctx.restore();\n}\n","import windingLine from './windingLine.js';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n","import { isAroundZero } from './helper.js';\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar SVGPathRebuilder = (function () {\n    function SVGPathRebuilder() {\n    }\n    SVGPathRebuilder.prototype.reset = function (precision) {\n        this._start = true;\n        this._d = [];\n        this._str = '';\n        this._p = Math.pow(10, precision || 4);\n    };\n    SVGPathRebuilder.prototype.moveTo = function (x, y) {\n        this._add('M', x, y);\n    };\n    SVGPathRebuilder.prototype.lineTo = function (x, y) {\n        this._add('L', x, y);\n    };\n    SVGPathRebuilder.prototype.bezierCurveTo = function (x, y, x2, y2, x3, y3) {\n        this._add('C', x, y, x2, y2, x3, y3);\n    };\n    SVGPathRebuilder.prototype.quadraticCurveTo = function (x, y, x2, y2) {\n        this._add('Q', x, y, x2, y2);\n    };\n    SVGPathRebuilder.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this.ellipse(cx, cy, r, r, 0, startAngle, endAngle, anticlockwise);\n    };\n    SVGPathRebuilder.prototype.ellipse = function (cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise) {\n        var dTheta = endAngle - startAngle;\n        var clockwise = !anticlockwise;\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive - PI2)\n            || (clockwise ? dTheta >= PI2 : -dTheta >= PI2);\n        var unifiedTheta = dTheta > 0 ? dTheta % PI2 : (dTheta % PI2 + PI2);\n        var large = false;\n        if (isCircle) {\n            large = true;\n        }\n        else if (isAroundZero(dThetaPositive)) {\n            large = false;\n        }\n        else {\n            large = (unifiedTheta >= PI) === !!clockwise;\n        }\n        var x0 = cx + rx * mathCos(startAngle);\n        var y0 = cy + ry * mathSin(startAngle);\n        if (this._start) {\n            this._add('M', x0, y0);\n        }\n        var xRot = Math.round(psi * degree);\n        if (isCircle) {\n            var p = 1 / this._p;\n            var dTheta_1 = (clockwise ? 1 : -1) * (PI2 - p);\n            this._add('A', rx, ry, xRot, 1, +clockwise, cx + rx * mathCos(startAngle + dTheta_1), cy + ry * mathSin(startAngle + dTheta_1));\n            if (p > 1e-2) {\n                this._add('A', rx, ry, xRot, 0, +clockwise, x0, y0);\n            }\n        }\n        else {\n            var x = cx + rx * mathCos(endAngle);\n            var y = cy + ry * mathSin(endAngle);\n            this._add('A', rx, ry, xRot, +large, +clockwise, x, y);\n        }\n    };\n    SVGPathRebuilder.prototype.rect = function (x, y, w, h) {\n        this._add('M', x, y);\n        this._add('l', w, 0);\n        this._add('l', 0, h);\n        this._add('l', -w, 0);\n        this._add('Z');\n    };\n    SVGPathRebuilder.prototype.closePath = function () {\n        if (this._d.length > 0) {\n            this._add('Z');\n        }\n    };\n    SVGPathRebuilder.prototype._add = function (cmd, a, b, c, d, e, f, g, h) {\n        var vals = [];\n        var p = this._p;\n        for (var i = 1; i < arguments.length; i++) {\n            var val = arguments[i];\n            if (isNaN(val)) {\n                this._invalid = true;\n                return;\n            }\n            vals.push(Math.round(val * p) / p);\n        }\n        this._d.push(cmd + vals.join(' '));\n        this._start = cmd === 'Z';\n    };\n    SVGPathRebuilder.prototype.generateStr = function () {\n        this._str = this._invalid ? '' : this._d.join('');\n        this._d = [];\n    };\n    SVGPathRebuilder.prototype.getStr = function () {\n        return this._str;\n    };\n    return SVGPathRebuilder;\n}());\nexport default SVGPathRebuilder;\n","import { DEFAULT_PATH_STYLE } from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineDash } from '../canvas/dashStyle.js';\nimport { map } from '../core/util.js';\nimport { normalizeColor } from './helper.js';\nvar NONE = 'none';\nvar mathRound = Math.round;\nfunction pathHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== NONE;\n}\nfunction pathHasStroke(style) {\n    var stroke = style.stroke;\n    return stroke != null && stroke !== NONE;\n}\nvar strokeProps = ['lineCap', 'miterLimit', 'lineJoin'];\nvar svgStrokeProps = map(strokeProps, function (prop) { return \"stroke-\" + prop.toLowerCase(); });\nexport default function mapStyleToAttrs(updateAttr, style, el, forceUpdate) {\n    var opacity = style.opacity == null ? 1 : style.opacity;\n    if (el instanceof ZRImage) {\n        updateAttr('opacity', opacity);\n        return;\n    }\n    if (pathHasFill(style)) {\n        var fill = normalizeColor(style.fill);\n        updateAttr('fill', fill.color);\n        var fillOpacity = style.fillOpacity != null\n            ? style.fillOpacity * fill.opacity * opacity\n            : fill.opacity * opacity;\n        if (forceUpdate || fillOpacity < 1) {\n            updateAttr('fill-opacity', fillOpacity);\n        }\n    }\n    else {\n        updateAttr('fill', NONE);\n    }\n    if (pathHasStroke(style)) {\n        var stroke = normalizeColor(style.stroke);\n        updateAttr('stroke', stroke.color);\n        var strokeScale = style.strokeNoScale\n            ? el.getLineScale()\n            : 1;\n        var strokeWidth = (strokeScale ? (style.lineWidth || 0) / strokeScale : 0);\n        var strokeOpacity = style.strokeOpacity != null\n            ? style.strokeOpacity * stroke.opacity * opacity\n            : stroke.opacity * opacity;\n        var strokeFirst = style.strokeFirst;\n        if (forceUpdate || strokeWidth !== 1) {\n            updateAttr('stroke-width', strokeWidth);\n        }\n        if (forceUpdate || strokeFirst) {\n            updateAttr('paint-order', strokeFirst ? 'stroke' : 'fill');\n        }\n        if (forceUpdate || strokeOpacity < 1) {\n            updateAttr('stroke-opacity', strokeOpacity);\n        }\n        if (style.lineDash) {\n            var _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n            if (lineDash) {\n                lineDashOffset = mathRound(lineDashOffset || 0);\n                updateAttr('stroke-dasharray', lineDash.join(','));\n                if (lineDashOffset || forceUpdate) {\n                    updateAttr('stroke-dashoffset', lineDashOffset);\n                }\n            }\n        }\n        else if (forceUpdate) {\n            updateAttr('stroke-dasharray', NONE);\n        }\n        for (var i = 0; i < strokeProps.length; i++) {\n            var propName = strokeProps[i];\n            if (forceUpdate || style[propName] !== DEFAULT_PATH_STYLE[propName]) {\n                var val = style[propName] || DEFAULT_PATH_STYLE[propName];\n                val && updateAttr(svgStrokeProps[i], val);\n            }\n        }\n    }\n    else if (forceUpdate) {\n        updateAttr('stroke', NONE);\n    }\n}\n","import { keys, map } from '../core/util.js';\nimport { encodeHTML } from '../core/dom.js';\nexport var SVGNS = 'http://www.w3.org/2000/svg';\nexport var XLINKNS = 'http://www.w3.org/1999/xlink';\nexport var XMLNS = 'http://www.w3.org/2000/xmlns/';\nexport var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\nexport var META_DATA_PREFIX = 'ecmeta_';\nexport function createElement(name) {\n    return document.createElementNS(SVGNS, name);\n}\n;\nexport function createVNode(tag, key, attrs, children, text) {\n    return {\n        tag: tag,\n        attrs: attrs || {},\n        children: children,\n        text: text,\n        key: key\n    };\n}\nfunction createElementOpen(name, attrs) {\n    var attrsStr = [];\n    if (attrs) {\n        for (var key in attrs) {\n            var val = attrs[key];\n            var part = key;\n            if (val === false) {\n                continue;\n            }\n            else if (val !== true && val != null) {\n                part += \"=\\\"\" + val + \"\\\"\";\n            }\n            attrsStr.push(part);\n        }\n    }\n    return \"<\" + name + \" \" + attrsStr.join(' ') + \">\";\n}\nfunction createElementClose(name) {\n    return \"</\" + name + \">\";\n}\nexport function vNodeToString(el, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    function convertElToString(el) {\n        var children = el.children, tag = el.tag, attrs = el.attrs, text = el.text;\n        return createElementOpen(tag, attrs)\n            + (tag !== 'style' ? encodeHTML(text) : text || '')\n            + (children ? \"\" + S + map(children, function (child) { return convertElToString(child); }).join(S) + S : '')\n            + createElementClose(tag);\n    }\n    return convertElToString(el);\n}\nexport function getCssString(selectorNodes, animationNodes, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    var bracketBegin = \" {\" + S;\n    var bracketEnd = S + \"}\";\n    var selectors = map(keys(selectorNodes), function (className) {\n        return className + bracketBegin + map(keys(selectorNodes[className]), function (attrName) {\n            return attrName + \":\" + selectorNodes[className][attrName] + \";\";\n        }).join(S) + bracketEnd;\n    }).join(S);\n    var animations = map(keys(animationNodes), function (animationName) {\n        return \"@keyframes \" + animationName + bracketBegin + map(keys(animationNodes[animationName]), function (percent) {\n            return percent + bracketBegin + map(keys(animationNodes[animationName][percent]), function (attrName) {\n                var val = animationNodes[animationName][percent][attrName];\n                if (attrName === 'd') {\n                    val = \"path(\\\"\" + val + \"\\\")\";\n                }\n                return attrName + \":\" + val + \";\";\n            }).join(S) + bracketEnd;\n        }).join(S) + bracketEnd;\n    }).join(S);\n    if (!selectors && !animations) {\n        return '';\n    }\n    return ['<![CDATA[', selectors, animations, ']]>'].join(S);\n}\nexport function createBrushScope(zrId) {\n    return {\n        zrId: zrId,\n        shadowCache: {},\n        patternCache: {},\n        gradientCache: {},\n        clipPathCache: {},\n        defs: {},\n        cssNodes: {},\n        cssAnims: {},\n        cssStyleCache: {},\n        cssAnimIdx: 0,\n        shadowIdx: 0,\n        gradientIdx: 0,\n        patternIdx: 0,\n        clipPathIdx: 0\n    };\n}\nexport function createSVGVNode(width, height, children, useViewBox) {\n    return createVNode('svg', 'root', {\n        'width': width,\n        'height': height,\n        'xmlns': SVGNS,\n        'xmlns:xlink': XLINKNS,\n        'version': '1.1',\n        'baseProfile': 'full',\n        'viewBox': useViewBox ? \"0 0 \" + width + \" \" + height : false\n    }, children);\n}\n","var cssClassIdx = 0;\nexport function getClassId() {\n    return cssClassIdx++;\n}\n","import { copyTransform } from '../core/Transformable.js';\nimport { createBrushScope } from './core.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { getPathPrecision, getSRTTransformString } from './helper.js';\nimport { each, extend, filter, isNumber, isString, keys } from '../core/util.js';\nimport CompoundPath from '../graphic/CompoundPath.js';\nimport { createCubicEasingFunc } from '../animation/cubicEasing.js';\nimport { getClassId } from './cssClassId.js';\nexport var EASING_MAP = {\n    cubicIn: '0.32,0,0.67,0',\n    cubicOut: '0.33,1,0.68,1',\n    cubicInOut: '0.65,0,0.35,1',\n    quadraticIn: '0.11,0,0.5,0',\n    quadraticOut: '0.5,1,0.89,1',\n    quadraticInOut: '0.45,0,0.55,1',\n    quarticIn: '0.5,0,0.75,0',\n    quarticOut: '0.25,1,0.5,1',\n    quarticInOut: '0.76,0,0.24,1',\n    quinticIn: '0.64,0,0.78,0',\n    quinticOut: '0.22,1,0.36,1',\n    quinticInOut: '0.83,0,0.17,1',\n    sinusoidalIn: '0.12,0,0.39,0',\n    sinusoidalOut: '0.61,1,0.88,1',\n    sinusoidalInOut: '0.37,0,0.63,1',\n    exponentialIn: '0.7,0,0.84,0',\n    exponentialOut: '0.16,1,0.3,1',\n    exponentialInOut: '0.87,0,0.13,1',\n    circularIn: '0.55,0,1,0.45',\n    circularOut: '0,0.55,0.45,1',\n    circularInOut: '0.85,0,0.15,1'\n};\nvar transformOriginKey = 'transform-origin';\nfunction buildPathString(el, kfShape, path) {\n    var shape = extend({}, el.shape);\n    extend(shape, kfShape);\n    el.buildPath(path, shape);\n    var svgPathBuilder = new SVGPathRebuilder();\n    svgPathBuilder.reset(getPathPrecision(el));\n    path.rebuildPath(svgPathBuilder, 1);\n    svgPathBuilder.generateStr();\n    return svgPathBuilder.getStr();\n}\nfunction setTransformOrigin(target, transform) {\n    var originX = transform.originX, originY = transform.originY;\n    if (originX || originY) {\n        target[transformOriginKey] = originX + \"px \" + originY + \"px\";\n    }\n}\nexport var ANIMATE_STYLE_MAP = {\n    fill: 'fill',\n    opacity: 'opacity',\n    lineWidth: 'stroke-width',\n    lineDashOffset: 'stroke-dashoffset'\n};\nfunction addAnimation(cssAnim, scope) {\n    var animationName = scope.zrId + '-ani-' + scope.cssAnimIdx++;\n    scope.cssAnims[animationName] = cssAnim;\n    return animationName;\n}\nfunction createCompoundPathCSSAnimation(el, attrs, scope) {\n    var paths = el.shape.paths;\n    var composedAnim = {};\n    var cssAnimationCfg;\n    var cssAnimationName;\n    each(paths, function (path) {\n        var subScope = createBrushScope(scope.zrId);\n        subScope.animation = true;\n        createCSSAnimation(path, {}, subScope, true);\n        var cssAnims = subScope.cssAnims;\n        var cssNodes = subScope.cssNodes;\n        var animNames = keys(cssAnims);\n        var len = animNames.length;\n        if (!len) {\n            return;\n        }\n        cssAnimationName = animNames[len - 1];\n        var lastAnim = cssAnims[cssAnimationName];\n        for (var percent in lastAnim) {\n            var kf = lastAnim[percent];\n            composedAnim[percent] = composedAnim[percent] || { d: '' };\n            composedAnim[percent].d += kf.d || '';\n        }\n        for (var className in cssNodes) {\n            var val = cssNodes[className].animation;\n            if (val.indexOf(cssAnimationName) >= 0) {\n                cssAnimationCfg = val;\n            }\n        }\n    });\n    if (!cssAnimationCfg) {\n        return;\n    }\n    attrs.d = false;\n    var animationName = addAnimation(composedAnim, scope);\n    return cssAnimationCfg.replace(cssAnimationName, animationName);\n}\nfunction getEasingFunc(easing) {\n    return isString(easing)\n        ? EASING_MAP[easing]\n            ? \"cubic-bezier(\" + EASING_MAP[easing] + \")\"\n            : createCubicEasingFunc(easing) ? easing : ''\n        : '';\n}\nexport function createCSSAnimation(el, attrs, scope, onlyShape) {\n    var animators = el.animators;\n    var len = animators.length;\n    var cssAnimations = [];\n    if (el instanceof CompoundPath) {\n        var animationCfg = createCompoundPathCSSAnimation(el, attrs, scope);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n        else if (!len) {\n            return;\n        }\n    }\n    else if (!len) {\n        return;\n    }\n    var groupAnimators = {};\n    for (var i = 0; i < len; i++) {\n        var animator = animators[i];\n        var cfgArr = [animator.getMaxTime() / 1000 + 's'];\n        var easing = getEasingFunc(animator.getClip().easing);\n        var delay = animator.getDelay();\n        if (easing) {\n            cfgArr.push(easing);\n        }\n        else {\n            cfgArr.push('linear');\n        }\n        if (delay) {\n            cfgArr.push(delay / 1000 + 's');\n        }\n        if (animator.getLoop()) {\n            cfgArr.push('infinite');\n        }\n        var cfg = cfgArr.join(' ');\n        groupAnimators[cfg] = groupAnimators[cfg] || [cfg, []];\n        groupAnimators[cfg][1].push(animator);\n    }\n    function createSingleCSSAnimation(groupAnimator) {\n        var animators = groupAnimator[1];\n        var len = animators.length;\n        var transformKfs = {};\n        var shapeKfs = {};\n        var finalKfs = {};\n        var animationTimingFunctionAttrName = 'animation-timing-function';\n        function saveAnimatorTrackToCssKfs(animator, cssKfs, toCssAttrName) {\n            var tracks = animator.getTracks();\n            var maxTime = animator.getMaxTime();\n            for (var k = 0; k < tracks.length; k++) {\n                var track = tracks[k];\n                if (track.needsAnimate()) {\n                    var kfs = track.keyframes;\n                    var attrName = track.propName;\n                    toCssAttrName && (attrName = toCssAttrName(attrName));\n                    if (attrName) {\n                        for (var i = 0; i < kfs.length; i++) {\n                            var kf = kfs[i];\n                            var percent = Math.round(kf.time / maxTime * 100) + '%';\n                            var kfEasing = getEasingFunc(kf.easing);\n                            var rawValue = kf.rawValue;\n                            if (isString(rawValue) || isNumber(rawValue)) {\n                                cssKfs[percent] = cssKfs[percent] || {};\n                                cssKfs[percent][attrName] = kf.rawValue;\n                                if (kfEasing) {\n                                    cssKfs[percent][animationTimingFunctionAttrName] = kfEasing;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            var targetProp = animator.targetName;\n            if (!targetProp) {\n                !onlyShape && saveAnimatorTrackToCssKfs(animator, transformKfs);\n            }\n            else if (targetProp === 'shape') {\n                saveAnimatorTrackToCssKfs(animator, shapeKfs);\n            }\n        }\n        for (var percent in transformKfs) {\n            var transform = {};\n            copyTransform(transform, el);\n            extend(transform, transformKfs[percent]);\n            var str = getSRTTransformString(transform);\n            var timingFunction = transformKfs[percent][animationTimingFunctionAttrName];\n            finalKfs[percent] = str ? {\n                transform: str\n            } : {};\n            setTransformOrigin(finalKfs[percent], transform);\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        var path;\n        var canAnimateShape = true;\n        for (var percent in shapeKfs) {\n            finalKfs[percent] = finalKfs[percent] || {};\n            var isFirst = !path;\n            var timingFunction = shapeKfs[percent][animationTimingFunctionAttrName];\n            if (isFirst) {\n                path = new PathProxy();\n            }\n            var len_1 = path.len();\n            path.reset();\n            finalKfs[percent].d = buildPathString(el, shapeKfs[percent], path);\n            var newLen = path.len();\n            if (!isFirst && len_1 !== newLen) {\n                canAnimateShape = false;\n                break;\n            }\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        if (!canAnimateShape) {\n            for (var percent in finalKfs) {\n                delete finalKfs[percent].d;\n            }\n        }\n        if (!onlyShape) {\n            for (var i = 0; i < len; i++) {\n                var animator = animators[i];\n                var targetProp = animator.targetName;\n                if (targetProp === 'style') {\n                    saveAnimatorTrackToCssKfs(animator, finalKfs, function (propName) { return ANIMATE_STYLE_MAP[propName]; });\n                }\n            }\n        }\n        var percents = keys(finalKfs);\n        var allTransformOriginSame = true;\n        var transformOrigin;\n        for (var i = 1; i < percents.length; i++) {\n            var p0 = percents[i - 1];\n            var p1 = percents[i];\n            if (finalKfs[p0][transformOriginKey] !== finalKfs[p1][transformOriginKey]) {\n                allTransformOriginSame = false;\n                break;\n            }\n            transformOrigin = finalKfs[p0][transformOriginKey];\n        }\n        if (allTransformOriginSame && transformOrigin) {\n            for (var percent in finalKfs) {\n                if (finalKfs[percent][transformOriginKey]) {\n                    delete finalKfs[percent][transformOriginKey];\n                }\n            }\n            attrs[transformOriginKey] = transformOrigin;\n        }\n        if (filter(percents, function (percent) { return keys(finalKfs[percent]).length > 0; }).length) {\n            var animationName = addAnimation(finalKfs, scope);\n            return animationName + \" \" + groupAnimator[0] + \" both\";\n        }\n    }\n    for (var key in groupAnimators) {\n        var animationCfg = createSingleCSSAnimation(groupAnimators[key]);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n    }\n    if (cssAnimations.length) {\n        var className = scope.zrId + '-cls-' + getClassId();\n        scope.cssNodes['.' + className] = {\n            animation: cssAnimations.join(',')\n        };\n        attrs[\"class\"] = className;\n    }\n}\n","import { liftColor } from '../tool/color.js';\nimport { getClassId } from './cssClassId.js';\nexport function createCSSEmphasis(el, attrs, scope) {\n    if (!el.ignore) {\n        if (el.isSilent()) {\n            var style = {\n                'pointer-events': 'none'\n            };\n            setClassAttribute(style, attrs, scope, true);\n        }\n        else {\n            var emphasisStyle = el.states.emphasis && el.states.emphasis.style\n                ? el.states.emphasis.style\n                : {};\n            var fill = emphasisStyle.fill;\n            if (!fill) {\n                var normalFill = el.style && el.style.fill;\n                var selectFill = el.states.select\n                    && el.states.select.style\n                    && el.states.select.style.fill;\n                var fromFill = el.currentStates.indexOf('select') >= 0\n                    ? (selectFill || normalFill)\n                    : normalFill;\n                if (fromFill) {\n                    fill = liftColor(fromFill);\n                }\n            }\n            var lineWidth = emphasisStyle.lineWidth;\n            if (lineWidth) {\n                var scaleX = (!emphasisStyle.strokeNoScale && el.transform)\n                    ? el.transform[0]\n                    : 1;\n                lineWidth = lineWidth / scaleX;\n            }\n            var style = {\n                cursor: 'pointer'\n            };\n            if (fill) {\n                style.fill = fill;\n            }\n            if (emphasisStyle.stroke) {\n                style.stroke = emphasisStyle.stroke;\n            }\n            if (lineWidth) {\n                style['stroke-width'] = lineWidth;\n            }\n            setClassAttribute(style, attrs, scope, true);\n        }\n    }\n}\nfunction setClassAttribute(style, attrs, scope, withHover) {\n    var styleKey = JSON.stringify(style);\n    var className = scope.cssStyleCache[styleKey];\n    if (!className) {\n        className = scope.zrId + '-cls-' + getClassId();\n        scope.cssStyleCache[styleKey] = className;\n        scope.cssNodes['.' + className + (withHover ? ':hover' : '')] = style;\n    }\n    attrs[\"class\"] = attrs[\"class\"] ? (attrs[\"class\"] + ' ' + className) : className;\n}\n","import { adjustTextY, getIdURL, getMatrixStr, getPathPrecision, getShadowKey, getSRTTransformString, hasShadow, isAroundZero, isGradient, isImagePattern, isLinearGradient, isPattern, isRadialGradient, normalizeColor, round4, TEXT_ALIGN_TO_ANCHOR } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineHeight } from '../contain/text.js';\nimport TSpan from '../graphic/TSpan.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport mapStyleToAttrs from './mapStyleToAttrs.js';\nimport { createVNode, vNodeToString, META_DATA_PREFIX } from './core.js';\nimport { assert, clone, isFunction, isString, logError, map, retrieve2 } from '../core/util.js';\nimport { createOrUpdateImage } from '../graphic/helper/image.js';\nimport { createCSSAnimation } from './cssAnimation.js';\nimport { hasSeparateFont, parseFontSize } from '../graphic/Text.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_FAMILY } from '../core/platform.js';\nimport { createCSSEmphasis } from './cssEmphasis.js';\nimport { getElementSSRData } from '../zrender.js';\nvar round = Math.round;\nfunction isImageLike(val) {\n    return val && isString(val.src);\n}\nfunction isCanvasLike(val) {\n    return val && isFunction(val.toDataURL);\n}\nfunction setStyleAttrs(attrs, style, el, scope) {\n    mapStyleToAttrs(function (key, val) {\n        var isFillStroke = key === 'fill' || key === 'stroke';\n        if (isFillStroke && isGradient(val)) {\n            setGradient(style, attrs, key, scope);\n        }\n        else if (isFillStroke && isPattern(val)) {\n            setPattern(el, attrs, key, scope);\n        }\n        else {\n            attrs[key] = val;\n        }\n        if (isFillStroke && scope.ssr && val === 'none') {\n            attrs['pointer-events'] = 'visible';\n        }\n    }, style, el, false);\n    setShadow(el, attrs, scope);\n}\nfunction setMetaData(attrs, el) {\n    var metaData = getElementSSRData(el);\n    if (metaData) {\n        metaData.each(function (val, key) {\n            val != null && (attrs[(META_DATA_PREFIX + key).toLowerCase()] = val + '');\n        });\n        if (el.isSilent()) {\n            attrs[META_DATA_PREFIX + 'silent'] = 'true';\n        }\n    }\n}\nfunction noRotateScale(m) {\n    return isAroundZero(m[0] - 1)\n        && isAroundZero(m[1])\n        && isAroundZero(m[2])\n        && isAroundZero(m[3] - 1);\n}\nfunction noTranslate(m) {\n    return isAroundZero(m[4]) && isAroundZero(m[5]);\n}\nfunction setTransform(attrs, m, compress) {\n    if (m && !(noTranslate(m) && noRotateScale(m))) {\n        var mul = compress ? 10 : 1e4;\n        attrs.transform = noRotateScale(m)\n            ? \"translate(\" + round(m[4] * mul) / mul + \" \" + round(m[5] * mul) / mul + \")\" : getMatrixStr(m);\n    }\n}\nfunction convertPolyShape(shape, attrs, mul) {\n    var points = shape.points;\n    var strArr = [];\n    for (var i = 0; i < points.length; i++) {\n        strArr.push(round(points[i][0] * mul) / mul);\n        strArr.push(round(points[i][1] * mul) / mul);\n    }\n    attrs.points = strArr.join(' ');\n}\nfunction validatePolyShape(shape) {\n    return !shape.smooth;\n}\nfunction createAttrsConvert(desc) {\n    var normalizedDesc = map(desc, function (item) {\n        return (typeof item === 'string' ? [item, item] : item);\n    });\n    return function (shape, attrs, mul) {\n        for (var i = 0; i < normalizedDesc.length; i++) {\n            var item = normalizedDesc[i];\n            var val = shape[item[0]];\n            if (val != null) {\n                attrs[item[1]] = round(val * mul) / mul;\n            }\n        }\n    };\n}\nvar builtinShapesDef = {\n    circle: [createAttrsConvert(['cx', 'cy', 'r'])],\n    polyline: [convertPolyShape, validatePolyShape],\n    polygon: [convertPolyShape, validatePolyShape]\n};\nfunction hasShapeAnimation(el) {\n    var animators = el.animators;\n    for (var i = 0; i < animators.length; i++) {\n        if (animators[i].targetName === 'shape') {\n            return true;\n        }\n    }\n    return false;\n}\nexport function brushSVGPath(el, scope) {\n    var style = el.style;\n    var shape = el.shape;\n    var builtinShpDef = builtinShapesDef[el.type];\n    var attrs = {};\n    var needsAnimate = scope.animation;\n    var svgElType = 'path';\n    var strokePercent = el.style.strokePercent;\n    var precision = (scope.compress && getPathPrecision(el)) || 4;\n    if (builtinShpDef\n        && !scope.willUpdate\n        && !(builtinShpDef[1] && !builtinShpDef[1](shape))\n        && !(needsAnimate && hasShapeAnimation(el))\n        && !(strokePercent < 1)) {\n        svgElType = el.type;\n        var mul = Math.pow(10, precision);\n        builtinShpDef[0](shape, attrs, mul);\n    }\n    else {\n        var needBuildPath = !el.path || el.shapeChanged();\n        if (!el.path) {\n            el.createPathProxy();\n        }\n        var path = el.path;\n        if (needBuildPath) {\n            path.beginPath();\n            el.buildPath(path, el.shape);\n            el.pathUpdated();\n        }\n        var pathVersion = path.getVersion();\n        var elExt = el;\n        var svgPathBuilder = elExt.__svgPathBuilder;\n        if (elExt.__svgPathVersion !== pathVersion\n            || !svgPathBuilder\n            || strokePercent !== elExt.__svgPathStrokePercent) {\n            if (!svgPathBuilder) {\n                svgPathBuilder = elExt.__svgPathBuilder = new SVGPathRebuilder();\n            }\n            svgPathBuilder.reset(precision);\n            path.rebuildPath(svgPathBuilder, strokePercent);\n            svgPathBuilder.generateStr();\n            elExt.__svgPathVersion = pathVersion;\n            elExt.__svgPathStrokePercent = strokePercent;\n        }\n        attrs.d = svgPathBuilder.getStr();\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    scope.emphasis && createCSSEmphasis(el, attrs, scope);\n    return createVNode(svgElType, el.id + '', attrs);\n}\nexport function brushSVGImage(el, scope) {\n    var style = el.style;\n    var image = style.image;\n    if (image && !isString(image)) {\n        if (isImageLike(image)) {\n            image = image.src;\n        }\n        else if (isCanvasLike(image)) {\n            image = image.toDataURL();\n        }\n    }\n    if (!image) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var attrs = {\n        href: image,\n        width: dw,\n        height: dh\n    };\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('image', el.id + '', attrs);\n}\n;\nexport function brushSVGTSpan(el, scope) {\n    var style = el.style;\n    var text = style.text;\n    text != null && (text += '');\n    if (!text || isNaN(style.x) || isNaN(style.y)) {\n        return;\n    }\n    var font = style.font || DEFAULT_FONT;\n    var x = style.x || 0;\n    var y = adjustTextY(style.y || 0, getLineHeight(font), style.textBaseline);\n    var textAlign = TEXT_ALIGN_TO_ANCHOR[style.textAlign]\n        || style.textAlign;\n    var attrs = {\n        'dominant-baseline': 'central',\n        'text-anchor': textAlign\n    };\n    if (hasSeparateFont(style)) {\n        var separatedFontStr = '';\n        var fontStyle = style.fontStyle;\n        var fontSize = parseFontSize(style.fontSize);\n        if (!parseFloat(fontSize)) {\n            return;\n        }\n        var fontFamily = style.fontFamily || DEFAULT_FONT_FAMILY;\n        var fontWeight = style.fontWeight;\n        separatedFontStr += \"font-size:\" + fontSize + \";font-family:\" + fontFamily + \";\";\n        if (fontStyle && fontStyle !== 'normal') {\n            separatedFontStr += \"font-style:\" + fontStyle + \";\";\n        }\n        if (fontWeight && fontWeight !== 'normal') {\n            separatedFontStr += \"font-weight:\" + fontWeight + \";\";\n        }\n        attrs.style = separatedFontStr;\n    }\n    else {\n        attrs.style = \"font: \" + font;\n    }\n    if (text.match(/\\s/)) {\n        attrs['xml:space'] = 'preserve';\n    }\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('text', el.id + '', attrs, undefined, text);\n}\nexport function brush(el, scope) {\n    if (el instanceof Path) {\n        return brushSVGPath(el, scope);\n    }\n    else if (el instanceof ZRImage) {\n        return brushSVGImage(el, scope);\n    }\n    else if (el instanceof TSpan) {\n        return brushSVGTSpan(el, scope);\n    }\n}\nfunction setShadow(el, attrs, scope) {\n    var style = el.style;\n    if (hasShadow(style)) {\n        var shadowKey = getShadowKey(el);\n        var shadowCache = scope.shadowCache;\n        var shadowId = shadowCache[shadowKey];\n        if (!shadowId) {\n            var globalScale = el.getGlobalScale();\n            var scaleX = globalScale[0];\n            var scaleY = globalScale[1];\n            if (!scaleX || !scaleY) {\n                return;\n            }\n            var offsetX = style.shadowOffsetX || 0;\n            var offsetY = style.shadowOffsetY || 0;\n            var blur_1 = style.shadowBlur;\n            var _a = normalizeColor(style.shadowColor), opacity = _a.opacity, color = _a.color;\n            var stdDx = blur_1 / 2 / scaleX;\n            var stdDy = blur_1 / 2 / scaleY;\n            var stdDeviation = stdDx + ' ' + stdDy;\n            shadowId = scope.zrId + '-s' + scope.shadowIdx++;\n            scope.defs[shadowId] = createVNode('filter', shadowId, {\n                'id': shadowId,\n                'x': '-100%',\n                'y': '-100%',\n                'width': '300%',\n                'height': '300%'\n            }, [\n                createVNode('feDropShadow', '', {\n                    'dx': offsetX / scaleX,\n                    'dy': offsetY / scaleY,\n                    'stdDeviation': stdDeviation,\n                    'flood-color': color,\n                    'flood-opacity': opacity\n                })\n            ]);\n            shadowCache[shadowKey] = shadowId;\n        }\n        attrs.filter = getIdURL(shadowId);\n    }\n}\nexport function setGradient(style, attrs, target, scope) {\n    var val = style[target];\n    var gradientTag;\n    var gradientAttrs = {\n        'gradientUnits': val.global\n            ? 'userSpaceOnUse'\n            : 'objectBoundingBox'\n    };\n    if (isLinearGradient(val)) {\n        gradientTag = 'linearGradient';\n        gradientAttrs.x1 = val.x;\n        gradientAttrs.y1 = val.y;\n        gradientAttrs.x2 = val.x2;\n        gradientAttrs.y2 = val.y2;\n    }\n    else if (isRadialGradient(val)) {\n        gradientTag = 'radialGradient';\n        gradientAttrs.cx = retrieve2(val.x, 0.5);\n        gradientAttrs.cy = retrieve2(val.y, 0.5);\n        gradientAttrs.r = retrieve2(val.r, 0.5);\n    }\n    else {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Illegal gradient type.');\n        }\n        return;\n    }\n    var colors = val.colorStops;\n    var colorStops = [];\n    for (var i = 0, len = colors.length; i < len; ++i) {\n        var offset = round4(colors[i].offset) * 100 + '%';\n        var stopColor = colors[i].color;\n        var _a = normalizeColor(stopColor), color = _a.color, opacity = _a.opacity;\n        var stopsAttrs = {\n            'offset': offset\n        };\n        stopsAttrs['stop-color'] = color;\n        if (opacity < 1) {\n            stopsAttrs['stop-opacity'] = opacity;\n        }\n        colorStops.push(createVNode('stop', i + '', stopsAttrs));\n    }\n    var gradientVNode = createVNode(gradientTag, '', gradientAttrs, colorStops);\n    var gradientKey = vNodeToString(gradientVNode);\n    var gradientCache = scope.gradientCache;\n    var gradientId = gradientCache[gradientKey];\n    if (!gradientId) {\n        gradientId = scope.zrId + '-g' + scope.gradientIdx++;\n        gradientCache[gradientKey] = gradientId;\n        gradientAttrs.id = gradientId;\n        scope.defs[gradientId] = createVNode(gradientTag, gradientId, gradientAttrs, colorStops);\n    }\n    attrs[target] = getIdURL(gradientId);\n}\nexport function setPattern(el, attrs, target, scope) {\n    var val = el.style[target];\n    var boundingRect = el.getBoundingRect();\n    var patternAttrs = {};\n    var repeat = val.repeat;\n    var noRepeat = repeat === 'no-repeat';\n    var repeatX = repeat === 'repeat-x';\n    var repeatY = repeat === 'repeat-y';\n    var child;\n    if (isImagePattern(val)) {\n        var imageWidth_1 = val.imageWidth;\n        var imageHeight_1 = val.imageHeight;\n        var imageSrc = void 0;\n        var patternImage = val.image;\n        if (isString(patternImage)) {\n            imageSrc = patternImage;\n        }\n        else if (isImageLike(patternImage)) {\n            imageSrc = patternImage.src;\n        }\n        else if (isCanvasLike(patternImage)) {\n            imageSrc = patternImage.toDataURL();\n        }\n        if (typeof Image === 'undefined') {\n            var errMsg = 'Image width/height must been given explictly in svg-ssr renderer.';\n            assert(imageWidth_1, errMsg);\n            assert(imageHeight_1, errMsg);\n        }\n        else if (imageWidth_1 == null || imageHeight_1 == null) {\n            var setSizeToVNode_1 = function (vNode, img) {\n                if (vNode) {\n                    var svgEl = vNode.elm;\n                    var width = imageWidth_1 || img.width;\n                    var height = imageHeight_1 || img.height;\n                    if (vNode.tag === 'pattern') {\n                        if (repeatX) {\n                            height = 1;\n                            width /= boundingRect.width;\n                        }\n                        else if (repeatY) {\n                            width = 1;\n                            height /= boundingRect.height;\n                        }\n                    }\n                    vNode.attrs.width = width;\n                    vNode.attrs.height = height;\n                    if (svgEl) {\n                        svgEl.setAttribute('width', width);\n                        svgEl.setAttribute('height', height);\n                    }\n                }\n            };\n            var createdImage = createOrUpdateImage(imageSrc, null, el, function (img) {\n                noRepeat || setSizeToVNode_1(patternVNode, img);\n                setSizeToVNode_1(child, img);\n            });\n            if (createdImage && createdImage.width && createdImage.height) {\n                imageWidth_1 = imageWidth_1 || createdImage.width;\n                imageHeight_1 = imageHeight_1 || createdImage.height;\n            }\n        }\n        child = createVNode('image', 'img', {\n            href: imageSrc,\n            width: imageWidth_1,\n            height: imageHeight_1\n        });\n        patternAttrs.width = imageWidth_1;\n        patternAttrs.height = imageHeight_1;\n    }\n    else if (val.svgElement) {\n        child = clone(val.svgElement);\n        patternAttrs.width = val.svgWidth;\n        patternAttrs.height = val.svgHeight;\n    }\n    if (!child) {\n        return;\n    }\n    var patternWidth;\n    var patternHeight;\n    if (noRepeat) {\n        patternWidth = patternHeight = 1;\n    }\n    else if (repeatX) {\n        patternHeight = 1;\n        patternWidth = patternAttrs.width / boundingRect.width;\n    }\n    else if (repeatY) {\n        patternWidth = 1;\n        patternHeight = patternAttrs.height / boundingRect.height;\n    }\n    else {\n        patternAttrs.patternUnits = 'userSpaceOnUse';\n    }\n    if (patternWidth != null && !isNaN(patternWidth)) {\n        patternAttrs.width = patternWidth;\n    }\n    if (patternHeight != null && !isNaN(patternHeight)) {\n        patternAttrs.height = patternHeight;\n    }\n    var patternTransform = getSRTTransformString(val);\n    patternTransform && (patternAttrs.patternTransform = patternTransform);\n    var patternVNode = createVNode('pattern', '', patternAttrs, [child]);\n    var patternKey = vNodeToString(patternVNode);\n    var patternCache = scope.patternCache;\n    var patternId = patternCache[patternKey];\n    if (!patternId) {\n        patternId = scope.zrId + '-p' + scope.patternIdx++;\n        patternCache[patternKey] = patternId;\n        patternAttrs.id = patternId;\n        patternVNode = scope.defs[patternId] = createVNode('pattern', patternId, patternAttrs, [child]);\n    }\n    attrs[target] = getIdURL(patternId);\n}\nexport function setClipPath(clipPath, attrs, scope) {\n    var clipPathCache = scope.clipPathCache, defs = scope.defs;\n    var clipPathId = clipPathCache[clipPath.id];\n    if (!clipPathId) {\n        clipPathId = scope.zrId + '-c' + scope.clipPathIdx++;\n        var clipPathAttrs = {\n            id: clipPathId\n        };\n        clipPathCache[clipPath.id] = clipPathId;\n        defs[clipPathId] = createVNode('clipPath', clipPathId, clipPathAttrs, [brushSVGPath(clipPath, scope)]);\n    }\n    attrs['clip-path'] = getIdURL(clipPathId);\n}\n","export function createTextNode(text) {\n    return document.createTextNode(text);\n}\nexport function createComment(text) {\n    return document.createComment(text);\n}\nexport function insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nexport function removeChild(node, child) {\n    node.removeChild(child);\n}\nexport function appendChild(node, child) {\n    node.appendChild(child);\n}\nexport function parentNode(node) {\n    return node.parentNode;\n}\nexport function nextSibling(node) {\n    return node.nextSibling;\n}\nexport function tagName(elm) {\n    return elm.tagName;\n}\nexport function setTextContent(node, text) {\n    node.textContent = text;\n}\nexport function getTextContent(node) {\n    return node.textContent;\n}\nexport function isElement(node) {\n    return node.nodeType === 1;\n}\nexport function isText(node) {\n    return node.nodeType === 3;\n}\nexport function isComment(node) {\n    return node.nodeType === 8;\n}\n","import { isArray, isObject } from '../core/util.js';\nimport { createElement, createVNode, XMLNS, XML_NAMESPACE, XLINKNS } from './core.js';\nimport * as api from './domapi.js';\nvar colonChar = 58;\nvar xChar = 120;\nvar emptyNode = createVNode('', '');\nfunction isUndef(s) {\n    return s === undefined;\n}\nfunction isDef(s) {\n    return s !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var map = {};\n    for (var i = beginIdx; i <= endIdx; ++i) {\n        var key = children[i].key;\n        if (key !== undefined) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (map[key] != null) {\n                    console.error(\"Duplicate key \" + key);\n                }\n            }\n            map[key] = i;\n        }\n    }\n    return map;\n}\nfunction sameVnode(vnode1, vnode2) {\n    var isSameKey = vnode1.key === vnode2.key;\n    var isSameTag = vnode1.tag === vnode2.tag;\n    return isSameTag && isSameKey;\n}\nfunction createElm(vnode) {\n    var i;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n        var elm = (vnode.elm = createElement(tag));\n        updateAttrs(emptyNode, vnode);\n        if (isArray(children)) {\n            for (i = 0; i < children.length; ++i) {\n                var ch = children[i];\n                if (ch != null) {\n                    api.appendChild(elm, createElm(ch));\n                }\n            }\n        }\n        else if (isDef(vnode.text) && !isObject(vnode.text)) {\n            api.appendChild(elm, api.createTextNode(vnode.text));\n        }\n    }\n    else {\n        vnode.elm = api.createTextNode(vnode.text);\n    }\n    return vnode.elm;\n}\nfunction addVnodes(parentElm, before, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            api.insertBefore(parentElm, createElm(ch), before);\n        }\n    }\n}\nfunction removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            if (isDef(ch.tag)) {\n                var parent_1 = api.parentNode(ch.elm);\n                api.removeChild(parent_1, ch.elm);\n            }\n            else {\n                api.removeChild(parentElm, ch.elm);\n            }\n        }\n    }\n}\nexport function updateAttrs(oldVnode, vnode) {\n    var key;\n    var elm = vnode.elm;\n    var oldAttrs = oldVnode && oldVnode.attrs || {};\n    var attrs = vnode.attrs || {};\n    if (oldAttrs === attrs) {\n        return;\n    }\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, '');\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key === 'style') {\n                    elm.style.cssText = cur;\n                }\n                else if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key === 'xmlns:xlink' || key === 'xmlns') {\n                    elm.setAttributeNS(XMLNS, key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    elm.setAttributeNS(XML_NAMESPACE, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    elm.setAttributeNS(XLINKNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nfunction updateChildren(parentElm, oldCh, newCh) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx;\n    var idxInOld;\n    var elmToMove;\n    var before;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            patchVnode(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            patchVnode(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            patchVnode(oldStartVnode, newEndVnode);\n            api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            patchVnode(oldEndVnode, newStartVnode);\n            api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (isUndef(oldKeyToIdx)) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (isUndef(idxInOld)) {\n                api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.tag !== newStartVnode.tag) {\n                    api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n                }\n                else {\n                    patchVnode(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx);\n        }\n        else {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n}\nfunction patchVnode(oldVnode, vnode) {\n    var elm = (vnode.elm = oldVnode.elm);\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (oldVnode === vnode) {\n        return;\n    }\n    updateAttrs(oldVnode, vnode);\n    if (isUndef(vnode.text)) {\n        if (isDef(oldCh) && isDef(ch)) {\n            if (oldCh !== ch) {\n                updateChildren(elm, oldCh, ch);\n            }\n        }\n        else if (isDef(ch)) {\n            if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n            addVnodes(elm, null, ch, 0, ch.length - 1);\n        }\n        else if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        else if (isDef(oldVnode.text)) {\n            api.setTextContent(elm, '');\n        }\n    }\n    else if (oldVnode.text !== vnode.text) {\n        if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        api.setTextContent(elm, vnode.text);\n    }\n}\nexport default function patch(oldVnode, vnode) {\n    if (sameVnode(oldVnode, vnode)) {\n        patchVnode(oldVnode, vnode);\n    }\n    else {\n        var elm = oldVnode.elm;\n        var parent_2 = api.parentNode(elm);\n        createElm(vnode);\n        if (parent_2 !== null) {\n            api.insertBefore(parent_2, vnode.elm, api.nextSibling(elm));\n            removeVnodes(parent_2, [oldVnode], 0, 0);\n        }\n    }\n    return vnode;\n}\n","import { brush, setClipPath, setGradient, setPattern } from './graphic.js';\nimport { createElement, createVNode, vNodeToString, getCssString, createBrushScope, createSVGVNode } from './core.js';\nimport { normalizeColor, encodeBase64, isGradient, isPattern } from './helper.js';\nimport { extend, keys, logError, map, noop, retrieve2 } from '../core/util.js';\nimport patch, { updateAttrs } from './patch.js';\nimport { getSize } from '../canvas/helper.js';\nvar svgId = 0;\nvar SVGPainter = (function () {\n    function SVGPainter(root, storage, opts) {\n        this.type = 'svg';\n        this.refreshHover = createMethodNotSupport('refreshHover');\n        this.configLayer = createMethodNotSupport('configLayer');\n        this.storage = storage;\n        this._opts = opts = extend({}, opts);\n        this.root = root;\n        this._id = 'zr' + svgId++;\n        this._oldVNode = createSVGVNode(opts.width, opts.height);\n        if (root && !opts.ssr) {\n            var viewport = this._viewport = document.createElement('div');\n            viewport.style.cssText = 'position:relative;overflow:hidden';\n            var svgDom = this._svgDom = this._oldVNode.elm = createElement('svg');\n            updateAttrs(null, this._oldVNode);\n            viewport.appendChild(svgDom);\n            root.appendChild(viewport);\n        }\n        this.resize(opts.width, opts.height);\n    }\n    SVGPainter.prototype.getType = function () {\n        return this.type;\n    };\n    SVGPainter.prototype.getViewportRoot = function () {\n        return this._viewport;\n    };\n    SVGPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    SVGPainter.prototype.getSvgDom = function () {\n        return this._svgDom;\n    };\n    SVGPainter.prototype.refresh = function () {\n        if (this.root) {\n            var vnode = this.renderToVNode({\n                willUpdate: true\n            });\n            vnode.attrs.style = 'position:absolute;left:0;top:0;user-select:none';\n            patch(this._oldVNode, vnode);\n            this._oldVNode = vnode;\n        }\n    };\n    SVGPainter.prototype.renderOneToVNode = function (el) {\n        return brush(el, createBrushScope(this._id));\n    };\n    SVGPainter.prototype.renderToVNode = function (opts) {\n        opts = opts || {};\n        var list = this.storage.getDisplayList(true);\n        var width = this._width;\n        var height = this._height;\n        var scope = createBrushScope(this._id);\n        scope.animation = opts.animation;\n        scope.willUpdate = opts.willUpdate;\n        scope.compress = opts.compress;\n        scope.emphasis = opts.emphasis;\n        scope.ssr = this._opts.ssr;\n        var children = [];\n        var bgVNode = this._bgVNode = createBackgroundVNode(width, height, this._backgroundColor, scope);\n        bgVNode && children.push(bgVNode);\n        var mainVNode = !opts.compress\n            ? (this._mainVNode = createVNode('g', 'main', {}, [])) : null;\n        this._paintList(list, scope, mainVNode ? mainVNode.children : children);\n        mainVNode && children.push(mainVNode);\n        var defs = map(keys(scope.defs), function (id) { return scope.defs[id]; });\n        if (defs.length) {\n            children.push(createVNode('defs', 'defs', {}, defs));\n        }\n        if (opts.animation) {\n            var animationCssStr = getCssString(scope.cssNodes, scope.cssAnims, { newline: true });\n            if (animationCssStr) {\n                var styleNode = createVNode('style', 'stl', {}, [], animationCssStr);\n                children.push(styleNode);\n            }\n        }\n        return createSVGVNode(width, height, children, opts.useViewBox);\n    };\n    SVGPainter.prototype.renderToString = function (opts) {\n        opts = opts || {};\n        return vNodeToString(this.renderToVNode({\n            animation: retrieve2(opts.cssAnimation, true),\n            emphasis: retrieve2(opts.cssEmphasis, true),\n            willUpdate: false,\n            compress: true,\n            useViewBox: retrieve2(opts.useViewBox, true)\n        }), { newline: true });\n    };\n    SVGPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n    };\n    SVGPainter.prototype.getSvgRoot = function () {\n        return this._mainVNode && this._mainVNode.elm;\n    };\n    SVGPainter.prototype._paintList = function (list, scope, out) {\n        var listLen = list.length;\n        var clipPathsGroupsStack = [];\n        var clipPathsGroupsStackDepth = 0;\n        var currentClipPathGroup;\n        var prevClipPaths;\n        var clipGroupNodeIdx = 0;\n        for (var i = 0; i < listLen; i++) {\n            var displayable = list[i];\n            if (!displayable.invisible) {\n                var clipPaths = displayable.__clipPaths;\n                var len = clipPaths && clipPaths.length || 0;\n                var prevLen = prevClipPaths && prevClipPaths.length || 0;\n                var lca = void 0;\n                for (lca = Math.max(len - 1, prevLen - 1); lca >= 0; lca--) {\n                    if (clipPaths && prevClipPaths\n                        && clipPaths[lca] === prevClipPaths[lca]) {\n                        break;\n                    }\n                }\n                for (var i_1 = prevLen - 1; i_1 > lca; i_1--) {\n                    clipPathsGroupsStackDepth--;\n                    currentClipPathGroup = clipPathsGroupsStack[clipPathsGroupsStackDepth - 1];\n                }\n                for (var i_2 = lca + 1; i_2 < len; i_2++) {\n                    var groupAttrs = {};\n                    setClipPath(clipPaths[i_2], groupAttrs, scope);\n                    var g = createVNode('g', 'clip-g-' + clipGroupNodeIdx++, groupAttrs, []);\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(g);\n                    clipPathsGroupsStack[clipPathsGroupsStackDepth++] = g;\n                    currentClipPathGroup = g;\n                }\n                prevClipPaths = clipPaths;\n                var ret = brush(displayable, scope);\n                if (ret) {\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(ret);\n                }\n            }\n        }\n    };\n    SVGPainter.prototype.resize = function (width, height) {\n        var opts = this._opts;\n        var root = this.root;\n        var viewport = this._viewport;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        if (root && viewport) {\n            viewport.style.display = 'none';\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            viewport.style.display = '';\n        }\n        if (this._width !== width || this._height !== height) {\n            this._width = width;\n            this._height = height;\n            if (viewport) {\n                var viewportStyle = viewport.style;\n                viewportStyle.width = width + 'px';\n                viewportStyle.height = height + 'px';\n            }\n            if (!isPattern(this._backgroundColor)) {\n                var svgDom = this._svgDom;\n                if (svgDom) {\n                    svgDom.setAttribute('width', width);\n                    svgDom.setAttribute('height', height);\n                }\n                var bgEl = this._bgVNode && this._bgVNode.elm;\n                if (bgEl) {\n                    bgEl.setAttribute('width', width);\n                    bgEl.setAttribute('height', height);\n                }\n            }\n            else {\n                this.refresh();\n            }\n        }\n    };\n    SVGPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    SVGPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    SVGPainter.prototype.dispose = function () {\n        if (this.root) {\n            this.root.innerHTML = '';\n        }\n        this._svgDom =\n            this._viewport =\n                this.storage =\n                    this._oldVNode =\n                        this._bgVNode =\n                            this._mainVNode = null;\n    };\n    SVGPainter.prototype.clear = function () {\n        if (this._svgDom) {\n            this._svgDom.innerHTML = null;\n        }\n        this._oldVNode = null;\n    };\n    SVGPainter.prototype.toDataURL = function (base64) {\n        var str = this.renderToString();\n        var prefix = 'data:image/svg+xml;';\n        if (base64) {\n            str = encodeBase64(str);\n            return str && prefix + 'base64,' + str;\n        }\n        return prefix + 'charset=UTF-8,' + encodeURIComponent(str);\n    };\n    return SVGPainter;\n}());\nfunction createMethodNotSupport(method) {\n    return function () {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('In SVG mode painter not support method \"' + method + '\"');\n        }\n    };\n}\nfunction createBackgroundVNode(width, height, backgroundColor, scope) {\n    var bgVNode;\n    if (backgroundColor && backgroundColor !== 'none') {\n        bgVNode = createVNode('rect', 'bg', {\n            width: width,\n            height: height,\n            x: '0',\n            y: '0'\n        });\n        if (isGradient(backgroundColor)) {\n            setGradient({ fill: backgroundColor }, bgVNode.attrs, 'fill', scope);\n        }\n        else if (isPattern(backgroundColor)) {\n            setPattern({\n                style: {\n                    fill: backgroundColor\n                },\n                dirty: noop,\n                getBoundingRect: function () { return ({ width: width, height: height }); }\n            }, bgVNode.attrs, 'fill', scope);\n        }\n        else {\n            var _a = normalizeColor(backgroundColor), color = _a.color, opacity = _a.opacity;\n            bgVNode.attrs.fill = color;\n            opacity < 1 && (bgVNode.attrs['fill-opacity'] = opacity);\n        }\n    }\n    return bgVNode;\n}\nexport default SVGPainter;\n","import { __extends } from \"tslib\";\nimport * as util from '../core/util.js';\nimport { devicePixelRatio } from '../config.js';\nimport Eventful from '../core/Eventful.js';\nimport { getCanvasGradient } from './helper.js';\nimport { createCanvasPattern } from './graphic.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { REDRAW_BIT } from '../graphic/constants.js';\nimport { platformApi } from '../core/platform.js';\nfunction createDom(id, painter, dpr) {\n    var newDom = platformApi.createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n    var newDomStyle = newDom.style;\n    if (newDomStyle) {\n        newDomStyle.position = 'absolute';\n        newDomStyle.left = '0';\n        newDomStyle.top = '0';\n        newDomStyle.width = width + 'px';\n        newDomStyle.height = height + 'px';\n        newDom.setAttribute('data-zr-dom-id', id);\n    }\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n    return newDom;\n}\n;\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, painter, dpr) {\n        var _this = _super.call(this) || this;\n        _this.motionBlur = false;\n        _this.lastFrameAlpha = 0.7;\n        _this.dpr = 1;\n        _this.virtual = false;\n        _this.config = {};\n        _this.incremental = false;\n        _this.zlevel = 0;\n        _this.maxRepaintRectCount = 5;\n        _this.__dirty = true;\n        _this.__firstTimePaint = true;\n        _this.__used = false;\n        _this.__drawIndex = 0;\n        _this.__startIndex = 0;\n        _this.__endIndex = 0;\n        _this.__prevStartIndex = null;\n        _this.__prevEndIndex = null;\n        var dom;\n        dpr = dpr || devicePixelRatio;\n        if (typeof id === 'string') {\n            dom = createDom(id, painter, dpr);\n        }\n        else if (util.isObject(id)) {\n            dom = id;\n            id = dom.id;\n        }\n        _this.id = id;\n        _this.dom = dom;\n        var domStyle = dom.style;\n        if (domStyle) {\n            util.disableUserSelect(dom);\n            dom.onselectstart = function () { return false; };\n            domStyle.padding = '0';\n            domStyle.margin = '0';\n            domStyle.borderWidth = '0';\n        }\n        _this.painter = painter;\n        _this.dpr = dpr;\n        return _this;\n    }\n    Layer.prototype.getElementCount = function () {\n        return this.__endIndex - this.__startIndex;\n    };\n    Layer.prototype.afterBrush = function () {\n        this.__prevStartIndex = this.__startIndex;\n        this.__prevEndIndex = this.__endIndex;\n    };\n    Layer.prototype.initContext = function () {\n        this.ctx = this.dom.getContext('2d');\n        this.ctx.dpr = this.dpr;\n    };\n    Layer.prototype.setUnpainted = function () {\n        this.__firstTimePaint = true;\n    };\n    Layer.prototype.createBackBuffer = function () {\n        var dpr = this.dpr;\n        this.domBack = createDom('back-' + this.id, this.painter, dpr);\n        this.ctxBack = this.domBack.getContext('2d');\n        if (dpr !== 1) {\n            this.ctxBack.scale(dpr, dpr);\n        }\n    };\n    Layer.prototype.createRepaintRects = function (displayList, prevList, viewWidth, viewHeight) {\n        if (this.__firstTimePaint) {\n            this.__firstTimePaint = false;\n            return null;\n        }\n        var mergedRepaintRects = [];\n        var maxRepaintRectCount = this.maxRepaintRectCount;\n        var full = false;\n        var pendingRect = new BoundingRect(0, 0, 0, 0);\n        function addRectToMergePool(rect) {\n            if (!rect.isFinite() || rect.isZero()) {\n                return;\n            }\n            if (mergedRepaintRects.length === 0) {\n                var boundingRect = new BoundingRect(0, 0, 0, 0);\n                boundingRect.copy(rect);\n                mergedRepaintRects.push(boundingRect);\n            }\n            else {\n                var isMerged = false;\n                var minDeltaArea = Infinity;\n                var bestRectToMergeIdx = 0;\n                for (var i = 0; i < mergedRepaintRects.length; ++i) {\n                    var mergedRect = mergedRepaintRects[i];\n                    if (mergedRect.intersect(rect)) {\n                        var pendingRect_1 = new BoundingRect(0, 0, 0, 0);\n                        pendingRect_1.copy(mergedRect);\n                        pendingRect_1.union(rect);\n                        mergedRepaintRects[i] = pendingRect_1;\n                        isMerged = true;\n                        break;\n                    }\n                    else if (full) {\n                        pendingRect.copy(rect);\n                        pendingRect.union(mergedRect);\n                        var aArea = rect.width * rect.height;\n                        var bArea = mergedRect.width * mergedRect.height;\n                        var pendingArea = pendingRect.width * pendingRect.height;\n                        var deltaArea = pendingArea - aArea - bArea;\n                        if (deltaArea < minDeltaArea) {\n                            minDeltaArea = deltaArea;\n                            bestRectToMergeIdx = i;\n                        }\n                    }\n                }\n                if (full) {\n                    mergedRepaintRects[bestRectToMergeIdx].union(rect);\n                    isMerged = true;\n                }\n                if (!isMerged) {\n                    var boundingRect = new BoundingRect(0, 0, 0, 0);\n                    boundingRect.copy(rect);\n                    mergedRepaintRects.push(boundingRect);\n                }\n                if (!full) {\n                    full = mergedRepaintRects.length >= maxRepaintRectCount;\n                }\n            }\n        }\n        for (var i = this.__startIndex; i < this.__endIndex; ++i) {\n            var el = displayList[i];\n            if (el) {\n                var shouldPaint = el.shouldBePainted(viewWidth, viewHeight, true, true);\n                var prevRect = el.__isRendered && ((el.__dirty & REDRAW_BIT) || !shouldPaint)\n                    ? el.getPrevPaintRect()\n                    : null;\n                if (prevRect) {\n                    addRectToMergePool(prevRect);\n                }\n                var curRect = shouldPaint && ((el.__dirty & REDRAW_BIT) || !el.__isRendered)\n                    ? el.getPaintRect()\n                    : null;\n                if (curRect) {\n                    addRectToMergePool(curRect);\n                }\n            }\n        }\n        for (var i = this.__prevStartIndex; i < this.__prevEndIndex; ++i) {\n            var el = prevList[i];\n            var shouldPaint = el && el.shouldBePainted(viewWidth, viewHeight, true, true);\n            if (el && (!shouldPaint || !el.__zr) && el.__isRendered) {\n                var prevRect = el.getPrevPaintRect();\n                if (prevRect) {\n                    addRectToMergePool(prevRect);\n                }\n            }\n        }\n        var hasIntersections;\n        do {\n            hasIntersections = false;\n            for (var i = 0; i < mergedRepaintRects.length;) {\n                if (mergedRepaintRects[i].isZero()) {\n                    mergedRepaintRects.splice(i, 1);\n                    continue;\n                }\n                for (var j = i + 1; j < mergedRepaintRects.length;) {\n                    if (mergedRepaintRects[i].intersect(mergedRepaintRects[j])) {\n                        hasIntersections = true;\n                        mergedRepaintRects[i].union(mergedRepaintRects[j]);\n                        mergedRepaintRects.splice(j, 1);\n                    }\n                    else {\n                        j++;\n                    }\n                }\n                i++;\n            }\n        } while (hasIntersections);\n        this._paintRects = mergedRepaintRects;\n        return mergedRepaintRects;\n    };\n    Layer.prototype.debugGetPaintRects = function () {\n        return (this._paintRects || []).slice();\n    };\n    Layer.prototype.resize = function (width, height) {\n        var dpr = this.dpr;\n        var dom = this.dom;\n        var domStyle = dom.style;\n        var domBack = this.domBack;\n        if (domStyle) {\n            domStyle.width = width + 'px';\n            domStyle.height = height + 'px';\n        }\n        dom.width = width * dpr;\n        dom.height = height * dpr;\n        if (domBack) {\n            domBack.width = width * dpr;\n            domBack.height = height * dpr;\n            if (dpr !== 1) {\n                this.ctxBack.scale(dpr, dpr);\n            }\n        }\n    };\n    Layer.prototype.clear = function (clearAll, clearColor, repaintRects) {\n        var dom = this.dom;\n        var ctx = this.ctx;\n        var width = dom.width;\n        var height = dom.height;\n        clearColor = clearColor || this.clearColor;\n        var haveMotionBLur = this.motionBlur && !clearAll;\n        var lastFrameAlpha = this.lastFrameAlpha;\n        var dpr = this.dpr;\n        var self = this;\n        if (haveMotionBLur) {\n            if (!this.domBack) {\n                this.createBackBuffer();\n            }\n            this.ctxBack.globalCompositeOperation = 'copy';\n            this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n        }\n        var domBack = this.domBack;\n        function doClear(x, y, width, height) {\n            ctx.clearRect(x, y, width, height);\n            if (clearColor && clearColor !== 'transparent') {\n                var clearColorGradientOrPattern = void 0;\n                if (util.isGradientObject(clearColor)) {\n                    var shouldCache = clearColor.global || (clearColor.__width === width\n                        && clearColor.__height === height);\n                    clearColorGradientOrPattern = shouldCache\n                        && clearColor.__canvasGradient\n                        || getCanvasGradient(ctx, clearColor, {\n                            x: 0,\n                            y: 0,\n                            width: width,\n                            height: height\n                        });\n                    clearColor.__canvasGradient = clearColorGradientOrPattern;\n                    clearColor.__width = width;\n                    clearColor.__height = height;\n                }\n                else if (util.isImagePatternObject(clearColor)) {\n                    clearColor.scaleX = clearColor.scaleX || dpr;\n                    clearColor.scaleY = clearColor.scaleY || dpr;\n                    clearColorGradientOrPattern = createCanvasPattern(ctx, clearColor, {\n                        dirty: function () {\n                            self.setUnpainted();\n                            self.painter.refresh();\n                        }\n                    });\n                }\n                ctx.save();\n                ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n                ctx.fillRect(x, y, width, height);\n                ctx.restore();\n            }\n            if (haveMotionBLur) {\n                ctx.save();\n                ctx.globalAlpha = lastFrameAlpha;\n                ctx.drawImage(domBack, x, y, width, height);\n                ctx.restore();\n            }\n        }\n        ;\n        if (!repaintRects || haveMotionBLur) {\n            doClear(0, 0, width, height);\n        }\n        else if (repaintRects.length) {\n            util.each(repaintRects, function (rect) {\n                doClear(rect.x * dpr, rect.y * dpr, rect.width * dpr, rect.height * dpr);\n            });\n        }\n    };\n    return Layer;\n}(Eventful));\nexport default Layer;\n","import { devicePixelRatio } from '../config.js';\nimport * as util from '../core/util.js';\nimport Layer from './Layer.js';\nimport requestAnimationFrame from '../animation/requestAnimationFrame.js';\nimport env from '../core/env.js';\nimport { brush, brushSingle } from './graphic.js';\nimport { REDRAW_BIT } from '../graphic/constants.js';\nimport { getSize } from './helper.js';\nvar HOVER_LAYER_ZLEVEL = 1e5;\nvar CANVAS_ZLEVEL = 314159;\nvar EL_AFTER_INCREMENTAL_INC = 0.01;\nvar INCREMENTAL_INC = 0.001;\nfunction isLayerValid(layer) {\n    if (!layer) {\n        return false;\n    }\n    if (layer.__builtin__) {\n        return true;\n    }\n    if (typeof (layer.resize) !== 'function'\n        || typeof (layer.refresh) !== 'function') {\n        return false;\n    }\n    return true;\n}\nfunction createRoot(width, height) {\n    var domRoot = document.createElement('div');\n    domRoot.style.cssText = [\n        'position:relative',\n        'width:' + width + 'px',\n        'height:' + height + 'px',\n        'padding:0',\n        'margin:0',\n        'border-width:0'\n    ].join(';') + ';';\n    return domRoot;\n}\nvar CanvasPainter = (function () {\n    function CanvasPainter(root, storage, opts, id) {\n        this.type = 'canvas';\n        this._zlevelList = [];\n        this._prevDisplayList = [];\n        this._layers = {};\n        this._layerConfig = {};\n        this._needsManuallyCompositing = false;\n        this.type = 'canvas';\n        var singleCanvas = !root.nodeName\n            || root.nodeName.toUpperCase() === 'CANVAS';\n        this._opts = opts = util.extend({}, opts || {});\n        this.dpr = opts.devicePixelRatio || devicePixelRatio;\n        this._singleCanvas = singleCanvas;\n        this.root = root;\n        var rootStyle = root.style;\n        if (rootStyle) {\n            util.disableUserSelect(root);\n            root.innerHTML = '';\n        }\n        this.storage = storage;\n        var zlevelList = this._zlevelList;\n        this._prevDisplayList = [];\n        var layers = this._layers;\n        if (!singleCanvas) {\n            this._width = getSize(root, 0, opts);\n            this._height = getSize(root, 1, opts);\n            var domRoot = this._domRoot = createRoot(this._width, this._height);\n            root.appendChild(domRoot);\n        }\n        else {\n            var rootCanvas = root;\n            var width = rootCanvas.width;\n            var height = rootCanvas.height;\n            if (opts.width != null) {\n                width = opts.width;\n            }\n            if (opts.height != null) {\n                height = opts.height;\n            }\n            this.dpr = opts.devicePixelRatio || 1;\n            rootCanvas.width = width * this.dpr;\n            rootCanvas.height = height * this.dpr;\n            this._width = width;\n            this._height = height;\n            var mainLayer = new Layer(rootCanvas, this, this.dpr);\n            mainLayer.__builtin__ = true;\n            mainLayer.initContext();\n            layers[CANVAS_ZLEVEL] = mainLayer;\n            mainLayer.zlevel = CANVAS_ZLEVEL;\n            zlevelList.push(CANVAS_ZLEVEL);\n            this._domRoot = root;\n        }\n    }\n    CanvasPainter.prototype.getType = function () {\n        return 'canvas';\n    };\n    CanvasPainter.prototype.isSingleCanvas = function () {\n        return this._singleCanvas;\n    };\n    CanvasPainter.prototype.getViewportRoot = function () {\n        return this._domRoot;\n    };\n    CanvasPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    CanvasPainter.prototype.refresh = function (paintAll) {\n        var list = this.storage.getDisplayList(true);\n        var prevList = this._prevDisplayList;\n        var zlevelList = this._zlevelList;\n        this._redrawId = Math.random();\n        this._paintList(list, prevList, paintAll, this._redrawId);\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__ && layer.refresh) {\n                var clearColor = i === 0 ? this._backgroundColor : null;\n                layer.refresh(clearColor);\n            }\n        }\n        if (this._opts.useDirtyRect) {\n            this._prevDisplayList = list.slice();\n        }\n        return this;\n    };\n    CanvasPainter.prototype.refreshHover = function () {\n        this._paintHoverList(this.storage.getDisplayList(false));\n    };\n    CanvasPainter.prototype._paintHoverList = function (list) {\n        var len = list.length;\n        var hoverLayer = this._hoverlayer;\n        hoverLayer && hoverLayer.clear();\n        if (!len) {\n            return;\n        }\n        var scope = {\n            inHover: true,\n            viewWidth: this._width,\n            viewHeight: this._height\n        };\n        var ctx;\n        for (var i = 0; i < len; i++) {\n            var el = list[i];\n            if (el.__inHover) {\n                if (!hoverLayer) {\n                    hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n                }\n                if (!ctx) {\n                    ctx = hoverLayer.ctx;\n                    ctx.save();\n                }\n                brush(ctx, el, scope, i === len - 1);\n            }\n        }\n        if (ctx) {\n            ctx.restore();\n        }\n    };\n    CanvasPainter.prototype.getHoverLayer = function () {\n        return this.getLayer(HOVER_LAYER_ZLEVEL);\n    };\n    CanvasPainter.prototype.paintOne = function (ctx, el) {\n        brushSingle(ctx, el);\n    };\n    CanvasPainter.prototype._paintList = function (list, prevList, paintAll, redrawId) {\n        if (this._redrawId !== redrawId) {\n            return;\n        }\n        paintAll = paintAll || false;\n        this._updateLayerStatus(list);\n        var _a = this._doPaintList(list, prevList, paintAll), finished = _a.finished, needsRefreshHover = _a.needsRefreshHover;\n        if (this._needsManuallyCompositing) {\n            this._compositeManually();\n        }\n        if (needsRefreshHover) {\n            this._paintHoverList(list);\n        }\n        if (!finished) {\n            var self_1 = this;\n            requestAnimationFrame(function () {\n                self_1._paintList(list, prevList, paintAll, redrawId);\n            });\n        }\n        else {\n            this.eachLayer(function (layer) {\n                layer.afterBrush && layer.afterBrush();\n            });\n        }\n    };\n    CanvasPainter.prototype._compositeManually = function () {\n        var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n        var width = this._domRoot.width;\n        var height = this._domRoot.height;\n        ctx.clearRect(0, 0, width, height);\n        this.eachBuiltinLayer(function (layer) {\n            if (layer.virtual) {\n                ctx.drawImage(layer.dom, 0, 0, width, height);\n            }\n        });\n    };\n    CanvasPainter.prototype._doPaintList = function (list, prevList, paintAll) {\n        var _this = this;\n        var layerList = [];\n        var useDirtyRect = this._opts.useDirtyRect;\n        for (var zi = 0; zi < this._zlevelList.length; zi++) {\n            var zlevel = this._zlevelList[zi];\n            var layer = this._layers[zlevel];\n            if (layer.__builtin__\n                && layer !== this._hoverlayer\n                && (layer.__dirty || paintAll)) {\n                layerList.push(layer);\n            }\n        }\n        var finished = true;\n        var needsRefreshHover = false;\n        var _loop_1 = function (k) {\n            var layer = layerList[k];\n            var ctx = layer.ctx;\n            var repaintRects = useDirtyRect\n                && layer.createRepaintRects(list, prevList, this_1._width, this_1._height);\n            var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n            var useTimer = !paintAll && layer.incremental && Date.now;\n            var startTime = useTimer && Date.now();\n            var clearColor = layer.zlevel === this_1._zlevelList[0]\n                ? this_1._backgroundColor : null;\n            if (layer.__startIndex === layer.__endIndex) {\n                layer.clear(false, clearColor, repaintRects);\n            }\n            else if (start === layer.__startIndex) {\n                var firstEl = list[start];\n                if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n                    layer.clear(false, clearColor, repaintRects);\n                }\n            }\n            if (start === -1) {\n                console.error('For some unknown reason. drawIndex is -1');\n                start = layer.__startIndex;\n            }\n            var i;\n            var repaint = function (repaintRect) {\n                var scope = {\n                    inHover: false,\n                    allClipped: false,\n                    prevEl: null,\n                    viewWidth: _this._width,\n                    viewHeight: _this._height\n                };\n                for (i = start; i < layer.__endIndex; i++) {\n                    var el = list[i];\n                    if (el.__inHover) {\n                        needsRefreshHover = true;\n                    }\n                    _this._doPaintEl(el, layer, useDirtyRect, repaintRect, scope, i === layer.__endIndex - 1);\n                    if (useTimer) {\n                        var dTime = Date.now() - startTime;\n                        if (dTime > 15) {\n                            break;\n                        }\n                    }\n                }\n                if (scope.prevElClipPaths) {\n                    ctx.restore();\n                }\n            };\n            if (repaintRects) {\n                if (repaintRects.length === 0) {\n                    i = layer.__endIndex;\n                }\n                else {\n                    var dpr = this_1.dpr;\n                    for (var r = 0; r < repaintRects.length; ++r) {\n                        var rect = repaintRects[r];\n                        ctx.save();\n                        ctx.beginPath();\n                        ctx.rect(rect.x * dpr, rect.y * dpr, rect.width * dpr, rect.height * dpr);\n                        ctx.clip();\n                        repaint(rect);\n                        ctx.restore();\n                    }\n                }\n            }\n            else {\n                ctx.save();\n                repaint();\n                ctx.restore();\n            }\n            layer.__drawIndex = i;\n            if (layer.__drawIndex < layer.__endIndex) {\n                finished = false;\n            }\n        };\n        var this_1 = this;\n        for (var k = 0; k < layerList.length; k++) {\n            _loop_1(k);\n        }\n        if (env.wxa) {\n            util.each(this._layers, function (layer) {\n                if (layer && layer.ctx && layer.ctx.draw) {\n                    layer.ctx.draw();\n                }\n            });\n        }\n        return {\n            finished: finished,\n            needsRefreshHover: needsRefreshHover\n        };\n    };\n    CanvasPainter.prototype._doPaintEl = function (el, currentLayer, useDirtyRect, repaintRect, scope, isLast) {\n        var ctx = currentLayer.ctx;\n        if (useDirtyRect) {\n            var paintRect = el.getPaintRect();\n            if (!repaintRect || paintRect && paintRect.intersect(repaintRect)) {\n                brush(ctx, el, scope, isLast);\n                el.setPrevPaintRect(paintRect);\n            }\n        }\n        else {\n            brush(ctx, el, scope, isLast);\n        }\n    };\n    CanvasPainter.prototype.getLayer = function (zlevel, virtual) {\n        if (this._singleCanvas && !this._needsManuallyCompositing) {\n            zlevel = CANVAS_ZLEVEL;\n        }\n        var layer = this._layers[zlevel];\n        if (!layer) {\n            layer = new Layer('zr_' + zlevel, this, this.dpr);\n            layer.zlevel = zlevel;\n            layer.__builtin__ = true;\n            if (this._layerConfig[zlevel]) {\n                util.merge(layer, this._layerConfig[zlevel], true);\n            }\n            else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n                util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n            }\n            if (virtual) {\n                layer.virtual = virtual;\n            }\n            this.insertLayer(zlevel, layer);\n            layer.initContext();\n        }\n        return layer;\n    };\n    CanvasPainter.prototype.insertLayer = function (zlevel, layer) {\n        var layersMap = this._layers;\n        var zlevelList = this._zlevelList;\n        var len = zlevelList.length;\n        var domRoot = this._domRoot;\n        var prevLayer = null;\n        var i = -1;\n        if (layersMap[zlevel]) {\n            if (process.env.NODE_ENV !== 'production') {\n                util.logError('ZLevel ' + zlevel + ' has been used already');\n            }\n            return;\n        }\n        if (!isLayerValid(layer)) {\n            if (process.env.NODE_ENV !== 'production') {\n                util.logError('Layer of zlevel ' + zlevel + ' is not valid');\n            }\n            return;\n        }\n        if (len > 0 && zlevel > zlevelList[0]) {\n            for (i = 0; i < len - 1; i++) {\n                if (zlevelList[i] < zlevel\n                    && zlevelList[i + 1] > zlevel) {\n                    break;\n                }\n            }\n            prevLayer = layersMap[zlevelList[i]];\n        }\n        zlevelList.splice(i + 1, 0, zlevel);\n        layersMap[zlevel] = layer;\n        if (!layer.virtual) {\n            if (prevLayer) {\n                var prevDom = prevLayer.dom;\n                if (prevDom.nextSibling) {\n                    domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n            else {\n                if (domRoot.firstChild) {\n                    domRoot.insertBefore(layer.dom, domRoot.firstChild);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n        }\n        layer.painter || (layer.painter = this);\n    };\n    CanvasPainter.prototype.eachLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            cb.call(context, this._layers[z], z);\n        }\n    };\n    CanvasPainter.prototype.eachBuiltinLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    };\n    CanvasPainter.prototype.eachOtherLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    };\n    CanvasPainter.prototype.getLayers = function () {\n        return this._layers;\n    };\n    CanvasPainter.prototype._updateLayerStatus = function (list) {\n        this.eachBuiltinLayer(function (layer, z) {\n            layer.__dirty = layer.__used = false;\n        });\n        function updatePrevLayer(idx) {\n            if (prevLayer) {\n                if (prevLayer.__endIndex !== idx) {\n                    prevLayer.__dirty = true;\n                }\n                prevLayer.__endIndex = idx;\n            }\n        }\n        if (this._singleCanvas) {\n            for (var i_1 = 1; i_1 < list.length; i_1++) {\n                var el = list[i_1];\n                if (el.zlevel !== list[i_1 - 1].zlevel || el.incremental) {\n                    this._needsManuallyCompositing = true;\n                    break;\n                }\n            }\n        }\n        var prevLayer = null;\n        var incrementalLayerCount = 0;\n        var prevZlevel;\n        var i;\n        for (i = 0; i < list.length; i++) {\n            var el = list[i];\n            var zlevel = el.zlevel;\n            var layer = void 0;\n            if (prevZlevel !== zlevel) {\n                prevZlevel = zlevel;\n                incrementalLayerCount = 0;\n            }\n            if (el.incremental) {\n                layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n                layer.incremental = true;\n                incrementalLayerCount = 1;\n            }\n            else {\n                layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n            }\n            if (!layer.__builtin__) {\n                util.logError('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n            }\n            if (layer !== prevLayer) {\n                layer.__used = true;\n                if (layer.__startIndex !== i) {\n                    layer.__dirty = true;\n                }\n                layer.__startIndex = i;\n                if (!layer.incremental) {\n                    layer.__drawIndex = i;\n                }\n                else {\n                    layer.__drawIndex = -1;\n                }\n                updatePrevLayer(i);\n                prevLayer = layer;\n            }\n            if ((el.__dirty & REDRAW_BIT) && !el.__inHover) {\n                layer.__dirty = true;\n                if (layer.incremental && layer.__drawIndex < 0) {\n                    layer.__drawIndex = i;\n                }\n            }\n        }\n        updatePrevLayer(i);\n        this.eachBuiltinLayer(function (layer, z) {\n            if (!layer.__used && layer.getElementCount() > 0) {\n                layer.__dirty = true;\n                layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n            }\n            if (layer.__dirty && layer.__drawIndex < 0) {\n                layer.__drawIndex = layer.__startIndex;\n            }\n        });\n    };\n    CanvasPainter.prototype.clear = function () {\n        this.eachBuiltinLayer(this._clearLayer);\n        return this;\n    };\n    CanvasPainter.prototype._clearLayer = function (layer) {\n        layer.clear();\n    };\n    CanvasPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n        util.each(this._layers, function (layer) {\n            layer.setUnpainted();\n        });\n    };\n    CanvasPainter.prototype.configLayer = function (zlevel, config) {\n        if (config) {\n            var layerConfig = this._layerConfig;\n            if (!layerConfig[zlevel]) {\n                layerConfig[zlevel] = config;\n            }\n            else {\n                util.merge(layerConfig[zlevel], config, true);\n            }\n            for (var i = 0; i < this._zlevelList.length; i++) {\n                var _zlevel = this._zlevelList[i];\n                if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n                    var layer = this._layers[_zlevel];\n                    util.merge(layer, layerConfig[zlevel], true);\n                }\n            }\n        }\n    };\n    CanvasPainter.prototype.delLayer = function (zlevel) {\n        var layers = this._layers;\n        var zlevelList = this._zlevelList;\n        var layer = layers[zlevel];\n        if (!layer) {\n            return;\n        }\n        layer.dom.parentNode.removeChild(layer.dom);\n        delete layers[zlevel];\n        zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n    };\n    CanvasPainter.prototype.resize = function (width, height) {\n        if (!this._domRoot.style) {\n            if (width == null || height == null) {\n                return;\n            }\n            this._width = width;\n            this._height = height;\n            this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n        }\n        else {\n            var domRoot = this._domRoot;\n            domRoot.style.display = 'none';\n            var opts = this._opts;\n            var root = this.root;\n            width != null && (opts.width = width);\n            height != null && (opts.height = height);\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            domRoot.style.display = '';\n            if (this._width !== width || height !== this._height) {\n                domRoot.style.width = width + 'px';\n                domRoot.style.height = height + 'px';\n                for (var id in this._layers) {\n                    if (this._layers.hasOwnProperty(id)) {\n                        this._layers[id].resize(width, height);\n                    }\n                }\n                this.refresh(true);\n            }\n            this._width = width;\n            this._height = height;\n        }\n        return this;\n    };\n    CanvasPainter.prototype.clearLayer = function (zlevel) {\n        var layer = this._layers[zlevel];\n        if (layer) {\n            layer.clear();\n        }\n    };\n    CanvasPainter.prototype.dispose = function () {\n        this.root.innerHTML = '';\n        this.root =\n            this.storage =\n                this._domRoot =\n                    this._layers = null;\n    };\n    CanvasPainter.prototype.getRenderedCanvas = function (opts) {\n        opts = opts || {};\n        if (this._singleCanvas && !this._compositeManually) {\n            return this._layers[CANVAS_ZLEVEL].dom;\n        }\n        var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n        imageLayer.initContext();\n        imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n        var ctx = imageLayer.ctx;\n        if (opts.pixelRatio <= this.dpr) {\n            this.refresh();\n            var width_1 = imageLayer.dom.width;\n            var height_1 = imageLayer.dom.height;\n            this.eachLayer(function (layer) {\n                if (layer.__builtin__) {\n                    ctx.drawImage(layer.dom, 0, 0, width_1, height_1);\n                }\n                else if (layer.renderToCanvas) {\n                    ctx.save();\n                    layer.renderToCanvas(ctx);\n                    ctx.restore();\n                }\n            });\n        }\n        else {\n            var scope = {\n                inHover: false,\n                viewWidth: this._width,\n                viewHeight: this._height\n            };\n            var displayList = this.storage.getDisplayList(true);\n            for (var i = 0, len = displayList.length; i < len; i++) {\n                var el = displayList[i];\n                brush(ctx, el, scope, i === len - 1);\n            }\n        }\n        return imageLayer.dom;\n    };\n    CanvasPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    CanvasPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    return CanvasPainter;\n}());\nexport default CanvasPainter;\n;\n","import { isString } from '../core/util.js';\nexport function parseXML(svg) {\n    if (isString(svg)) {\n        var parser = new DOMParser();\n        svg = parser.parseFromString(svg, 'text/xml');\n    }\n    var svgNode = svg;\n    if (svgNode.nodeType === 9) {\n        svgNode = svgNode.firstChild;\n    }\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\n        svgNode = svgNode.nextSibling;\n    }\n    return svgNode;\n}\n","import Group from '../graphic/Group.js';\nimport ZRImage from '../graphic/Image.js';\nimport Circle from '../graphic/shape/Circle.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Ellipse from '../graphic/shape/Ellipse.js';\nimport Line from '../graphic/shape/Line.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Polyline from '../graphic/shape/Polyline.js';\nimport * as matrix from '../core/matrix.js';\nimport { createFromString } from './path.js';\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util.js';\nimport LinearGradient from '../graphic/LinearGradient.js';\nimport RadialGradient from '../graphic/RadialGradient.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { parseXML } from './parseXML.js';\nimport * as colorTool from './color.js';\n;\nvar nodeParsers;\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-anchor': 'textAlign',\n    'visibility': 'visibility',\n    'display': 'display'\n};\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\nvar SELF_STYLE_ATTRIBUTES_MAP = {\n    'alignment-baseline': 'textBaseline',\n    'stop-color': 'stopColor'\n};\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\nvar SVGParser = (function () {\n    function SVGParser() {\n        this._defs = {};\n        this._root = null;\n    }\n    SVGParser.prototype.parse = function (xml, opt) {\n        opt = opt || {};\n        var svg = parseXML(xml);\n        if (process.env.NODE_ENV !== 'production') {\n            if (!svg) {\n                throw new Error('Illegal svg');\n            }\n        }\n        this._defsUsePending = [];\n        var root = new Group();\n        this._root = root;\n        var named = [];\n        var viewBox = svg.getAttribute('viewBox') || '';\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\n        isNaN(width) && (width = null);\n        isNaN(height) && (height = null);\n        parseAttributes(svg, root, null, true, false);\n        var child = svg.firstChild;\n        while (child) {\n            this._parseNode(child, root, named, null, false, false);\n            child = child.nextSibling;\n        }\n        applyDefs(this._defs, this._defsUsePending);\n        this._defsUsePending = [];\n        var viewBoxRect;\n        var viewBoxTransform;\n        if (viewBox) {\n            var viewBoxArr = splitNumberSequence(viewBox);\n            if (viewBoxArr.length >= 4) {\n                viewBoxRect = {\n                    x: parseFloat((viewBoxArr[0] || 0)),\n                    y: parseFloat((viewBoxArr[1] || 0)),\n                    width: parseFloat(viewBoxArr[2]),\n                    height: parseFloat(viewBoxArr[3])\n                };\n            }\n        }\n        if (viewBoxRect && width != null && height != null) {\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\n            if (!opt.ignoreViewBox) {\n                var elRoot = root;\n                root = new Group();\n                root.add(elRoot);\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\n                elRoot.x = viewBoxTransform.x;\n                elRoot.y = viewBoxTransform.y;\n            }\n        }\n        if (!opt.ignoreRootClip && width != null && height != null) {\n            root.setClipPath(new Rect({\n                shape: { x: 0, y: 0, width: width, height: height }\n            }));\n        }\n        return {\n            root: root,\n            width: width,\n            height: height,\n            viewBoxRect: viewBoxRect,\n            viewBoxTransform: viewBoxTransform,\n            named: named\n        };\n    };\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\n        var nodeName = xmlNode.nodeName.toLowerCase();\n        var el;\n        var namedFromForSub = namedFrom;\n        if (nodeName === 'defs') {\n            isInDefs = true;\n        }\n        if (nodeName === 'text') {\n            isInText = true;\n        }\n        if (nodeName === 'defs' || nodeName === 'switch') {\n            el = parentGroup;\n        }\n        else {\n            if (!isInDefs) {\n                var parser_1 = nodeParsers[nodeName];\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\n                    el = parser_1.call(this, xmlNode, parentGroup);\n                    var nameAttr = xmlNode.getAttribute('name');\n                    if (nameAttr) {\n                        var newNamed = {\n                            name: nameAttr,\n                            namedFrom: null,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        };\n                        named.push(newNamed);\n                        if (nodeName === 'g') {\n                            namedFromForSub = newNamed;\n                        }\n                    }\n                    else if (namedFrom) {\n                        named.push({\n                            name: namedFrom.name,\n                            namedFrom: namedFrom,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        });\n                    }\n                    parentGroup.add(el);\n                }\n            }\n            var parser = paintServerParsers[nodeName];\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\n                var def = parser.call(this, xmlNode);\n                var id = xmlNode.getAttribute('id');\n                if (id) {\n                    this._defs[id] = def;\n                }\n            }\n        }\n        if (el && el.isGroup) {\n            var child = xmlNode.firstChild;\n            while (child) {\n                if (child.nodeType === 1) {\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\n                }\n                else if (child.nodeType === 3 && isInText) {\n                    this._parseText(child, el);\n                }\n                child = child.nextSibling;\n            }\n        }\n    };\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n        var text = new TSpan({\n            style: {\n                text: xmlNode.textContent\n            },\n            silent: true,\n            x: this._textX || 0,\n            y: this._textY || 0\n        });\n        inheritStyle(parentGroup, text);\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\n        applyTextAlignment(text, parentGroup);\n        var textStyle = text.style;\n        var fontSize = textStyle.fontSize;\n        if (fontSize && fontSize < 9) {\n            textStyle.fontSize = 9;\n            text.scaleX *= fontSize / 9;\n            text.scaleY *= fontSize / 9;\n        }\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\n            textStyle.fontStyle,\n            textStyle.fontWeight,\n            (textStyle.fontSize || 12) + 'px',\n            textStyle.fontFamily || 'sans-serif'\n        ].join(' ');\n        textStyle.font = font;\n        var rect = text.getBoundingRect();\n        this._textX += rect.width;\n        parentGroup.add(text);\n        return text;\n    };\n    SVGParser.internalField = (function () {\n        nodeParsers = {\n            'g': function (xmlNode, parentGroup) {\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\n                return g;\n            },\n            'rect': function (xmlNode, parentGroup) {\n                var rect = new Rect();\n                inheritStyle(parentGroup, rect);\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\n                rect.setShape({\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\n                });\n                rect.silent = true;\n                return rect;\n            },\n            'circle': function (xmlNode, parentGroup) {\n                var circle = new Circle();\n                inheritStyle(parentGroup, circle);\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\n                circle.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\n                });\n                circle.silent = true;\n                return circle;\n            },\n            'line': function (xmlNode, parentGroup) {\n                var line = new Line();\n                inheritStyle(parentGroup, line);\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\n                line.setShape({\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\n                });\n                line.silent = true;\n                return line;\n            },\n            'ellipse': function (xmlNode, parentGroup) {\n                var ellipse = new Ellipse();\n                inheritStyle(parentGroup, ellipse);\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\n                ellipse.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\n                });\n                ellipse.silent = true;\n                return ellipse;\n            },\n            'polygon': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polygon = new Polygon({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polygon);\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\n                return polygon;\n            },\n            'polyline': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polyline = new Polyline({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polyline);\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\n                return polyline;\n            },\n            'image': function (xmlNode, parentGroup) {\n                var img = new ZRImage();\n                inheritStyle(parentGroup, img);\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\n                img.setStyle({\n                    image: xmlNode.getAttribute('xlink:href') || xmlNode.getAttribute('href'),\n                    x: +xmlNode.getAttribute('x'),\n                    y: +xmlNode.getAttribute('y'),\n                    width: +xmlNode.getAttribute('width'),\n                    height: +xmlNode.getAttribute('height')\n                });\n                img.silent = true;\n                return img;\n            },\n            'text': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x') || '0';\n                var y = xmlNode.getAttribute('y') || '0';\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                this._textX = parseFloat(x) + parseFloat(dx);\n                this._textY = parseFloat(y) + parseFloat(dy);\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                return g;\n            },\n            'tspan': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x');\n                var y = xmlNode.getAttribute('y');\n                if (x != null) {\n                    this._textX = parseFloat(x);\n                }\n                if (y != null) {\n                    this._textY = parseFloat(y);\n                }\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                this._textX += parseFloat(dx);\n                this._textY += parseFloat(dy);\n                return g;\n            },\n            'path': function (xmlNode, parentGroup) {\n                var d = xmlNode.getAttribute('d') || '';\n                var path = createFromString(d);\n                inheritStyle(parentGroup, path);\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\n                path.silent = true;\n                return path;\n            }\n        };\n    })();\n    return SVGParser;\n}());\nvar paintServerParsers = {\n    'lineargradient': function (xmlNode) {\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\n        var gradient = new LinearGradient(x1, y1, x2, y2);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    },\n    'radialgradient': function (xmlNode) {\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\n        var gradient = new RadialGradient(cx, cy, r);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    }\n};\nfunction parsePaintServerUnit(xmlNode, gradient) {\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\n    if (gradientUnits === 'userSpaceOnUse') {\n        gradient.global = true;\n    }\n}\nfunction parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n    while (stop) {\n        if (stop.nodeType === 1\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\n            var offsetStr = stop.getAttribute('offset');\n            var offset = void 0;\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\n                offset = parseInt(offsetStr, 10) / 100;\n            }\n            else if (offsetStr) {\n                offset = parseFloat(offsetStr);\n            }\n            else {\n                offset = 0;\n            }\n            var styleVals = {};\n            parseInlineStyle(stop, styleVals, styleVals);\n            var stopColor = styleVals.stopColor\n                || stop.getAttribute('stop-color')\n                || '#000000';\n            var stopOpacity = styleVals.stopOpacity\n                || stop.getAttribute('stop-opacity');\n            if (stopOpacity) {\n                var rgba = colorTool.parse(stopColor);\n                var stopColorOpacity = rgba && rgba[3];\n                if (stopColorOpacity) {\n                    rgba[3] *= colorTool.parseCssFloat(stopOpacity);\n                    stopColor = colorTool.stringify(rgba, 'rgba');\n                }\n            }\n            gradient.colorStops.push({\n                offset: offset,\n                color: stopColor\n            });\n        }\n        stop = stop.nextSibling;\n    }\n}\nfunction inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n        if (!child.__inheritedStyle) {\n            child.__inheritedStyle = {};\n        }\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n}\nfunction parsePoints(pointsString) {\n    var list = splitNumberSequence(pointsString);\n    var points = [];\n    for (var i = 0; i < list.length; i += 2) {\n        var x = parseFloat(list[i]);\n        var y = parseFloat(list[i + 1]);\n        points.push([x, y]);\n    }\n    return points;\n}\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\n    var disp = el;\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\n    var selfStyle = {};\n    if (xmlNode.nodeType === 1) {\n        parseTransformAttribute(xmlNode, el);\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\n        if (!onlyInlineStyle) {\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\n        }\n    }\n    disp.style = disp.style || {};\n    if (inheritedStyle.fill != null) {\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\n    }\n    if (inheritedStyle.stroke != null) {\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\n    }\n    each([\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\n        }\n    });\n    each([\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = inheritedStyle[propName];\n        }\n    });\n    if (isTextGroup) {\n        disp.__selfStyle = selfStyle;\n    }\n    if (inheritedStyle.lineDash) {\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\n            return parseFloat(str);\n        });\n    }\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\n        disp.invisible = true;\n    }\n    if (inheritedStyle.display === 'none') {\n        disp.ignore = true;\n    }\n}\nfunction applyTextAlignment(text, parentGroup) {\n    var parentSelfStyle = parentGroup.__selfStyle;\n    if (parentSelfStyle) {\n        var textBaseline = parentSelfStyle.textBaseline;\n        var zrTextBaseline = textBaseline;\n        if (!textBaseline || textBaseline === 'auto') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'baseline') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\n            zrTextBaseline = 'top';\n        }\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\n            zrTextBaseline = 'bottom';\n        }\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\n            zrTextBaseline = 'middle';\n        }\n        text.style.textBaseline = zrTextBaseline;\n    }\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\n    if (parentInheritedStyle) {\n        var textAlign = parentInheritedStyle.textAlign;\n        var zrTextAlign = textAlign;\n        if (textAlign) {\n            if (textAlign === 'middle') {\n                zrTextAlign = 'center';\n            }\n            text.style.textAlign = zrTextAlign;\n        }\n    }\n}\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\n    var urlMatch = str && str.match(urlRegex);\n    if (urlMatch) {\n        var url = trim(urlMatch[1]);\n        defsUsePending.push([el, method, url]);\n        return;\n    }\n    if (str === 'none') {\n        str = null;\n    }\n    return str;\n}\nfunction applyDefs(defs, defsUsePending) {\n    for (var i = 0; i < defsUsePending.length; i++) {\n        var item = defsUsePending[i];\n        item[0].style[item[1]] = defs[item[2]];\n    }\n}\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction splitNumberSequence(rawStr) {\n    return rawStr.match(numberReg) || [];\n}\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\nvar DEGREE_TO_ANGLE = Math.PI / 180;\nfunction parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n    if (transform) {\n        transform = transform.replace(/,/g, ' ');\n        var transformOps_1 = [];\n        var mt = null;\n        transform.replace(transformRegex, function (str, type, value) {\n            transformOps_1.push(type, value);\n            return '';\n        });\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\n            var value = transformOps_1[i];\n            var type = transformOps_1[i - 1];\n            var valueArr = splitNumberSequence(value);\n            mt = mt || matrix.create();\n            switch (type) {\n                case 'translate':\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\n                    break;\n                case 'scale':\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\n                    break;\n                case 'rotate':\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE, [\n                        parseFloat(valueArr[1] || '0'),\n                        parseFloat(valueArr[2] || '0')\n                    ]);\n                    break;\n                case 'skewX':\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\n                    break;\n                case 'skewY':\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\n                    break;\n                case 'matrix':\n                    mt[0] = parseFloat(valueArr[0]);\n                    mt[1] = parseFloat(valueArr[1]);\n                    mt[2] = parseFloat(valueArr[2]);\n                    mt[3] = parseFloat(valueArr[3]);\n                    mt[4] = parseFloat(valueArr[4]);\n                    mt[5] = parseFloat(valueArr[5]);\n                    break;\n            }\n        }\n        node.setLocalTransform(mt);\n    }\n}\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    var style = xmlNode.getAttribute('style');\n    if (!style) {\n        return;\n    }\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n        var svgStlAttr = styleRegResult[1];\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrInheritableStlAttr) {\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\n        }\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrSelfStlAttr) {\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\n        }\n    }\n}\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n}\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\n    var scaleX = boundingRect.width / viewBoxRect.width;\n    var scaleY = boundingRect.height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY);\n    return {\n        scale: scale,\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\n    };\n}\nexport function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n}\nexport { parseXML };\n","import { cubicSubdivide } from '../core/curve.js';\nimport PathProxy from '../core/PathProxy.js';\nvar CMD = PathProxy.CMD;\nfunction aroundEqual(a, b) {\n    return Math.abs(a - b) < 1e-5;\n}\nexport function pathToBezierCurves(path) {\n    var data = path.data;\n    var len = path.len();\n    var bezierArrayGroups = [];\n    var currentSubpath;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    function createNewSubpath(x, y) {\n        if (currentSubpath && currentSubpath.length > 2) {\n            bezierArrayGroups.push(currentSubpath);\n        }\n        currentSubpath = [x, y];\n    }\n    function addLine(x0, y0, x1, y1) {\n        if (!(aroundEqual(x0, x1) && aroundEqual(y0, y1))) {\n            currentSubpath.push(x0, y0, x1, y1, x1, y1);\n        }\n    }\n    function addArc(startAngle, endAngle, cx, cy, rx, ry) {\n        var delta = Math.abs(endAngle - startAngle);\n        var len = Math.tan(delta / 4) * 4 / 3;\n        var dir = endAngle < startAngle ? -1 : 1;\n        var c1 = Math.cos(startAngle);\n        var s1 = Math.sin(startAngle);\n        var c2 = Math.cos(endAngle);\n        var s2 = Math.sin(endAngle);\n        var x1 = c1 * rx + cx;\n        var y1 = s1 * ry + cy;\n        var x4 = c2 * rx + cx;\n        var y4 = s2 * ry + cy;\n        var hx = rx * len * dir;\n        var hy = ry * len * dir;\n        currentSubpath.push(x1 - hx * s1, y1 + hy * c1, x4 + hx * s2, y4 - hy * c2, x4, y4);\n    }\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n            if (cmd === CMD.L || cmd === CMD.C || cmd === CMD.Q) {\n                currentSubpath = [x0, y0];\n            }\n        }\n        switch (cmd) {\n            case CMD.M:\n                xi = x0 = data[i++];\n                yi = y0 = data[i++];\n                createNewSubpath(x0, y0);\n                break;\n            case CMD.L:\n                x1 = data[i++];\n                y1 = data[i++];\n                addLine(xi, yi, x1, y1);\n                xi = x1;\n                yi = y1;\n                break;\n            case CMD.C:\n                currentSubpath.push(data[i++], data[i++], data[i++], data[i++], xi = data[i++], yi = data[i++]);\n                break;\n            case CMD.Q:\n                x1 = data[i++];\n                y1 = data[i++];\n                x2 = data[i++];\n                y2 = data[i++];\n                currentSubpath.push(xi + 2 / 3 * (x1 - xi), yi + 2 / 3 * (y1 - yi), x2 + 2 / 3 * (x1 - x2), y2 + 2 / 3 * (y1 - y2), x2, y2);\n                xi = x2;\n                yi = y2;\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle;\n                i += 1;\n                var anticlockwise = !data[i++];\n                x1 = Math.cos(startAngle) * rx + cx;\n                y1 = Math.sin(startAngle) * ry + cy;\n                if (isFirst) {\n                    x0 = x1;\n                    y0 = y1;\n                    createNewSubpath(x0, y0);\n                }\n                else {\n                    addLine(xi, yi, x1, y1);\n                }\n                xi = Math.cos(endAngle) * rx + cx;\n                yi = Math.sin(endAngle) * ry + cy;\n                var step = (anticlockwise ? -1 : 1) * Math.PI / 2;\n                for (var angle = startAngle; anticlockwise ? angle > endAngle : angle < endAngle; angle += step) {\n                    var nextAngle = anticlockwise ? Math.max(angle + step, endAngle)\n                        : Math.min(angle + step, endAngle);\n                    addArc(angle, nextAngle, cx, cy, rx, ry);\n                }\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                x1 = x0 + data[i++];\n                y1 = y0 + data[i++];\n                createNewSubpath(x1, y0);\n                addLine(x1, y0, x1, y1);\n                addLine(x1, y1, x0, y1);\n                addLine(x0, y1, x0, y0);\n                addLine(x0, y0, x1, y0);\n                break;\n            case CMD.Z:\n                currentSubpath && addLine(xi, yi, x0, y0);\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (currentSubpath && currentSubpath.length > 2) {\n        bezierArrayGroups.push(currentSubpath);\n    }\n    return bezierArrayGroups;\n}\nfunction adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, out, scale) {\n    if (aroundEqual(x0, x1) && aroundEqual(y0, y1) && aroundEqual(x2, x3) && aroundEqual(y2, y3)) {\n        out.push(x3, y3);\n        return;\n    }\n    var PIXEL_DISTANCE = 2 / scale;\n    var PIXEL_DISTANCE_SQR = PIXEL_DISTANCE * PIXEL_DISTANCE;\n    var dx = x3 - x0;\n    var dy = y3 - y0;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    dx /= d;\n    dy /= d;\n    var dx1 = x1 - x0;\n    var dy1 = y1 - y0;\n    var dx2 = x2 - x3;\n    var dy2 = y2 - y3;\n    var cp1LenSqr = dx1 * dx1 + dy1 * dy1;\n    var cp2LenSqr = dx2 * dx2 + dy2 * dy2;\n    if (cp1LenSqr < PIXEL_DISTANCE_SQR && cp2LenSqr < PIXEL_DISTANCE_SQR) {\n        out.push(x3, y3);\n        return;\n    }\n    var projLen1 = dx * dx1 + dy * dy1;\n    var projLen2 = -dx * dx2 - dy * dy2;\n    var d1Sqr = cp1LenSqr - projLen1 * projLen1;\n    var d2Sqr = cp2LenSqr - projLen2 * projLen2;\n    if (d1Sqr < PIXEL_DISTANCE_SQR && projLen1 >= 0\n        && d2Sqr < PIXEL_DISTANCE_SQR && projLen2 >= 0) {\n        out.push(x3, y3);\n        return;\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    cubicSubdivide(x0, x1, x2, x3, 0.5, tmpSegX);\n    cubicSubdivide(y0, y1, y2, y3, 0.5, tmpSegY);\n    adpativeBezier(tmpSegX[0], tmpSegY[0], tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], tmpSegX[3], tmpSegY[3], out, scale);\n    adpativeBezier(tmpSegX[4], tmpSegY[4], tmpSegX[5], tmpSegY[5], tmpSegX[6], tmpSegY[6], tmpSegX[7], tmpSegY[7], out, scale);\n}\nexport function pathToPolygons(path, scale) {\n    var bezierArrayGroups = pathToBezierCurves(path);\n    var polygons = [];\n    scale = scale || 1;\n    for (var i = 0; i < bezierArrayGroups.length; i++) {\n        var beziers = bezierArrayGroups[i];\n        var polygon = [];\n        var x0 = beziers[0];\n        var y0 = beziers[1];\n        polygon.push(x0, y0);\n        for (var k = 2; k < beziers.length;) {\n            var x1 = beziers[k++];\n            var y1 = beziers[k++];\n            var x2 = beziers[k++];\n            var y2 = beziers[k++];\n            var x3 = beziers[k++];\n            var y3 = beziers[k++];\n            adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, polygon, scale);\n            x0 = x3;\n            y0 = y3;\n        }\n        polygons.push(polygon);\n    }\n    return polygons;\n}\n","import { fromPoints } from '../core/bbox.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Point from '../core/Point.js';\nimport { map } from '../core/util.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Sector from '../graphic/shape/Sector.js';\nimport { pathToPolygons } from './convertPath.js';\nimport { clonePath } from './path.js';\nfunction getDividingGrids(dimSize, rowDim, count) {\n    var rowSize = dimSize[rowDim];\n    var columnSize = dimSize[1 - rowDim];\n    var ratio = Math.abs(rowSize / columnSize);\n    var rowCount = Math.ceil(Math.sqrt(ratio * count));\n    var columnCount = Math.floor(count / rowCount);\n    if (columnCount === 0) {\n        columnCount = 1;\n        rowCount = count;\n    }\n    var grids = [];\n    for (var i = 0; i < rowCount; i++) {\n        grids.push(columnCount);\n    }\n    var currentCount = rowCount * columnCount;\n    var remained = count - currentCount;\n    if (remained > 0) {\n        for (var i = 0; i < remained; i++) {\n            grids[i % rowCount] += 1;\n        }\n    }\n    return grids;\n}\nfunction divideSector(sectorShape, count, outShapes) {\n    var r0 = sectorShape.r0;\n    var r = sectorShape.r;\n    var startAngle = sectorShape.startAngle;\n    var endAngle = sectorShape.endAngle;\n    var angle = Math.abs(endAngle - startAngle);\n    var arcLen = angle * r;\n    var deltaR = r - r0;\n    var isAngleRow = arcLen > Math.abs(deltaR);\n    var grids = getDividingGrids([arcLen, deltaR], isAngleRow ? 0 : 1, count);\n    var rowSize = (isAngleRow ? angle : deltaR) / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = (isAngleRow ? deltaR : angle) / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            if (isAngleRow) {\n                newShape.startAngle = startAngle + rowSize * row;\n                newShape.endAngle = startAngle + rowSize * (row + 1);\n                newShape.r0 = r0 + columnSize * column;\n                newShape.r = r0 + columnSize * (column + 1);\n            }\n            else {\n                newShape.startAngle = startAngle + columnSize * column;\n                newShape.endAngle = startAngle + columnSize * (column + 1);\n                newShape.r0 = r0 + rowSize * row;\n                newShape.r = r0 + rowSize * (row + 1);\n            }\n            newShape.clockwise = sectorShape.clockwise;\n            newShape.cx = sectorShape.cx;\n            newShape.cy = sectorShape.cy;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction divideRect(rectShape, count, outShapes) {\n    var width = rectShape.width;\n    var height = rectShape.height;\n    var isHorizontalRow = width > height;\n    var grids = getDividingGrids([width, height], isHorizontalRow ? 0 : 1, count);\n    var rowSizeDim = isHorizontalRow ? 'width' : 'height';\n    var columnSizeDim = isHorizontalRow ? 'height' : 'width';\n    var rowDim = isHorizontalRow ? 'x' : 'y';\n    var columnDim = isHorizontalRow ? 'y' : 'x';\n    var rowSize = rectShape[rowSizeDim] / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = rectShape[columnSizeDim] / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            newShape[rowDim] = row * rowSize;\n            newShape[columnDim] = column * columnSize;\n            newShape[rowSizeDim] = rowSize;\n            newShape[columnSizeDim] = columnSize;\n            newShape.x += rectShape.x;\n            newShape.y += rectShape.y;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n}\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y;\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n    if (Math.abs(nmCrossProduct) < 1e-6) {\n        return null;\n    }\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n    if (p < 0 || p > 1) {\n        return null;\n    }\n    return new Point(p * mx + a1x, p * my + a1y);\n}\nfunction projPtOnLine(pt, lineA, lineB) {\n    var dir = new Point();\n    Point.sub(dir, lineB, lineA);\n    dir.normalize();\n    var dir2 = new Point();\n    Point.sub(dir2, pt, lineA);\n    var len = dir2.dot(dir);\n    return len;\n}\nfunction addToPoly(poly, pt) {\n    var last = poly[poly.length - 1];\n    if (last && last[0] === pt[0] && last[1] === pt[1]) {\n        return;\n    }\n    poly.push(pt);\n}\nfunction splitPolygonByLine(points, lineA, lineB) {\n    var len = points.length;\n    var intersections = [];\n    for (var i = 0; i < len; i++) {\n        var p0 = points[i];\n        var p1 = points[(i + 1) % len];\n        var intersectionPt = lineLineIntersect(p0[0], p0[1], p1[0], p1[1], lineA.x, lineA.y, lineB.x, lineB.y);\n        if (intersectionPt) {\n            intersections.push({\n                projPt: projPtOnLine(intersectionPt, lineA, lineB),\n                pt: intersectionPt,\n                idx: i\n            });\n        }\n    }\n    if (intersections.length < 2) {\n        return [{ points: points }, { points: points }];\n    }\n    intersections.sort(function (a, b) {\n        return a.projPt - b.projPt;\n    });\n    var splitPt0 = intersections[0];\n    var splitPt1 = intersections[intersections.length - 1];\n    if (splitPt1.idx < splitPt0.idx) {\n        var tmp = splitPt0;\n        splitPt0 = splitPt1;\n        splitPt1 = tmp;\n    }\n    var splitPt0Arr = [splitPt0.pt.x, splitPt0.pt.y];\n    var splitPt1Arr = [splitPt1.pt.x, splitPt1.pt.y];\n    var newPolyA = [splitPt0Arr];\n    var newPolyB = [splitPt1Arr];\n    for (var i = splitPt0.idx + 1; i <= splitPt1.idx; i++) {\n        addToPoly(newPolyA, points[i].slice());\n    }\n    addToPoly(newPolyA, splitPt1Arr);\n    addToPoly(newPolyA, splitPt0Arr);\n    for (var i = splitPt1.idx + 1; i <= splitPt0.idx + len; i++) {\n        addToPoly(newPolyB, points[i % len].slice());\n    }\n    addToPoly(newPolyB, splitPt0Arr);\n    addToPoly(newPolyB, splitPt1Arr);\n    return [{\n            points: newPolyA\n        }, {\n            points: newPolyB\n        }];\n}\nfunction binaryDividePolygon(polygonShape) {\n    var points = polygonShape.points;\n    var min = [];\n    var max = [];\n    fromPoints(points, min, max);\n    var boundingRect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    var width = boundingRect.width;\n    var height = boundingRect.height;\n    var x = boundingRect.x;\n    var y = boundingRect.y;\n    var pt0 = new Point();\n    var pt1 = new Point();\n    if (width > height) {\n        pt0.x = pt1.x = x + width / 2;\n        pt0.y = y;\n        pt1.y = y + height;\n    }\n    else {\n        pt0.y = pt1.y = y + height / 2;\n        pt0.x = x;\n        pt1.x = x + width;\n    }\n    return splitPolygonByLine(points, pt0, pt1);\n}\nfunction binaryDivideRecursive(divider, shape, count, out) {\n    if (count === 1) {\n        out.push(shape);\n    }\n    else {\n        var mid = Math.floor(count / 2);\n        var sub = divider(shape);\n        binaryDivideRecursive(divider, sub[0], mid, out);\n        binaryDivideRecursive(divider, sub[1], count - mid, out);\n    }\n    return out;\n}\nexport function clone(path, count) {\n    var paths = [];\n    for (var i = 0; i < count; i++) {\n        paths.push(clonePath(path));\n    }\n    return paths;\n}\nfunction copyPathProps(source, target) {\n    target.setStyle(source.style);\n    target.z = source.z;\n    target.z2 = source.z2;\n    target.zlevel = source.zlevel;\n}\nfunction polygonConvert(points) {\n    var out = [];\n    for (var i = 0; i < points.length;) {\n        out.push([points[i++], points[i++]]);\n    }\n    return out;\n}\nexport function split(path, count) {\n    var outShapes = [];\n    var shape = path.shape;\n    var OutShapeCtor;\n    switch (path.type) {\n        case 'rect':\n            divideRect(shape, count, outShapes);\n            OutShapeCtor = Rect;\n            break;\n        case 'sector':\n            divideSector(shape, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        case 'circle':\n            divideSector({\n                r0: 0, r: shape.r, startAngle: 0, endAngle: Math.PI * 2,\n                cx: shape.cx, cy: shape.cy\n            }, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        default:\n            var m = path.getComputedTransform();\n            var scale = m ? Math.sqrt(Math.max(m[0] * m[0] + m[1] * m[1], m[2] * m[2] + m[3] * m[3])) : 1;\n            var polygons = map(pathToPolygons(path.getUpdatedPathProxy(), scale), function (poly) { return polygonConvert(poly); });\n            var polygonCount = polygons.length;\n            if (polygonCount === 0) {\n                binaryDivideRecursive(binaryDividePolygon, {\n                    points: polygons[0]\n                }, count, outShapes);\n            }\n            else if (polygonCount === count) {\n                for (var i = 0; i < polygonCount; i++) {\n                    outShapes.push({\n                        points: polygons[i]\n                    });\n                }\n            }\n            else {\n                var totalArea_1 = 0;\n                var items = map(polygons, function (poly) {\n                    var min = [];\n                    var max = [];\n                    fromPoints(poly, min, max);\n                    var area = (max[1] - min[1]) * (max[0] - min[0]);\n                    totalArea_1 += area;\n                    return { poly: poly, area: area };\n                });\n                items.sort(function (a, b) { return b.area - a.area; });\n                var left = count;\n                for (var i = 0; i < polygonCount; i++) {\n                    var item = items[i];\n                    if (left <= 0) {\n                        break;\n                    }\n                    var selfCount = i === polygonCount - 1\n                        ? left\n                        : Math.ceil(item.area / totalArea_1 * count);\n                    if (selfCount < 0) {\n                        continue;\n                    }\n                    binaryDivideRecursive(binaryDividePolygon, {\n                        points: item.poly\n                    }, selfCount, outShapes);\n                    left -= selfCount;\n                }\n                ;\n            }\n            OutShapeCtor = Polygon;\n            break;\n    }\n    if (!OutShapeCtor) {\n        return clone(path, count);\n    }\n    var out = [];\n    for (var i = 0; i < outShapes.length; i++) {\n        var subPath = new OutShapeCtor();\n        subPath.setShape(outShapes[i]);\n        copyPathProps(path, subPath);\n        out.push(subPath);\n    }\n    return out;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport Path from '../graphic/Path.js';\nimport { defaults, map } from '../core/util.js';\nimport { lerp } from '../core/vector.js';\nimport { clonePath } from './path.js';\nimport Transformable from '../core/Transformable.js';\nimport { split } from './dividePath.js';\nimport { pathToBezierCurves } from './convertPath.js';\nfunction alignSubpath(subpath1, subpath2) {\n    var len1 = subpath1.length;\n    var len2 = subpath2.length;\n    if (len1 === len2) {\n        return [subpath1, subpath2];\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    var shorterPath = len1 < len2 ? subpath1 : subpath2;\n    var shorterLen = Math.min(len1, len2);\n    var diff = Math.abs(len2 - len1) / 6;\n    var shorterBezierCount = (shorterLen - 2) / 6;\n    var eachCurveSubDivCount = Math.ceil(diff / shorterBezierCount) + 1;\n    var newSubpath = [shorterPath[0], shorterPath[1]];\n    var remained = diff;\n    for (var i = 2; i < shorterLen;) {\n        var x0 = shorterPath[i - 2];\n        var y0 = shorterPath[i - 1];\n        var x1 = shorterPath[i++];\n        var y1 = shorterPath[i++];\n        var x2 = shorterPath[i++];\n        var y2 = shorterPath[i++];\n        var x3 = shorterPath[i++];\n        var y3 = shorterPath[i++];\n        if (remained <= 0) {\n            newSubpath.push(x1, y1, x2, y2, x3, y3);\n            continue;\n        }\n        var actualSubDivCount = Math.min(remained, eachCurveSubDivCount - 1) + 1;\n        for (var k = 1; k <= actualSubDivCount; k++) {\n            var p = k / actualSubDivCount;\n            cubicSubdivide(x0, x1, x2, x3, p, tmpSegX);\n            cubicSubdivide(y0, y1, y2, y3, p, tmpSegY);\n            x0 = tmpSegX[3];\n            y0 = tmpSegY[3];\n            newSubpath.push(tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], x0, y0);\n            x1 = tmpSegX[5];\n            y1 = tmpSegY[5];\n            x2 = tmpSegX[6];\n            y2 = tmpSegY[6];\n        }\n        remained -= actualSubDivCount - 1;\n    }\n    return shorterPath === subpath1 ? [newSubpath, subpath2] : [subpath1, newSubpath];\n}\nfunction createSubpath(lastSubpathSubpath, otherSubpath) {\n    var len = lastSubpathSubpath.length;\n    var lastX = lastSubpathSubpath[len - 2];\n    var lastY = lastSubpathSubpath[len - 1];\n    var newSubpath = [];\n    for (var i = 0; i < otherSubpath.length;) {\n        newSubpath[i++] = lastX;\n        newSubpath[i++] = lastY;\n    }\n    return newSubpath;\n}\nexport function alignBezierCurves(array1, array2) {\n    var _a;\n    var lastSubpath1;\n    var lastSubpath2;\n    var newArray1 = [];\n    var newArray2 = [];\n    for (var i = 0; i < Math.max(array1.length, array2.length); i++) {\n        var subpath1 = array1[i];\n        var subpath2 = array2[i];\n        var newSubpath1 = void 0;\n        var newSubpath2 = void 0;\n        if (!subpath1) {\n            newSubpath1 = createSubpath(lastSubpath1 || subpath2, subpath2);\n            newSubpath2 = subpath2;\n        }\n        else if (!subpath2) {\n            newSubpath2 = createSubpath(lastSubpath2 || subpath1, subpath1);\n            newSubpath1 = subpath1;\n        }\n        else {\n            _a = alignSubpath(subpath1, subpath2), newSubpath1 = _a[0], newSubpath2 = _a[1];\n            lastSubpath1 = newSubpath1;\n            lastSubpath2 = newSubpath2;\n        }\n        newArray1.push(newSubpath1);\n        newArray2.push(newSubpath2);\n    }\n    return [newArray1, newArray2];\n}\nexport function centroid(array) {\n    var signedArea = 0;\n    var cx = 0;\n    var cy = 0;\n    var len = array.length;\n    for (var i = 0, j = len - 2; i < len; j = i, i += 2) {\n        var x0 = array[j];\n        var y0 = array[j + 1];\n        var x1 = array[i];\n        var y1 = array[i + 1];\n        var a = x0 * y1 - x1 * y0;\n        signedArea += a;\n        cx += (x0 + x1) * a;\n        cy += (y0 + y1) * a;\n    }\n    if (signedArea === 0) {\n        return [array[0] || 0, array[1] || 0];\n    }\n    return [cx / signedArea / 3, cy / signedArea / 3, signedArea];\n}\nfunction findBestRingOffset(fromSubBeziers, toSubBeziers, fromCp, toCp) {\n    var bezierCount = (fromSubBeziers.length - 2) / 6;\n    var bestScore = Infinity;\n    var bestOffset = 0;\n    var len = fromSubBeziers.length;\n    var len2 = len - 2;\n    for (var offset = 0; offset < bezierCount; offset++) {\n        var cursorOffset = offset * 6;\n        var score = 0;\n        for (var k = 0; k < len; k += 2) {\n            var idx = k === 0 ? cursorOffset : ((cursorOffset + k - 2) % len2 + 2);\n            var x0 = fromSubBeziers[idx] - fromCp[0];\n            var y0 = fromSubBeziers[idx + 1] - fromCp[1];\n            var x1 = toSubBeziers[k] - toCp[0];\n            var y1 = toSubBeziers[k + 1] - toCp[1];\n            var dx = x1 - x0;\n            var dy = y1 - y0;\n            score += dx * dx + dy * dy;\n        }\n        if (score < bestScore) {\n            bestScore = score;\n            bestOffset = offset;\n        }\n    }\n    return bestOffset;\n}\nfunction reverse(array) {\n    var newArr = [];\n    var len = array.length;\n    for (var i = 0; i < len; i += 2) {\n        newArr[i] = array[len - i - 2];\n        newArr[i + 1] = array[len - i - 1];\n    }\n    return newArr;\n}\nfunction findBestMorphingRotation(fromArr, toArr, searchAngleIteration, searchAngleRange) {\n    var result = [];\n    var fromNeedsReverse;\n    for (var i = 0; i < fromArr.length; i++) {\n        var fromSubpathBezier = fromArr[i];\n        var toSubpathBezier = toArr[i];\n        var fromCp = centroid(fromSubpathBezier);\n        var toCp = centroid(toSubpathBezier);\n        if (fromNeedsReverse == null) {\n            fromNeedsReverse = fromCp[2] < 0 !== toCp[2] < 0;\n        }\n        var newFromSubpathBezier = [];\n        var newToSubpathBezier = [];\n        var bestAngle = 0;\n        var bestScore = Infinity;\n        var tmpArr = [];\n        var len = fromSubpathBezier.length;\n        if (fromNeedsReverse) {\n            fromSubpathBezier = reverse(fromSubpathBezier);\n        }\n        var offset = findBestRingOffset(fromSubpathBezier, toSubpathBezier, fromCp, toCp) * 6;\n        var len2 = len - 2;\n        for (var k = 0; k < len2; k += 2) {\n            var idx = (offset + k) % len2 + 2;\n            newFromSubpathBezier[k + 2] = fromSubpathBezier[idx] - fromCp[0];\n            newFromSubpathBezier[k + 3] = fromSubpathBezier[idx + 1] - fromCp[1];\n        }\n        newFromSubpathBezier[0] = fromSubpathBezier[offset] - fromCp[0];\n        newFromSubpathBezier[1] = fromSubpathBezier[offset + 1] - fromCp[1];\n        if (searchAngleIteration > 0) {\n            var step = searchAngleRange / searchAngleIteration;\n            for (var angle = -searchAngleRange / 2; angle <= searchAngleRange / 2; angle += step) {\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                var score = 0;\n                for (var k = 0; k < fromSubpathBezier.length; k += 2) {\n                    var x0 = newFromSubpathBezier[k];\n                    var y0 = newFromSubpathBezier[k + 1];\n                    var x1 = toSubpathBezier[k] - toCp[0];\n                    var y1 = toSubpathBezier[k + 1] - toCp[1];\n                    var newX1 = x1 * ca - y1 * sa;\n                    var newY1 = x1 * sa + y1 * ca;\n                    tmpArr[k] = newX1;\n                    tmpArr[k + 1] = newY1;\n                    var dx = newX1 - x0;\n                    var dy = newY1 - y0;\n                    score += dx * dx + dy * dy;\n                }\n                if (score < bestScore) {\n                    bestScore = score;\n                    bestAngle = angle;\n                    for (var m = 0; m < tmpArr.length; m++) {\n                        newToSubpathBezier[m] = tmpArr[m];\n                    }\n                }\n            }\n        }\n        else {\n            for (var i_1 = 0; i_1 < len; i_1 += 2) {\n                newToSubpathBezier[i_1] = toSubpathBezier[i_1] - toCp[0];\n                newToSubpathBezier[i_1 + 1] = toSubpathBezier[i_1 + 1] - toCp[1];\n            }\n        }\n        result.push({\n            from: newFromSubpathBezier,\n            to: newToSubpathBezier,\n            fromCp: fromCp,\n            toCp: toCp,\n            rotation: -bestAngle\n        });\n    }\n    return result;\n}\nexport function isCombineMorphing(path) {\n    return path.__isCombineMorphing;\n}\nexport function isMorphing(el) {\n    return el.__morphT >= 0;\n}\nvar SAVED_METHOD_PREFIX = '__mOriginal_';\nfunction saveAndModifyMethod(obj, methodName, modifiers) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    var originalMethod = obj[savedMethodName] || obj[methodName];\n    if (!obj[savedMethodName]) {\n        obj[savedMethodName] = obj[methodName];\n    }\n    var replace = modifiers.replace;\n    var after = modifiers.after;\n    var before = modifiers.before;\n    obj[methodName] = function () {\n        var args = arguments;\n        var res;\n        before && before.apply(this, args);\n        if (replace) {\n            res = replace.apply(this, args);\n        }\n        else {\n            res = originalMethod.apply(this, args);\n        }\n        after && after.apply(this, args);\n        return res;\n    };\n}\nfunction restoreMethod(obj, methodName) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    if (obj[savedMethodName]) {\n        obj[methodName] = obj[savedMethodName];\n        obj[savedMethodName] = null;\n    }\n}\nfunction applyTransformOnBeziers(bezierCurves, mm) {\n    for (var i = 0; i < bezierCurves.length; i++) {\n        var subBeziers = bezierCurves[i];\n        for (var k = 0; k < subBeziers.length;) {\n            var x = subBeziers[k];\n            var y = subBeziers[k + 1];\n            subBeziers[k++] = mm[0] * x + mm[2] * y + mm[4];\n            subBeziers[k++] = mm[1] * x + mm[3] * y + mm[5];\n        }\n    }\n}\nfunction prepareMorphPath(fromPath, toPath) {\n    var fromPathProxy = fromPath.getUpdatedPathProxy();\n    var toPathProxy = toPath.getUpdatedPathProxy();\n    var _a = alignBezierCurves(pathToBezierCurves(fromPathProxy), pathToBezierCurves(toPathProxy)), fromBezierCurves = _a[0], toBezierCurves = _a[1];\n    var fromPathTransform = fromPath.getComputedTransform();\n    var toPathTransform = toPath.getComputedTransform();\n    function updateIdentityTransform() {\n        this.transform = null;\n    }\n    fromPathTransform && applyTransformOnBeziers(fromBezierCurves, fromPathTransform);\n    toPathTransform && applyTransformOnBeziers(toBezierCurves, toPathTransform);\n    saveAndModifyMethod(toPath, 'updateTransform', { replace: updateIdentityTransform });\n    toPath.transform = null;\n    var morphingData = findBestMorphingRotation(fromBezierCurves, toBezierCurves, 10, Math.PI);\n    var tmpArr = [];\n    saveAndModifyMethod(toPath, 'buildPath', { replace: function (path) {\n            var t = toPath.__morphT;\n            var onet = 1 - t;\n            var newCp = [];\n            for (var i = 0; i < morphingData.length; i++) {\n                var item = morphingData[i];\n                var from = item.from;\n                var to = item.to;\n                var angle = item.rotation * t;\n                var fromCp = item.fromCp;\n                var toCp = item.toCp;\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                lerp(newCp, fromCp, toCp, t);\n                for (var m = 0; m < from.length; m += 2) {\n                    var x0_1 = from[m];\n                    var y0_1 = from[m + 1];\n                    var x1 = to[m];\n                    var y1 = to[m + 1];\n                    var x = x0_1 * onet + x1 * t;\n                    var y = y0_1 * onet + y1 * t;\n                    tmpArr[m] = (x * ca - y * sa) + newCp[0];\n                    tmpArr[m + 1] = (x * sa + y * ca) + newCp[1];\n                }\n                var x0 = tmpArr[0];\n                var y0 = tmpArr[1];\n                path.moveTo(x0, y0);\n                for (var m = 2; m < from.length;) {\n                    var x1 = tmpArr[m++];\n                    var y1 = tmpArr[m++];\n                    var x2 = tmpArr[m++];\n                    var y2 = tmpArr[m++];\n                    var x3 = tmpArr[m++];\n                    var y3 = tmpArr[m++];\n                    if (x0 === x1 && y0 === y1 && x2 === x3 && y2 === y3) {\n                        path.lineTo(x3, y3);\n                    }\n                    else {\n                        path.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    }\n                    x0 = x3;\n                    y0 = y3;\n                }\n            }\n        } });\n}\nexport function morphPath(fromPath, toPath, animationOpts) {\n    if (!fromPath || !toPath) {\n        return toPath;\n    }\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    prepareMorphPath(fromPath, toPath);\n    toPath.__morphT = 0;\n    function restoreToPath() {\n        restoreMethod(toPath, 'buildPath');\n        restoreMethod(toPath, 'updateTransform');\n        toPath.__morphT = -1;\n        toPath.createPathProxy();\n        toPath.dirtyShape();\n    }\n    toPath.animateTo({\n        __morphT: 1\n    }, defaults({\n        during: function (p) {\n            toPath.dirtyShape();\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            restoreToPath();\n            oldDone && oldDone();\n        }\n    }, animationOpts));\n    return toPath;\n}\nfunction hilbert(x, y, minX, minY, maxX, maxY) {\n    var bits = 16;\n    x = (maxX === minX) ? 0 : Math.round(32767 * (x - minX) / (maxX - minX));\n    y = (maxY === minY) ? 0 : Math.round(32767 * (y - minY) / (maxY - minY));\n    var d = 0;\n    var tmp;\n    for (var s = (1 << bits) / 2; s > 0; s /= 2) {\n        var rx = 0;\n        var ry = 0;\n        if ((x & s) > 0) {\n            rx = 1;\n        }\n        if ((y & s) > 0) {\n            ry = 1;\n        }\n        d += s * s * ((3 * rx) ^ ry);\n        if (ry === 0) {\n            if (rx === 1) {\n                x = s - 1 - x;\n                y = s - 1 - y;\n            }\n            tmp = x;\n            x = y;\n            y = tmp;\n        }\n    }\n    return d;\n}\nfunction sortPaths(pathList) {\n    var xMin = Infinity;\n    var yMin = Infinity;\n    var xMax = -Infinity;\n    var yMax = -Infinity;\n    var cps = map(pathList, function (path) {\n        var rect = path.getBoundingRect();\n        var m = path.getComputedTransform();\n        var x = rect.x + rect.width / 2 + (m ? m[4] : 0);\n        var y = rect.y + rect.height / 2 + (m ? m[5] : 0);\n        xMin = Math.min(x, xMin);\n        yMin = Math.min(y, yMin);\n        xMax = Math.max(x, xMax);\n        yMax = Math.max(y, yMax);\n        return [x, y];\n    });\n    var items = map(cps, function (cp, idx) {\n        return {\n            cp: cp,\n            z: hilbert(cp[0], cp[1], xMin, yMin, xMax, yMax),\n            path: pathList[idx]\n        };\n    });\n    return items.sort(function (a, b) { return a.z - b.z; }).map(function (item) { return item.path; });\n}\n;\nfunction defaultDividePath(param) {\n    return split(param.path, param.count);\n}\nfunction createEmptyReturn() {\n    return {\n        fromIndividuals: [],\n        toIndividuals: [],\n        count: 0\n    };\n}\nexport function combineMorph(fromList, toPath, animationOpts) {\n    var fromPathList = [];\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    addFromPath(fromList);\n    var separateCount = fromPathList.length;\n    if (!separateCount) {\n        return createEmptyReturn();\n    }\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    var toSubPathList = dividePath({\n        path: toPath, count: separateCount\n    });\n    if (toSubPathList.length !== separateCount) {\n        console.error('Invalid morphing: unmatched splitted path');\n        return createEmptyReturn();\n    }\n    fromPathList = sortPaths(fromPathList);\n    toSubPathList = sortPaths(toSubPathList);\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    var individualDelay = animationOpts.individualDelay;\n    var identityTransform = new Transformable();\n    for (var i = 0; i < separateCount; i++) {\n        var from = fromPathList[i];\n        var to = toSubPathList[i];\n        to.parent = toPath;\n        to.copyTransform(identityTransform);\n        if (!individualDelay) {\n            prepareMorphPath(from, to);\n        }\n    }\n    toPath.__isCombineMorphing = true;\n    toPath.childrenRef = function () {\n        return toSubPathList;\n    };\n    function addToSubPathListToZr(zr) {\n        for (var i = 0; i < toSubPathList.length; i++) {\n            toSubPathList[i].addSelfToZr(zr);\n        }\n    }\n    saveAndModifyMethod(toPath, 'addSelfToZr', {\n        after: function (zr) {\n            addToSubPathListToZr(zr);\n        }\n    });\n    saveAndModifyMethod(toPath, 'removeSelfFromZr', {\n        after: function (zr) {\n            for (var i = 0; i < toSubPathList.length; i++) {\n                toSubPathList[i].removeSelfFromZr(zr);\n            }\n        }\n    });\n    function restoreToPath() {\n        toPath.__isCombineMorphing = false;\n        toPath.__morphT = -1;\n        toPath.childrenRef = null;\n        restoreMethod(toPath, 'addSelfToZr');\n        restoreMethod(toPath, 'removeSelfFromZr');\n    }\n    var toLen = toSubPathList.length;\n    if (individualDelay) {\n        var animating_1 = toLen;\n        var eachDone = function () {\n            animating_1--;\n            if (animating_1 === 0) {\n                restoreToPath();\n                oldDone && oldDone();\n            }\n        };\n        for (var i = 0; i < toLen; i++) {\n            var indivdualAnimationOpts = individualDelay ? defaults({\n                delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toSubPathList[i]),\n                done: eachDone\n            }, animationOpts) : animationOpts;\n            morphPath(fromPathList[i], toSubPathList[i], indivdualAnimationOpts);\n        }\n    }\n    else {\n        toPath.__morphT = 0;\n        toPath.animateTo({\n            __morphT: 1\n        }, defaults({\n            during: function (p) {\n                for (var i = 0; i < toLen; i++) {\n                    var child = toSubPathList[i];\n                    child.__morphT = toPath.__morphT;\n                    child.dirtyShape();\n                }\n                oldDuring && oldDuring(p);\n            },\n            done: function () {\n                restoreToPath();\n                for (var i = 0; i < fromList.length; i++) {\n                    restoreMethod(fromList[i], 'updateTransform');\n                }\n                oldDone && oldDone();\n            }\n        }, animationOpts));\n    }\n    if (toPath.__zr) {\n        addToSubPathListToZr(toPath.__zr);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toSubPathList,\n        count: toLen\n    };\n}\nexport function separateMorph(fromPath, toPathList, animationOpts) {\n    var toLen = toPathList.length;\n    var fromPathList = [];\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    if (isCombineMorphing(fromPath)) {\n        addFromPath(fromPath.childrenRef());\n        var fromLen = fromPathList.length;\n        if (fromLen < toLen) {\n            var k = 0;\n            for (var i = fromLen; i < toLen; i++) {\n                fromPathList.push(clonePath(fromPathList[k++ % fromLen]));\n            }\n        }\n        fromPathList.length = toLen;\n    }\n    else {\n        fromPathList = dividePath({ path: fromPath, count: toLen });\n        var fromPathTransform = fromPath.getComputedTransform();\n        for (var i = 0; i < fromPathList.length; i++) {\n            fromPathList[i].setLocalTransform(fromPathTransform);\n        }\n        if (fromPathList.length !== toLen) {\n            console.error('Invalid morphing: unmatched splitted path');\n            return createEmptyReturn();\n        }\n    }\n    fromPathList = sortPaths(fromPathList);\n    toPathList = sortPaths(toPathList);\n    var individualDelay = animationOpts.individualDelay;\n    for (var i = 0; i < toLen; i++) {\n        var indivdualAnimationOpts = individualDelay ? defaults({\n            delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toPathList[i])\n        }, animationOpts) : animationOpts;\n        morphPath(fromPathList[i], toPathList[i], indivdualAnimationOpts);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toPathList,\n        count: toPathList.length\n    };\n}\nexport { split as defaultDividePath };\n"],"names":["extendStatics","d","b","p","__extends","__","Browser","Env","env","detect","ua","browser","firefox","ie","edge","weChat","domSupported","style","DEFAULT_FONT_SIZE","DEFAULT_FONT_FAMILY","DEFAULT_FONT","OFFSET","SCALE","defaultWidthMapStr","getTextWidthMap","mapStr","map","i","char","size","DEFAULT_TEXT_WIDTH_MAP","platformApi","_ctx","_cachedFont","text","font","canvas","res","fontSize","width","preCalcWidth","src","onload","onerror","image","BUILTIN_OBJECT","reduce","obj","val","TYPED_ARRAY","objToString","arrayProto","nativeForEach","nativeFilter","nativeSlice","nativeMap","ctorFunction","protoFunction","protoKey","idStart","guid","logError","args","_i","clone","source","result","typeStr","isPrimitive","len","Ctor","isDom","key","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","defaults","overlay","keysArr","keys","indexOf","array","value","inherits","clazz","baseClazz","clazzPrototype","F","prop","mixin","override","keyList","isArrayLike","data","each","arr","cb","context","slice","memo","filter","find","bindPolyfill","func","bind","isFunction","curry","isString","isStringSafe","isNumber","type","isTypedArray","isGradientObject","isImagePatternObject","isRegExp","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","message","trim","str","primitiveKey","setAsPrimitive","MapPolyfill","existed","callback","isNativeMapSupported","maybeNativeMap","HashMap","isArr","thisMap","visit","createHashMap","concatArray","a","newArray","offset","createObject","proto","properties","StyleCtor","disableUserSelect","dom","domStyle","hasOwn","own","noop","RADIAN_TO_DEGREE","create","x","y","copy","out","v","set","add","v1","v2","scaleAndAdd","sub","lenSquare","scale","s","normalize","distance","dist","distanceSquare","distSquare","lerp","t","applyTransform","m","min","max","Param","Draggable","handler","e","draggingTarget","dx","dy","dropTarget","lastDropTarget","Eventful","eventProcessors","event","query","_h","eventProcessor","wrap","lastIndex","lastWrap","eventName","eventType","newList","l","argLen","hItem","ctx","LN2","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","sum","j","colLocalIdx","colTag","buildTransformer","dest","mA","det","vh","srcPointX","srcPointY","pk","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","transformLocalCoordClear","dealClear","el","saved","inverse","isCanvasEl","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","marker","stl","idxLR","idxTB","transformerName","oldSrcCoords","srcCoords","destCoords","oldCoordTheSame","rect","ii","replaceReg","replaceMap","encodeHTML","c","MOUSE_EVENT_REG","firefoxNotSupportOffsetXY","clientToLocal","calculate","calculateZrXY","ex","ey","box","getNativeEvent","normalizeEvent","isTouch","touch","wheelDelta","getWheelDeltaMayPolyfill","button","rawWheelDelta","deltaX","deltaY","delta","sign","addEventListener","name","opt","removeEventListener","stop","isMiddleOrRightButtonOnMouseUpDown","GestureMgr","root","touches","trackItem","pos","eventUtil.clientToLocal","recognizers","gestureInfo","pointPair","center","tracks","trackLen","pinchEnd","pinchPre","pinchScale","pinchCenter","identity","mul","m1","m2","out0","out1","out2","out3","out4","out5","translate","rotate","rad","pivot","aa","ac","atx","ab","ad","aty","st","ct","vx","vy","invert","Point","other","scalar","input","p2","p0","p1","onet","mathMin","mathMax","mathAbs","XY","WH","lt","rb","lb","rt","_intersectCtx","createIntersectContext","_minTv","_maxTv","_lenMinMax","BoundingRect","height","sx","sy","matrix.create","matrix.translate","matrix.scale","mtv","outIntersectRect","clamp","_tmpIntersectA","_tmpIntersectB","useMTV","touchThreshold","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","overlap","intersectOneDim","tx","ty","maxX","maxY","a0","a1","b0","b1","updateDimIdx","d0","d1","d01min","updateDim","zeroDim","wh","_direction","_dirCheckVec","_dirTmp","minTv","dirMinTv","squareMag","dirSin","dirCos","dotProd","nearZero","SILENT","makeEventPacket","eveType","targetInfo","stopEvent","eventTool.stop","EmptyProxy","_super","_this","HoveredResult","handlerNames","tmpRect","Handler","storage","painter","proxy","painterRoot","pointerSize","util.each","isOutside","isOutsideBoundary","lastHovered","lastHoveredTarget","hovered","hoveredTarget","eventControl","eventArgs","cursorStyle","eventKey","eventPacket","layer","exclude","list","setHoverTarget","candidates","targetSizeHalf","pointerRect","rStep","thetaStep","PI2","r","theta","x1","y1","stage","gestureMgr","vec2.dist","isHover","displayable","isSilent","ignoreClip","clipPath","hostEl","hoverCheckResult","handlerInstance","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","n","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","start","left","right","mid","gallopLeft","length","hint","lastOffset","maxOffset","tmp","gallopRight","TimSort","minGallop","runStart","runLength","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","k","mergeLow","mergeHigh","cursor1","cursor2","_minGallop","count1","count2","exit","customCursor","customDest","sort","remaining","ts","minRun","force","REDRAW_BIT","STYLE_CHANGED_BIT","SHAPE_CHANGED_BIT","invalidZErrorLogged","logInvalidZError","shapeCompareFunc","Storage","update","includeIgnore","displayList","roots","timsort","parentClipPaths","userSetClipPath","parentHasClipPaths","clipPathIdx","thisClipPaths","idx","currentClipPath","parentClipPath","children","child","disp","decalEl","textGuide","textEl","util.indexOf","requestAnimationFrame","easingFuncs","mathPow","mathSqrt","EPSILON","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","v2Create","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p3","cubicDerivativeAt","cubicRootAt","A","B","C","t1","disc","K","t2","discSqrt","Y1","Y2","T","ASqrt","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x2","y2","x3","y3","interval","prev","next","d2","_t","v2DistSquare","cubicLength","iteration","px","py","step","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","quadraticLength","regexp","createCubicEasingFunc","cubicEasingStr","cubic","points","a_1","b_1","c_1","d_1","roots_1","Clip","opts","globalTime","deltaTime","life","elapsedTime","percent","easingFunc","schedule","remainder","easing","Entry","LinkedList","entry","LRU","maxSize","removed","leastUsedEntry","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","f","parseCssInt","parseCssFloat","cssHueToRgb","h","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","parse","cached","strLen","iv","op","ep","fname","params","alpha","hsla2rgba","hsla","rgba","rgba2hsla","R","G","vMin","vMax","L","H","S","deltaR","deltaG","deltaB","lift","color","level","colorArr","stringify","fastLerp","normalizedValue","colors","leftIndex","rightIndex","leftColor","rightColor","dv","fullOutput","modifyHSL","modifyAlpha","arrColor","lum","backgroundLum","liftedColorCache","liftColor","liftedColor","ret","mathRound","normalizeColor","opacity","transform","round3","round4","getMatrixStr","TEXT_ALIGN_TO_ANCHOR","adjustTextY","lineHeight","textBaseline","hasShadow","getShadowKey","globalScale","isImagePattern","isSVGPattern","isPattern","isLinearGradient","isRadialGradient","isGradient","getIdURL","id","getPathPrecision","getSRTTransformString","rotation","scaleX","scaleY","skewX","skewY","encodeBase64","arraySlice","interpolateNumber","interpolate1DArray","interpolate2DArray","len2","add1DArray","add2DArray","fillColorStops","val0","val1","len0","len1","shorterArr","shorterLen","last","fillArray","arrDim","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","cloneValue","rgba2String","guessArrayDim","VALUE_TYPE_NUMBER","VALUE_TYPE_1D_ARRAY","VALUE_TYPE_2D_ARRAY","VALUE_TYPE_COLOR","VALUE_TYPE_LINEAR_GRADIENT","VALUE_TYPE_RADIAL_GRADIENT","VALUE_TYPE_UNKOWN","isGradientValueType","valType","isArrayValueType","tmpRgba","Track","propName","time","rawValue","keyframes","discrete","arrayDim","colorArray","color.parse","parsedGradient","colorStop","kf","maxTime","additiveTrack","kfs","kfsLen","lastKf","isDiscrete","lastValue","startValue","isAdditive","valueKey","kfsNum","isValueColor","frameIdx","lastFrame","frame","nextFrame","w","targetArr","nextVal_1","isLinearGradient_1","nextColorStop","additiveValue","Animator","loop","allowDiscreteAnimation","additiveTo","props","propNames","track","initialValue","addtiveTrackKfs","lastFinalKf","duration","doneList","animation","abortedList","tracksKeys","trackName","additiveAnimators","self","clip","stillHasAdditiveAnimator","onframeList","forwardToLast","allAborted","trackKeys","firstOrLast","finalProps","getTime","Animation","animator","notTriggerFrameAndStageUpdate","nextClip","finished","options","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerHandlerNames","zrUtil.map","nm","globalNativeListenerNames","wheelEventSupported","isPointerFromTouch","pointerType","setTouchTimer","scope","markTouch","normalizeGlobalEvent","instance","FakeGlobalEvent","isLocalEl","elTmp","isLocal","zrUtil.noop","localDOMHandlers","downPoint","element","zrUtil.each","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","listener","unmountDOMEventListeners","mounted","DOMHandlerScope","domTarget","HandlerDomProxy","isPointerCapturing","globalHandlerScope","dpr","devicePixelRatio","DARK_MODE_THRESHOLD","DARK_LABEL_COLOR","LIGHT_LABEL_COLOR","LIGHTER_LABEL_COLOR","mIdentity","matrix.identity","scaleTmp","tmpTransform","originTransform","abs","Transformable","parentTransform","needLocalTransform","matrix.mul","matrix.copy","globalScaleRatio","relX","relY","matrix.invert","transformNode","ancestors","shearX","parent","ox","oy","invTransform","vector.applyTransform","copyTransform","ax","ay","matrix.rotate","TRANSFORMABLE_PROPS","ensureFontMeasureInfo","_fontMeasureInfoCache","measureInfo","tryCreateASCIIWidthMap","_getASCIIWidthMapLongCount","GET_ASCII_WIDTH_LONG_COUNT_MAX","asciiWidthMap","code","cost","measureCharWidth","fontMeasureInfo","charCode","measureWidth","strWidthCache","innerGetBoundingRect","textAlign","getLineHeight","adjustTextX","getBoundingRect","textLines","uniondRect","verticalAlign","parsePercent","maxValue","calculateTextPosition","textPosition","halfHeight","textVerticalAlign","PRESERVED_NORMAL_STATE","PRIMARY_STATES_KEYS","DEFAULT_ANIMATABLE_MAP","tmpTextPosCalcRes","tmpBoundingRect","tmpInnerTextTrans","Element","forceUpdate","textConfig","innerTransformable","textStyleChanged","innerOrigin","hasPosition","autoOverflowArea","layoutRect","textOrigin","relOriginX","relOriginY","textOffset","innerTextDefaultStyle","overflowRect","isInside","textFill","textStroke","autoStroke","backgroundColor","isDark","keyOrObj","toState","normalState","fromStateTransition","targetName","primaryKeys","states","noAnimation","stateName","keepCurrentStates","forceUseHoverLayer","toNormalState","hasStates","currentStates","animationCfg","state","useHoverLayer","textContent","stateObjects","notChange","stateObj","lastStateObj","mergedState","oldState","newState","forceAdd","newStateExists","enable","mergedTextConfig","transition","needsRestoreToNormal","transitionTarget","hasTransition","propNeedsTransition","componentEl","zr","previousTextContent","cfg","guideLine","inHover","animators","leftAnimators","animationProps","animateTo","elProto","createLegacyProperty","privateKey","xKey","yKey","enhanceArray","animatable","reverse","animateToShallow","finishCount","doneHappened","cfgDone","cfgAborted","doneCb","abortedCb","copyArrShallow","is2DArray","copyValue","sourceArr","isValueSame","val2","is1DArraySame","topKey","animateObj","targetKeys","delay","additive","setToFinal","animateAll","existsAnimators","animationKeys","innerKey","targetVal","keyLen","revertedSource","reversedTarget","sourceClone","Group","nextSibling","oldChild","newChild","zrUtil.indexOf","index","old","stopped","includeChildren","tmpMat","childRect","painterCtors","instances","delInstance","isDarkMode","colorStops","totalLum","ZRender","rendererType","zrUtil.keys","ssrMode","handlerProxy","HandlerProxy","useCoarsePointer","usePointerSize","defaultPointerSize","zrUtil.retrieve2","zLevel","config","darkMode","fromInside","triggerRendered","end","stillFramesCount","eventHandler","init","zrUtil.guid","registerPainter","ssrDataGetter","getElementSSRData","registerSSRDataGetter","getter","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","cbPayload","pendingWrap","isImageReady","imageOnLoad","STYLE_REG","truncateText2","containerWidth","ellipsis","prepareTruncateOptions","isTruncated","truncateOut","truncateSingleLine","preparedOpts","minChar","ascCharWidth","contentWidth","ellipsisWidth","textLine","lineWidth","subLength","estimateLength","parsePlainText","rawText","defaultOuterWidth","defaultOuterHeight","formatText","overflow","padding","paddingH","paddingV","truncate","calculatedLineHeight","truncateLineOverflow","lines","wrapText","contentHeight","lineCount","singleOut","outerHeight","outerWidth","RichTextToken","RichTextLine","tokens","RichTextContentBlock","parseRichText","topTextAlign","contentBlock","stlPadding","stlPaddingH","stlPaddingV","topWidth","topHeight","wrapInfo","matchedIndex","pushTokens","pendingList","calculatedHeight","calculatedWidth","truncateLine","tmpTruncateOut","finishLine","line","outer","token","tokenStyle","textPadding","tokenHeight","originalLength","styleTokenWidth","tokenWidthNotSpecified","textBackgroundColor","bgImg","imageHelper.findExistImage","imageHelper.isImageReady","remainTruncWidth","percentWidth","block","styleName","isEmptyStr","newLine","strLines","linesWidths","tokenPadding","tokenPaddingH","outerWidth_1","tokensLen","isAlphabeticLetter","ch","breakCharMap","isWordBreakChar","isBreakAll","lastAccumWidth","currentWord","currentWordWidth","accumWidth","chWidth","inWord","calcInnerTextOverflowArea","baseX","baseY","textWidth","textHeight","tmpCITCTextRect","tmpCITCIntersectRectOpt","tSpanCreateBoundingRect","tSpanCreateBoundingRect2","forceLineWidth","tSpanHasStroke","stroke","STYLE_MAGIC_KEY","DEFAULT_COMMON_STYLE","DEFAULT_COMMON_ANIMATION_PROPS","PRIMARY_STATES_KEYS_IN_HOVER_LAYER","Displayable","viewWidth","viewHeight","considerClipPath","considerAncestors","isDisplayableCulled","parent_1","coord","elRect","shadowSize","shadowOffsetX","shadowOffsetY","tolerance","paintRect","targetKey","notRedraw","targetStyle","sourceStyle","changedKeys","statesKeys","mergedStyle","dispProto","viewRect","mathSin","mathCos","vec2.create","extremity","fromPoints","top","bottom","fromLine","xDim","yDim","fromCubic","curve.cubicExtrema","curve.cubicAt","fromQuadratic","curve.quadraticExtremum","curve.quadraticAt","fromArc","rx","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2.min","vec2Max","vec2.max","diff","angle","CMD","tmpOutX","tmpOutY","min2","max2","PI","hasTypedArray","tmpAngles","modPI2","radian","normalizeArcAngles","angles","newStartAngle","newEndAngle","PathProxy","notSaveData","segmentIgnoreThreshold","exceedUnit","cx","cy","radius","path","appendSize","oldData","appendPathData","cmd","newData","xi","yi","isFirst","ux","uy","pathSegLen","pathTotalLen","segCount","drawPart","accumLength","displayedLength","pendingPtDist","pendingPtX","pendingPtY","psi","isEllipse","breakBuild","newProxy","containStroke","_l","_a","_b","_s","curve.cubicProjectPoint","normalizeRadian","windingLine","dir","x_","isAroundEqual","swapExtrema","windingCubic","nRoots","curve.cubicRootAt","nExtrema","y0_","y1_","unit","windingQuadratic","curve.quadraticRootAt","y_","windingArc","dTheta","tmp_1","containPath","isStroke","line.containStroke","cubic.containStroke","quadratic.containStroke","_x","arc.containStroke","contain","pathProxy","DEFAULT_PATH_STYLE","DEFAULT_PATH_ANIMATION_PROPS","pathCopyParams","Path","decalElStyle","defaultStyle","pathFill","fillLum","isDarkLabel","shapeCfg","inBatch","fill","needsUpdateRect","firstInvoke","rectStroke","lineScale","strokeContainThreshold","localPos","pathContain.containStroke","pathContain.contain","shape","targetShape","targetShapePrimaryProps","shapeKeys","mergedShape","defaultProps","Sub","pathProto","DEFAULT_TSPAN_STYLE","TSpan","tspanProto","DEFAULT_IMAGE_STYLE","DEFAULT_IMAGE_ANIMATION_PROPS","isImageLike","ZRImage","dim","imageSource","otherDim","otherDimSize","buildPath","r1","r2","r3","r4","total","round","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimize","subPixelOptimizeRect","originX","originY","originWidth","originHeight","position","positiveOrNegative","doubledPosition","RectShape","subPixelOptimizeOutputShape","Rect","optimizedShape","roundRectHelper.buildPath","DEFAULT_RICH_TEXT_COLOR","DEFAULT_STROKE_LINE_WIDTH","tmpCITOverflowAreaOut","DEFAULT_TEXT_ANIMATION_PROPS","ZRText","normalizeTextStyle","defaultTextStyle","sourceRich","targetRich","richNames","richName","textFont","getStyleText","needDrawBg","needDrawBackground","bgColorDrawn","textX","textY","boxX","boxY","getTextXForPadding","defaultLineWidth","usingDefaultStroke","useDefaultFill","getFill","getStroke","subElStyle","setSeparateFont","xLeft","lineTop","xRight","tokenCount","remainedWidth","lineXLeft","lineXRight","parentBgColorDrawn","topStyle","textBorderWidth","textBorderColor","isImageBg","isPlainOrGradientBg","textBorderRadius","rectEl","imgEl","rectShape","rectStyle","imgStyle","commonStyle","hasSeparateFont","parseFontSize","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","FONT_PARTS","fontProp","normalizeStyle","mathAtan2","transformPath","nPoint","M","Q","v2ApplyTransform","p_1","vMag","vRatio","u","vAngle","processArc","fa","fs","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","createPathProxyFromString","cpx","cpy","subpathX","subpathY","prevCmd","cmdList","cmdText","cmdStr","pLen","off","ctlPtx","ctlPty","pathData","SVGPath","isPathProxy","createPathOptions","innerOpts","beProxy","createFromString","extendFromString","defaultOpts","mergePath","pathEls","pathList","pathEl","pathBundle","clonePath","sourcePath","CircleShape","Circle","EllipseShape","Ellipse","mathACos","mathATan2","intersect","dx10","dy10","dx32","dy32","computeCornerTangents","cr","clockwise","x01","y01","x11","y11","x10","y10","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","normalizeCornerRadius","innerRadius","hasRadius","hasInnerRadius","arc","mod","icrStart","icrEnd","ocrStart","ocrEnd","ocrs","ocre","icrs","icre","ocrMax","icrMax","limitedOcrMax","limitedIcrMax","xre","yre","xirs","yirs","xrs","yrs","xire","yire","hasArc","cornerRadius","halfRd","it_1","crStart","crEnd","ct0","ct1","SectorShape","Sector","roundSectorHelper.buildPath","RingShape","Ring","smoothBezier","smooth","isLoop","constraint","cps","prevPoint","nextPoint","v2Min","v2Max","point","v2Clone","v2Sub","v2Scale","v2Distance","cp0","v2Add","cp1","closePath","controlPoints","cp2","PolygonShape","Polygon","polyHelper.buildPath","PolylineShape","Polyline","LineShape","Line","BezierCurveShape","someVectorAt","isTangent","cpx2","cpy2","BezierCurve","cpx1","cpy1","vec2.normalize","ArcShape","Arc","unitX","unitY","CompoundPath","paths","dirtyPath","Gradient","LinearGradient","globalCoord","RadialGradient","_extent","_extent2","OrientedBoundingRect","corners","axes","overlapped","noMtv","axis","dist0","dist1","origin","proj","proj_1","IncrementalDisplayable","notPersistent","displayables","Displayble","wmUniqueIndex","supportDefineProperty","WeakMap","isSafeNum","num","createLinearGradient","canvasGradient","createRadialGradient","getCanvasGradient","isClipPathChanged","clipPaths","prevClipPaths","parseInt10","getSize","whIdx","cwh","plt","prb","normalizeLineDash","lineType","getLineDash","lineDash","lineDashOffset","lineScale_1","rawVal","pathProxyForDraw","styleHasStroke","isValidStrokeFillStyle","strokeOrFill","styleHasFill","doFillPath","originalGlobalAlpha","doStrokePath","createCanvasPattern","pattern","canvasPattern","matrix","brushPath","hasStroke","hasFill","strokePercent","strokePart","firstDraw","dirtyFlag","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","fillGradient","strokeGradient","fillPattern","strokePattern","needsRebuild","brushImage","aspect","sWidth","sHeight","brushText","SHADOW_NUMBER_PROPS","STROKE_PROPS","bindCommonProps","prevStyle","forceSetAll","styleChanged","flushPathDrawn","bindPathAndTextCommonStyle","prevEl","getStyle","newLineWidth","bindImageStyle","setContextTransform","updateClipStatus","allClipped","isTransformChanged","m0","DRAW_TYPE_PATH","DRAW_TYPE_IMAGE","DRAW_TYPE_TEXT","DRAW_TYPE_INCREMENTAL","canPathBatch","brushSingle","brush","isLast","prevElClipPaths","forceSetTransform","forceSetStyle","canBatchPath","brushIncremental","temporalDisplayables","innerScope","i_1","len_1","degree","SVGPathRebuilder","precision","dThetaPositive","isCircle","unifiedTheta","large","xRot","dTheta_1","vals","NONE","pathHasFill","pathHasStroke","strokeProps","svgStrokeProps","mapStyleToAttrs","updateAttr","fillOpacity","strokeScale","strokeWidth","strokeOpacity","strokeFirst","SVGNS","XLINKNS","XMLNS","XML_NAMESPACE","META_DATA_PREFIX","createElement","createVNode","tag","attrs","createElementOpen","attrsStr","part","createElementClose","vNodeToString","convertElToString","getCssString","selectorNodes","animationNodes","bracketBegin","bracketEnd","selectors","className","attrName","animations","animationName","createBrushScope","zrId","createSVGVNode","useViewBox","cssClassIdx","getClassId","EASING_MAP","transformOriginKey","buildPathString","kfShape","svgPathBuilder","setTransformOrigin","ANIMATE_STYLE_MAP","addAnimation","cssAnim","createCompoundPathCSSAnimation","composedAnim","cssAnimationCfg","cssAnimationName","subScope","createCSSAnimation","cssAnims","cssNodes","animNames","lastAnim","getEasingFunc","onlyShape","cssAnimations","groupAnimators","cfgArr","createSingleCSSAnimation","groupAnimator","transformKfs","shapeKfs","finalKfs","animationTimingFunctionAttrName","saveAnimatorTrackToCssKfs","cssKfs","toCssAttrName","kfEasing","timingFunction","canAnimateShape","newLen","percents","allTransformOriginSame","transformOrigin","createCSSEmphasis","setClassAttribute","emphasisStyle","normalFill","selectFill","fromFill","withHover","styleKey","isCanvasLike","setStyleAttrs","isFillStroke","setGradient","setPattern","setShadow","setMetaData","metaData","noRotateScale","noTranslate","setTransform","compress","convertPolyShape","strArr","validatePolyShape","createAttrsConvert","desc","normalizedDesc","item","builtinShapesDef","hasShapeAnimation","brushSVGPath","builtinShpDef","needsAnimate","svgElType","needBuildPath","pathVersion","elExt","brushSVGImage","dw","dh","brushSVGTSpan","separatedFontStr","fontStyle","fontFamily","fontWeight","shadowKey","shadowCache","shadowId","offsetX","offsetY","blur_1","stdDx","stdDy","stdDeviation","gradientTag","gradientAttrs","stopColor","stopsAttrs","gradientVNode","gradientKey","gradientCache","gradientId","boundingRect","patternAttrs","repeat","noRepeat","repeatX","repeatY","imageWidth_1","imageHeight_1","imageSrc","patternImage","errMsg","setSizeToVNode_1","vNode","img","svgEl","createdImage","patternVNode","patternWidth","patternHeight","patternTransform","patternKey","patternCache","patternId","setClipPath","clipPathCache","defs","clipPathId","clipPathAttrs","createTextNode","insertBefore","parentNode","newNode","referenceNode","removeChild","node","appendChild","setTextContent","colonChar","xChar","emptyNode","isUndef","isDef","createKeyToOldIdx","beginIdx","endIdx","sameVnode","vnode1","vnode2","isSameKey","isSameTag","createElm","vnode","elm","updateAttrs","api.appendChild","api.createTextNode","addVnodes","parentElm","before","vnodes","startIdx","api.insertBefore","removeVnodes","api.parentNode","api.removeChild","oldVnode","oldAttrs","cur","updateChildren","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","patchVnode","api.nextSibling","api.setTextContent","patch","parent_2","svgId","SVGPainter","createMethodNotSupport","viewport","svgDom","viewportRoot","bgVNode","createBackgroundVNode","mainVNode","animationCssStr","styleNode","listLen","clipPathsGroupsStack","clipPathsGroupsStackDepth","currentClipPathGroup","clipGroupNodeIdx","prevLen","lca","i_2","groupAttrs","viewportStyle","bgEl","base64","prefix","method","createDom","newDom","newDomStyle","Layer","util.isObject","util.disableUserSelect","prevList","mergedRepaintRects","maxRepaintRectCount","full","pendingRect","addRectToMergePool","isMerged","minDeltaArea","bestRectToMergeIdx","mergedRect","pendingRect_1","aArea","bArea","pendingArea","deltaArea","shouldPaint","prevRect","curRect","hasIntersections","domBack","clearAll","clearColor","repaintRects","haveMotionBLur","lastFrameAlpha","doClear","clearColorGradientOrPattern","util.isGradientObject","shouldCache","util.isImagePatternObject","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","INCREMENTAL_INC","isLayerValid","createRoot","domRoot","CanvasPainter","singleCanvas","util.extend","rootStyle","zlevelList","layers","rootCanvas","mainLayer","paintAll","z","hoverLayer","redrawId","needsRefreshHover","self_1","layerList","useDirtyRect","zi","zlevel","_loop_1","this_1","useTimer","startTime","firstEl","repaint","repaintRect","dTime","currentLayer","virtual","util.merge","layersMap","prevLayer","prevDom","updatePrevLayer","incrementalLayerCount","prevZlevel","util.logError","layerConfig","_zlevel","imageLayer","width_1","height_1","parseXML","svg","parser","svgNode","nodeParsers","INHERITABLE_STYLE_ATTRIBUTES_MAP","INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS","SELF_STYLE_ATTRIBUTES_MAP","SELF_STYLE_ATTRIBUTES_MAP_KEYS","SVGParser","xml","named","viewBox","parseAttributes","applyDefs","viewBoxRect","viewBoxTransform","viewBoxArr","splitNumberSequence","makeViewBoxTransform","elRoot","xmlNode","parentGroup","namedFrom","isInDefs","isInText","nodeName","namedFromForSub","parser_1","nameAttr","newNamed","paintServerParsers","def","inheritStyle","applyTextAlignment","textStyle","circle","ellipse","pointsStr","pointsArr","parsePoints","polygon","polyline","gradient","parsePaintServerUnit","parseGradientColorStops","gradientUnits","offsetStr","styleVals","parseInlineStyle","stopOpacity","colorTool.parse","stopColorOpacity","colorTool.parseCssFloat","colorTool.stringify","pointsString","defsUsePending","onlyInlineStyle","isTextGroup","inheritedStyle","selfStyle","parseTransformAttribute","parseAttributeStyle","getFillStrokeStyle","parentSelfStyle","zrTextBaseline","parentInheritedStyle","zrTextAlign","urlRegex","urlMatch","url","rawStr","transformRegex","DEGREE_TO_ANGLE","transformOps_1","mt","valueArr","styleRegex","inheritableStyleResult","selfStyleResult","styleRegResult","svgStlAttr","zrInheritableStlAttr","zrSelfStlAttr","svgAttrName","attrValue","parseSVG","aroundEqual","pathToBezierCurves","bezierArrayGroups","currentSubpath","createNewSubpath","addLine","addArc","c1","s1","c2","s2","x4","y4","hx","hy","nextAngle","adpativeBezier","PIXEL_DISTANCE","PIXEL_DISTANCE_SQR","dx2","dy2","cp1LenSqr","cp2LenSqr","projLen1","projLen2","d1Sqr","d2Sqr","tmpSegX","tmpSegY","pathToPolygons","polygons","beziers","getDividingGrids","dimSize","rowDim","count","rowSize","columnSize","ratio","rowCount","columnCount","grids","currentCount","remained","divideSector","sectorShape","outShapes","r0","arcLen","isAngleRow","row","column","newShape","divideRect","isHorizontalRow","rowSizeDim","columnSizeDim","columnDim","crossProduct2d","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","b1a1x","b1a1y","projPtOnLine","pt","lineA","lineB","dir2","addToPoly","poly","splitPolygonByLine","intersections","intersectionPt","splitPt0","splitPt1","splitPt0Arr","splitPt1Arr","newPolyA","newPolyB","binaryDividePolygon","polygonShape","pt0","pt1","binaryDivideRecursive","copyPathProps","polygonConvert","split","OutShapeCtor","polygonCount","totalArea_1","items","area","selfCount","subPath","alignSubpath","subpath1","subpath2","shorterPath","shorterBezierCount","eachCurveSubDivCount","newSubpath","actualSubDivCount","createSubpath","lastSubpathSubpath","otherSubpath","lastX","lastY","alignBezierCurves","array1","array2","lastSubpath1","lastSubpath2","newArray1","newArray2","newSubpath1","newSubpath2","centroid","signedArea","findBestRingOffset","fromSubBeziers","toSubBeziers","fromCp","toCp","bezierCount","bestScore","bestOffset","cursorOffset","score","newArr","findBestMorphingRotation","fromArr","toArr","searchAngleIteration","searchAngleRange","fromNeedsReverse","fromSubpathBezier","toSubpathBezier","newFromSubpathBezier","newToSubpathBezier","bestAngle","tmpArr","sa","ca","newX1","newY1","isCombineMorphing","SAVED_METHOD_PREFIX","saveAndModifyMethod","methodName","modifiers","savedMethodName","originalMethod","replace","after","restoreMethod","applyTransformOnBeziers","bezierCurves","mm","subBeziers","prepareMorphPath","fromPath","toPath","fromPathProxy","toPathProxy","fromBezierCurves","toBezierCurves","fromPathTransform","toPathTransform","updateIdentityTransform","morphingData","newCp","from","to","x0_1","y0_1","morphPath","animationOpts","oldDone","oldDuring","restoreToPath","hilbert","minX","minY","bits","sortPaths","xMin","yMin","xMax","yMax","cp","defaultDividePath","param","createEmptyReturn","combineMorph","fromList","fromPathList","addFromPath","separateCount","dividePath","toSubPathList","individualDelay","identityTransform","addToSubPathListToZr","toLen","animating_1","eachDone","indivdualAnimationOpts","separateMorph","toPathList","fromLen"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95]}